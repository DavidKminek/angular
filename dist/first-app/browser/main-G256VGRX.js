var OP=Object.defineProperty,FP=Object.defineProperties;var LP=Object.getOwnPropertyDescriptors;var pl=Object.getOwnPropertySymbols;var _D=Object.prototype.hasOwnProperty,ED=Object.prototype.propertyIsEnumerable;var vD=(n,e,t)=>e in n?OP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,R=(n,e)=>{for(var t in e||={})_D.call(e,t)&&vD(n,t,e[t]);if(pl)for(var t of pl(e))ED.call(e,t)&&vD(n,t,e[t]);return n},W=(n,e)=>FP(n,LP(e));var Zp=(n,e)=>{var t={};for(var r in n)_D.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&pl)for(var r of pl(n))e.indexOf(r)<0&&ED.call(n,r)&&(t[r]=n[r]);return t};var w=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var bt=null,gl=!1,ng=1,VP=null,kt=Symbol("SIGNAL");function J(n){let e=bt;return bt=n,e}function yl(){return bt}var nc={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rc(n){if(gl)throw new Error("");if(bt===null)return;bt.consumerOnSignalRead(n);let e=bt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=bt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:bt.producers,t!==void 0&&t.producer===n)){bt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===bt&&(!r||UP(i,bt)))return;let o=as(bt),s={producer:n,consumer:bt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};bt.producersTail=s,e!==void 0?e.nextProducer=s:bt.producers=s,o&&CD(n,s)}function ID(){ng++}function rg(n){if(!(as(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ng)){if(!n.producerMustRecompute(n)&&!_l(n)){tg(n);return}n.producerRecomputeValue(n),tg(n)}}function ig(n){if(n.consumers===void 0)return;let e=gl;gl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||jP(r)}}finally{gl=e}}function og(){return bt?.consumerAllowSignalWrites!==!1}function jP(n){n.dirty=!0,ig(n),n.consumerMarkedDirty?.(n)}function tg(n){n.dirty=!1,n.lastCleanEpoch=ng}function ic(n){return n&&wD(n),J(n)}function wD(n){n.producersTail=void 0,n.recomputing=!0}function vl(n,e){J(e),n&&DD(n)}function DD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(as(n))do t=sg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function _l(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(rg(t),r!==t.version))return!0}return!1}function oc(n){if(as(n)){let e=n.producers;for(;e!==void 0;)e=sg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function CD(n,e){let t=n.consumersTail,r=as(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)CD(i.producer,i)}function sg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!as(e)){let o=e.producers;for(;o!==void 0;)o=sg(o)}return t}function as(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ag(n){VP?.(n)}function UP(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function cg(n,e){return Object.is(n,e)}function El(n,e){let t=Object.create(BP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(rg(t),rc(t),t.value===ml)throw t.error;return t.value};return r[kt]=t,ag(t),r}var Xp=Symbol("UNSET"),eg=Symbol("COMPUTING"),ml=Symbol("ERRORED"),BP=W(R({},nc),{value:Xp,dirty:!0,error:null,equal:cg,kind:"computed",producerMustRecompute(n){return n.value===Xp||n.value===eg},producerRecomputeValue(n){if(n.value===eg)throw new Error("");let e=n.value;n.value=eg;let t=ic(n),r,i=!1;try{r=n.computation(),J(null),i=e!==Xp&&e!==ml&&r!==ml&&n.equal(e,r)}catch(o){r=ml,n.error=o}finally{vl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function $P(){throw new Error}var TD=$P;function bD(n){TD(n)}function ug(n){TD=n}var HP=null;function lg(n,e){let t=Object.create(Il);t.value=n,e!==void 0&&(t.equal=e);let r=()=>SD(t);return r[kt]=t,ag(t),[r,s=>sc(t,s),s=>AD(t,s)]}function SD(n){return rc(n),n.value}function sc(n,e){og()||bD(n),n.equal(n.value,e)||(n.value=e,qP(n))}function AD(n,e){og()||bD(n),sc(n,e(n.value))}var Il=W(R({},nc),{equal:cg,value:void 0,kind:"signal"});function qP(n){n.version++,ID(),ig(n),HP?.(n)}function dg(n){let e=J(null);try{return n()}finally{J(e)}}function ne(n){return typeof n=="function"}function cs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wl=cs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Hi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof wl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RD(o)}catch(s){e=e??[],s instanceof wl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)RD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Hi(t,e)}remove(e){let{_finalizers:t}=this;t&&Hi(t,e),e instanceof n&&e._removeParent(this)}};ze.EMPTY=(()=>{let n=new ze;return n.closed=!0,n})();var hg=ze.EMPTY;function Dl(n){return n instanceof ze||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function RD(n){ne(n)?n():n.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var us={setTimeout(n,e,...t){let{delegate:r}=us;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=us;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cl(n){us.setTimeout(()=>{let{onUnhandledError:e}=Dn;if(e)e(n);else throw n})}function ac(){}var ND=fg("C",void 0,void 0);function MD(n){return fg("E",void 0,n)}function PD(n){return fg("N",n,void 0)}function fg(n,e,t){return{kind:n,value:e,error:t}}var qi=null;function ls(n){if(Dn.useDeprecatedSynchronousErrorHandling){let e=!qi;if(e&&(qi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=qi;if(qi=null,t)throw r}}else n()}function xD(n){Dn.useDeprecatedSynchronousErrorHandling&&qi&&(qi.errorThrown=!0,qi.error=n)}var zi=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dl(e)&&e.add(this)):this.destination=WP}static create(e,t,r){return new ds(e,t,r)}next(e){this.isStopped?gg(PD(e),this):this._next(e)}error(e){this.isStopped?gg(MD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gg(ND,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zP=Function.prototype.bind;function pg(n,e){return zP.call(n,e)}var mg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Tl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Tl(r)}else Tl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Tl(t)}}},ds=class extends zi{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Dn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pg(e.next,o),error:e.error&&pg(e.error,o),complete:e.complete&&pg(e.complete,o)}):i=e}this.destination=new mg(i)}};function Tl(n){Dn.useDeprecatedSynchronousErrorHandling?xD(n):Cl(n)}function GP(n){throw n}function gg(n,e){let{onStoppedNotification:t}=Dn;t&&us.setTimeout(()=>t(n,e))}var WP={closed:!0,next:ac,error:GP,complete:ac};var hs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Cn(n){return n}function bl(...n){return yg(n)}function yg(n){return n.length===0?Cn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=QP(t)?t:new ds(t,r,i);return ls(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=kD(r),new r((i,o)=>{let s=new ds({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[hs](){return this}pipe(...t){return yg(t)(this)}toPromise(t){return t=kD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function kD(n){var e;return(e=n??Dn.Promise)!==null&&e!==void 0?e:Promise}function KP(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function QP(n){return n&&n instanceof zi||KP(n)&&Dl(n)}function YP(n){return ne(n?.lift)}function Ie(n){return e=>{if(YP(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new vg(n,e,t,r,i)}var vg=class extends zi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var OD=cs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class n extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Sl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new OD}next(t){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hg:(this.currentObservers=null,o.push(t),new ze(()=>{this.currentObservers=null,Hi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ae;return t.source=this,t}}return n.create=(e,t)=>new Sl(e,t),n})(),Sl=class extends Ye{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:hg}};var vt=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _g={now(){return(_g.delegate||Date).now()},delegate:void 0};var Al=class extends ze{constructor(e,t){super()}schedule(e,t=0){return this}};var cc={setInterval(n,e,...t){let{delegate:r}=cc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=cc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var fs=class extends Al{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return cc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&cc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Hi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ps=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ps.now=_g.now;var gs=class extends ps{constructor(e,t=ps.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Eg=new gs(fs);var Rl=class extends fs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Nl=class extends gs{};var Ig=new Nl(Rl);var Wt=new ae(n=>n.complete());function FD(n){return n&&ne(n.schedule)}function LD(n){return n[n.length-1]}function Ml(n){return ne(LD(n))?n.pop():void 0}function ii(n){return FD(LD(n))?n.pop():void 0}function jD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function VD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gi(n){return this instanceof Gi?(this.v=n,this):new Gi(n)}function UD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(P){return new Promise(function(N,j){o.push([y,P,N,j])>1||u(y,P)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(P){m(o[0][3],P)}}function l(y){y.value instanceof Gi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function BD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof VD=="function"?VD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Pl=n=>n&&typeof n.length=="number"&&typeof n!="function";function xl(n){return ne(n?.then)}function kl(n){return ne(n[hs])}function Ol(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function JP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ll=JP();function Vl(n){return ne(n?.[Ll])}function jl(n){return UD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Gi(t.read());if(i)return yield Gi(void 0);yield yield Gi(r)}}finally{t.releaseLock()}})}function Ul(n){return ne(n?.getReader)}function Je(n){if(n instanceof ae)return n;if(n!=null){if(kl(n))return ZP(n);if(Pl(n))return XP(n);if(xl(n))return ex(n);if(Ol(n))return $D(n);if(Vl(n))return tx(n);if(Ul(n))return nx(n)}throw Fl(n)}function ZP(n){return new ae(e=>{let t=n[hs]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XP(n){return new ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ex(n){return new ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cl)})}function tx(n){return new ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function $D(n){return new ae(e=>{rx(n,e).catch(t=>e.error(t))})}function nx(n){return $D(jl(n))}function rx(n,e){var t,r,i,o;return jD(this,void 0,void 0,function*(){try{for(t=BD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Kt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function oi(n,e=0){return Ie((t,r)=>{t.subscribe(we(r,i=>Kt(r,n,()=>r.next(i),e),()=>Kt(r,n,()=>r.complete(),e),i=>Kt(r,n,()=>r.error(i),e)))})}function si(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function HD(n,e){return Je(n).pipe(si(e),oi(e))}function qD(n,e){return Je(n).pipe(si(e),oi(e))}function zD(n,e){return new ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function GD(n,e){return new ae(t=>{let r;return Kt(t,e,()=>{r=n[Ll](),Kt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Bl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ae(t=>{Kt(t,e,()=>{let r=n[Symbol.asyncIterator]();Kt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function WD(n,e){return Bl(jl(n),e)}function KD(n,e){if(n!=null){if(kl(n))return HD(n,e);if(Pl(n))return zD(n,e);if(xl(n))return qD(n,e);if(Ol(n))return Bl(n,e);if(Vl(n))return GD(n,e);if(Ul(n))return WD(n,e)}throw Fl(n)}function Me(n,e){return e?KD(n,e):Je(n)}function oe(...n){let e=ii(n);return Me(n,e)}function wg(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new ae(e?i=>e.schedule(r,0,i):r)}function $l(n){return!!n&&(n instanceof ae||ne(n.lift)&&ne(n.subscribe))}var Wi=cs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ye(n,e){return Ie((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ix}=Array;function ox(n,e){return ix(e)?n(...e):n(e)}function Hl(n){return ye(e=>ox(n,e))}var{isArray:sx}=Array,{getPrototypeOf:ax,prototype:cx,keys:ux}=Object;function ql(n){if(n.length===1){let e=n[0];if(sx(e))return{args:e,keys:null};if(lx(e)){let t=ux(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function lx(n){return n&&typeof n=="object"&&ax(n)===cx}function zl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Gl(...n){let e=ii(n),t=Ml(n),{args:r,keys:i}=ql(n);if(r.length===0)return Me([],e);let o=new ae(dx(r,e,i?s=>zl(i,s):Cn));return t?o.pipe(Hl(t)):o}function dx(n,e,t=Cn){return r=>{QD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)QD(e,()=>{let l=Me(n[u],e),h=!1;l.subscribe(we(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QD(n,e,t){n?Kt(t,n,e):e()}function YD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let N=!1;Je(t(P,h++)).subscribe(we(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let j=u.shift();s?Kt(e,s,()=>A(j)):A(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(we(e,y,()=>{p=!0,m()})),()=>{a?.()}}function _t(n,e,t=1/0){return ne(e)?_t((r,i)=>ye((o,s)=>e(r,o,i,s))(Je(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>YD(r,i,n,t)))}function ai(n=1/0){return _t(Cn,n)}function JD(){return ai(1)}function ms(...n){return JD()(Me(n,ii(n)))}function uc(n){return new ae(e=>{Je(n()).subscribe(e)})}function Dg(...n){let e=Ml(n),{args:t,keys:r}=ql(n),i=new ae(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Je(t[h]).subscribe(we(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?zl(r,a):a),o.complete())}))}});return e?i.pipe(Hl(e)):i}function Jt(n,e){return Ie((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ys(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=Je(n(s,ys(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function vs(n,e){return ne(e)?_t(n,e,1):_t(n,1)}function Cg(n){return Ie((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Tr(n){return n<=0?()=>Wt:Ie((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ZD(n=hx){return Ie((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hx(){return new Wi}function Tg(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function br(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Jt((i,o)=>n(i,o,r)):Cn,Tr(1),t?Cg(e):ZD(()=>new Wi))}function Wl(n){return n<=0?()=>Wt:Ie((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kl(...n){let e=ii(n);return Ie((t,r)=>{(e?ms(n,t,e):ms(n,t)).subscribe(r)})}function Tn(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(n(u,h)).subscribe(i=we(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function lc(n){return Ie((e,t)=>{Je(n).subscribe(we(t,()=>t.complete(),ac)),!t.closed&&e.subscribe(t)})}function Ot(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Cn}var bg;function Ql(){return bg}function Zn(n){let e=bg;return bg=n,e}var XD=Symbol("NotFound");function _s(n){return n===XD||n?.name==="\u0275NotFound"}var ci=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},$g=new ci("21.0.1");var ed="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",G=class extends Error{code;constructor(e,t){super(Xi(e,t)),this.code=e}};function gx(n){return`NG0${Math.abs(n)}`}function Xi(n,e){return`${gx(n)}${e?": "+e:""}`}var mc=globalThis;function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function iC(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ar(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ar).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Hg(n,e){return n?e?`${n} ${e}`:n:e||""}var mx=De({__forward_ref__:De});function en(n){return n.__forward_ref__=en,n.toString=function(){return Ar(this())},n}function Et(n){return qg(n)?n():n}function qg(n){return typeof n=="function"&&n.hasOwnProperty(mx)&&n.__forward_ref__===en}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function yc(n){return yx(n,td)}function zg(n){return yc(n)!==null}function yx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function vx(n){let e=n?.[td]??null;return e||null}function Ag(n){return n&&n.hasOwnProperty(Jl)?n[Jl]:null}var td=De({\u0275prov:De}),Jl=De({\u0275inj:De}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gg(n){return n&&!!n.\u0275providers}var Wg=De({\u0275cmp:De}),Kg=De({\u0275dir:De}),Qg=De({\u0275pipe:De}),Yg=De({\u0275mod:De}),hc=De({\u0275fac:De}),eo=De({__NG_ELEMENT_ID__:De}),eC=De({__NG_ENV_ID__:De});function er(n){return typeof n=="string"?n:n==null?"":String(n)}function oC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():er(n)}var sC=De({ngErrorCode:De}),_x=De({ngErrorMessage:De}),Ex=De({ngTokenPath:De});function Jg(n,e){return aC("",-200,e)}function nd(n,e){throw new G(-201,!1)}function aC(n,e,t){let r=new G(e,n);return r[sC]=e,r[_x]=n,t&&(r[Ex]=t),r}function Ix(n){return n[sC]}var Rg;function cC(){return Rg}function Zt(n){let e=Rg;return Rg=n,e}function Zg(n,e,t){let r=yc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;nd(n,"Injector")}var wx={},Ki=wx,Ng="__NG_DI_FLAG__",Mg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Qi(t)||0;try{return this.injector.get(e,r&8?null:Ki,r)}catch(i){if(_s(i))return i;throw i}}};function Dx(n,e=0){let t=Ql();if(t===void 0)throw new G(-203,!1);if(t===null)return Zg(n,void 0,e);{let r=Cx(e),i=t.retrieve(n,r);if(_s(i)){if(r.optional)return null;throw i}return i}}function Z(n,e=0){return(cC()||Dx)(Et(n),e)}function M(n,e){return Z(n,Qi(e))}function Qi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Cx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Pg(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Tx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function uC(n,e){return n[Ng]=e,n.prototype[Ng]=e,n}function Tx(n){return n[Ng]}function Yi(n,e){let t=n.hasOwnProperty(hc);return t?n[hc]:null}function lC(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function dC(n){return n.flat(Number.POSITIVE_INFINITY)}function rd(n,e){n.forEach(t=>Array.isArray(t)?rd(t,e):e(t))}function Xg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function vc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hC(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function fC(n,e,t){let r=Is(n,e);return r>=0?n[r|1]=t:(r=~r,hC(n,r,e,t)),r}function id(n,e){let t=Is(n,e);if(t>=0)return n[t|1]}function Is(n,e){return bx(n,e,1)}function bx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var li={},Xt=[],di=new q(""),em=new q("",-1),tm=new q(""),fc=class{get(e,t=Ki){if(t===Ki){let i=aC("",-201);throw i.name="\u0275NotFound",i}return t}};function nm(n){return n[Yg]||null}function Nr(n){return n[Wg]||null}function rm(n){return n[Kg]||null}function pC(n){return n[Qg]||null}function bn(n){return{\u0275providers:n}}function gC(...n){return{\u0275providers:im(!0,n),\u0275fromNgModule:!0}}function im(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return rd(e,s=>{let a=s;Zl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mC(i,o),t}function mC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];om(i,o=>{e(o,r)})}}function Zl(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=Ag(n),s=!o&&Nr(n);if(!o&&!s){let u=n.ngModule;if(o=Ag(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Zl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{rd(o.imports,h=>{Zl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mC(l,e)}if(!a){let l=Yi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:tm,useValue:i,multi:!0},i),e({provide:di,useValue:()=>Z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;om(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function om(n,e){for(let t of n)Gg(t)&&(t=t.\u0275providers),Array.isArray(t)?om(t,e):e(t)}var Sx=De({provide:String,useValue:De});function yC(n){return n!==null&&typeof n=="object"&&Sx in n}function Ax(n){return!!(n&&n.useExisting)}function Rx(n){return!!(n&&n.useFactory)}function Ji(n){return typeof n=="function"}function vC(n){return!!n.useClass}var _c=new q(""),Yl={},tC={},Sg;function Ec(){return Sg===void 0&&(Sg=new fc),Sg}var Ze=class{},Zi=class extends Ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,kg(e,s=>this.processProvider(s)),this.records.set(em,Es(void 0,this)),i.has("environment")&&this.records.set(Ze,Es(void 0,this));let o=this.records.get(_c);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tm,Xt,{self:!0}))}retrieve(e,t){let r=Qi(t)||0;try{return this.get(e,Ki,r)}catch(i){if(_s(i))return i;throw i}}destroy(){dc(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return dc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){dc(this);let t=Zn(this),r=Zt(void 0),i;try{return e()}finally{Zn(t),Zt(r)}}get(e,t=Ki,r){if(dc(this),e.hasOwnProperty(eC))return e[eC](this);let i=Qi(r),o,s=Zn(this),a=Zt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=kx(e)&&yc(e);h&&this.injectableDefInScope(h)?l=Es(xg(e),Yl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ec():this.parent;return t=i&8&&t===Ki?null:t,u.get(e,t)}catch(u){let l=Ix(u);throw l===-200||l===-201?new G(l,null):u}finally{Zt(a),Zn(s)}}resolveInjectorInitializers(){let e=J(null),t=Zn(this),r=Zt(void 0),i;try{let o=this.get(di,Xt,{self:!0});for(let s of o)s()}finally{Zn(t),Zt(r),J(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Ar(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=Ji(e)?e:Et(e&&e.provide),r=Mx(e);if(!Ji(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Es(void 0,Yl,!0),i.factory=()=>Pg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=J(null);try{if(t.value===tC)throw Jg(Ar(e));return t.value===Yl&&(t.value=tC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&xx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function xg(n){let e=yc(n),t=e!==null?e.factory:Yi(n);if(t!==null)return t;if(n instanceof q)throw new G(204,!1);if(n instanceof Function)return Nx(n);throw new G(204,!1)}function Nx(n){if(n.length>0)throw new G(204,!1);let t=vx(n);return t!==null?()=>t.factory(n):()=>new n}function Mx(n){if(yC(n))return Es(void 0,n.useValue);{let e=sm(n);return Es(e,Yl)}}function sm(n,e,t){let r;if(Ji(n)){let i=Et(n);return Yi(i)||xg(i)}else if(yC(n))r=()=>Et(n.useValue);else if(Rx(n))r=()=>n.useFactory(...Pg(n.deps||[]));else if(Ax(n))r=(i,o)=>Z(Et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(Px(n))r=()=>new i(...Pg(n.deps));else return Yi(i)||xg(i)}return r}function dc(n){if(n.destroyed)throw new G(205,!1)}function Es(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Px(n){return!!n.deps}function xx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function kx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function kg(n,e){for(let t of n)Array.isArray(t)?kg(t,e):t&&Gg(t)?kg(t.\u0275providers,e):e(t)}function et(n,e){let t;n instanceof Zi?(dc(n),t=n):t=new Mg(n);let r,i=Zn(t),o=Zt(void 0);try{return e()}finally{Zn(i),Zt(o)}}function _C(){return cC()!==void 0||Ql()!=null}var Sn=0,Q=1,X=2,at=3,dn=4,hn=5,ws=6,Ds=7,Ge=8,Mr=9,tr=10,Fe=11,Cs=12,am=13,to=14,tn=15,hi=16,no=17,nr=18,Ic=19,cm=20,Sr=21,od=22,wc=23,nn=24,ro=25,io=26,It=27,EC=1,um=6,fi=7,Dc=8,oo=9,Ue=10;function rr(n){return Array.isArray(n)&&typeof n[EC]=="object"}function An(n){return Array.isArray(n)&&n[EC]===!0}function lm(n){return(n.flags&4)!==0}function pi(n){return n.componentOffset>-1}function sd(n){return(n.flags&1)===1}function ir(n){return!!n.template}function Ts(n){return(n[X]&512)!==0}function so(n){return(n[X]&256)===256}var IC="svg",wC="math";function fn(n){for(;Array.isArray(n);)n=n[Sn];return n}function dm(n,e){return fn(e[n])}function Rn(n,e){return fn(e[n.index])}function Cc(n,e){return n.data[e]}function pn(n,e){let t=e[n];return rr(t)?t:t[Sn]}function DC(n){return(n[X]&4)===4}function ad(n){return(n[X]&128)===128}function CC(n){return An(n[at])}function or(n,e){return e==null?null:n[e]}function hm(n){n[no]=0}function fm(n){n[X]&1024||(n[X]|=1024,ad(n)&&bs(n))}function TC(n,e){for(;n>0;)e=e[to],n--;return e}function Tc(n){return!!(n[X]&9216||n[nn]?.dirty)}function cd(n){n[tr].changeDetectionScheduler?.notify(8),n[X]&64&&(n[X]|=1024),Tc(n)&&bs(n)}function bs(n){n[tr].changeDetectionScheduler?.notify(0);let e=ui(n);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!ad(e)));)e=ui(e)}function pm(n,e){if(so(n))throw new G(911,!1);n[Sr]===null&&(n[Sr]=[]),n[Sr].push(e)}function bC(n,e){if(n[Sr]===null)return;let t=n[Sr].indexOf(e);t!==-1&&n[Sr].splice(t,1)}function ui(n){let e=n[at];return An(e)?e[at]:e}function gm(n){return n[Ds]??=[]}function mm(n){return n.cleanup??=[]}function SC(n,e,t,r){let i=gm(e);i.push(t),n.firstCreatePass&&mm(n).push(r,i.length-1)}var ue={lFrame:UC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Og=!1;function AC(){return ue.lFrame.elementDepthCount}function RC(){ue.lFrame.elementDepthCount++}function ym(){ue.lFrame.elementDepthCount--}function NC(){return ue.bindingsEnabled}function MC(){return ue.skipHydrationRootTNode!==null}function vm(n){return ue.skipHydrationRootTNode===n}function _m(){ue.skipHydrationRootTNode=null}function ce(){return ue.lFrame.lView}function wt(){return ue.lFrame.tView}function Be(n){return ue.lFrame.contextLView=n,n[Ge]}function $e(n){return ue.lFrame.contextLView=null,n}function Dt(){let n=Em();for(;n!==null&&n.type===64;)n=n.parent;return n}function Em(){return ue.lFrame.currentTNode}function PC(){let n=ue.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ss(n,e){let t=ue.lFrame;t.currentTNode=n,t.isParent=e}function Im(){return ue.lFrame.isParent}function xC(){ue.lFrame.isParent=!1}function wm(){return Og}function Dm(n){let e=Og;return Og=n,e}function Cm(){let n=ue.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Tm(){return ue.lFrame.bindingIndex}function kC(n){return ue.lFrame.bindingIndex=n}function ao(){return ue.lFrame.bindingIndex++}function ud(n){let e=ue.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function OC(){return ue.lFrame.inI18n}function FC(n,e){let t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=n,ld(e)}function LC(){return ue.lFrame.currentDirectiveIndex}function ld(n){ue.lFrame.currentDirectiveIndex=n}function VC(n){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function bm(){return ue.lFrame.currentQueryIndex}function dd(n){ue.lFrame.currentQueryIndex=n}function Ox(n){let e=n[Q];return e.type===2?e.declTNode:e.type===1?n[hn]:null}function Sm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Ox(o),i===null||(o=o[to],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ue.lFrame=jC();return r.currentTNode=e,r.lView=n,!0}function hd(n){let e=jC(),t=n[Q];ue.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jC(){let n=ue.lFrame,e=n===null?null:n.child;return e===null?UC(n):e}function UC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BC(){let n=ue.lFrame;return ue.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Am=BC;function fd(){let n=BC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $C(n){return(ue.lFrame.contextLView=TC(n,ue.lFrame.contextLView))[Ge]}function sr(){return ue.lFrame.selectedIndex}function gi(n){ue.lFrame.selectedIndex=n}function pd(){let n=ue.lFrame;return Cc(n.tView,n.selectedIndex)}function HC(){return ue.lFrame.currentNamespace}var qC=!0;function gd(){return qC}function md(n){qC=n}function Fg(n,e=null,t=null,r){let i=Rm(n,e,t,r);return i.resolveInjectorInitializers(),i}function Rm(n,e=null,t=null,r,i=new Set){let o=[t||Xt,gC(n)];return r=r||(typeof n=="object"?void 0:Ar(n)),new Zi(o,e||Ec(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=Ki;static NULL=new fc;static create(e,t){if(Array.isArray(e))return Fg({name:""},t,e,"");{let r=e.name??"";return Fg({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>Z(em)});static __NG_ELEMENT_ID__=-1},tt=new q(""),Nn=(()=>{class n{static __NG_ELEMENT_ID__=Fx;static __NG_ENV_ID__=t=>t}return n})(),Lg=class extends Nn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return so(this._lView)}onDestroy(e){let t=this._lView;return pm(t,e),()=>bC(t,e)}};function Fx(){return new Lg(ce())}var Nm=!1,ar=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new vt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ae(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vg=class extends Ye{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_C()&&(this.destroyRef=M(Nn,{optional:!0})??void 0,this.pendingTasks=M(ar,{optional:!0})??void 0)}emit(e){let t=J(null);try{super.next(e)}finally{J(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Pe=Vg;function Xl(...n){}function Mm(n){let e,t;function r(){n=Xl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Pm(n){return queueMicrotask(()=>n()),()=>{n=Xl}}var xm="isAngularZone",pc=xm+"_ID",Lx=0,Ce=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pe(!1);onMicrotaskEmpty=new Pe(!1);onStable=new Pe(!1);onError=new Pe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Nm}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ux(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Vx,Xl,Xl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Vx={};function km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Mm(()=>{n.callbackScheduled=!1,jg(n),n.isCheckStableRunning=!0,km(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jg(n)}function Ux(n){let e=()=>{jx(n)},t=Lx++;n._inner=n._inner.fork({name:"angular",properties:{[xm]:!0,[pc]:t,[pc+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Bx(u))return r.invokeTask(o,s,a,u);try{return nC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return nC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!$x(u)&&e(),rC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jg(n),km(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rC(n){n._nesting--,km(n)}var gc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pe;onMicrotaskEmpty=new Pe;onStable=new Pe;onError=new Pe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Bx(n){return zC(n,"__ignore_ng_zone__")}function $x(n){return zC(n,"__scheduler_tick__")}function zC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},gn=new q("",{factory:()=>{let n=M(Ce),e=M(Ze),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(Xn),t.handleError(r))})}}}),GC={provide:di,useValue:()=>{let n=M(Xn,{optional:!0})},multi:!0};function Re(n,e){let[t,r,i]=lg(n,e?.equal),o=t,s=o[kt];return o.set=r,o.update=i,o.asReadonly=WC.bind(o),o}function WC(){let n=this[kt];if(n.readonlyFn===void 0){let e=()=>this();e[kt]=n,n.readonlyFn=e}return n.readonlyFn}var yd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Hx}return n})();function Hx(){return new yd(ce(),Dt())}var Rr=class{},As=new q("",{factory:()=>!0});var vd=new q(""),Rs=(()=>{class n{internalPendingTasks=M(ar);scheduler=M(Rr);errorHandler=M(gn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Om=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new Ug})}return n})(),Ug=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Bg=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};function ct(n){return dg(n)}function Ls(n){return{toString:n}.toString()}var _d="__parameters__";function Zx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Xx(n,e,t){return Ls(()=>{let r=Zx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_d)?u[_d]:Object.defineProperty(u,_d,{value:[]})[_d];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var xr=uC(Xx("Optional"),8);function ek(n){return typeof n=="function"}function wT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var bd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},mn=(()=>{let n=()=>DT;return n.ngInherit=!0,n})();function DT(n){return n.type.prototype.ngOnChanges&&(n.setInput=nk),tk}function tk(){let n=TT(this),e=n?.current;if(e){let t=n.previous;if(t===li)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function nk(n,e,t,r,i){let o=this.declaredInputs[r],s=TT(n)||rk(n,{previous:li,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new bd(l&&l.currentValue,t,u===li),wT(n,e,i,t)}var CT="__ngSimpleChanges__";function TT(n){return n[CT]||null}function rk(n,e){return n[CT]=e}var KC=[];var Te=function(n,e=null,t){for(let r=0;r<KC.length;r++){let i=KC[r];i(n,e,t)}},me=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(me||{});function ik(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function ok(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function wd(n,e,t){bT(n,e,3,t)}function Dd(n,e,t,r){(n[X]&3)===t&&bT(n,e,t,r)}function Fm(n,e){let t=n[X];(t&3)===e&&(t&=16383,t+=1,n[X]=t)}function bT(n,e,t,r){let i=r!==void 0?n[no]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[no]+=65536),(a<o||o==-1)&&(sk(n,t,e,u),n[no]=(n[no]&4294901760)+u+2),u++}function QC(n,e){Te(me.LifecycleHookStart,n,e);let t=J(null);try{e.call(n)}finally{J(t),Te(me.LifecycleHookEnd,n,e)}}function sk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[X]>>14<n[no]>>16&&(n[X]&3)===e&&(n[X]+=16384,QC(a,o)):QC(a,o)}var Ms=-1,uo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function ak(n){return(n.flags&8)!==0}function ck(n){return(n.flags&16)!==0}function uk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];lk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ST(n){return n===3||n===4||n===6}function lk(n){return n.charCodeAt(0)===64}function Ps(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YC(n,t,i,null,e[++r]):YC(n,t,i,null,null))}}return n}function YC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function AT(n){return n!==Ms}function Sd(n){return n&32767}function dk(n){return n>>16}function Ad(n,e){let t=dk(n),r=e;for(;t>0;)r=r[to],t--;return r}var Wm=!0;function JC(n){let e=Wm;return Wm=n,e}var hk=256,RT=hk-1,NT=5,fk=0,cr={};function pk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(eo)&&(r=t[eo]),r==null&&(r=t[eo]=fk++);let i=r&RT,o=1<<i;e.data[n+(i>>NT)]|=o}function Rd(n,e){let t=MT(n,e);if(t!==-1)return t;let r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,Lm(r.data,n),Lm(e,null),Lm(r.blueprint,null));let i=Iy(n,e),o=n.injectorIndex;if(AT(i)){let s=Sd(i),a=Ad(i,e),u=a[Q].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function MT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Iy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FT(i),r===null)return Ms;if(t++,i=i[to],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ms}function Km(n,e,t){pk(n,e,t)}function gk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ST(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function PT(n,e,t){if(t&8||n!==void 0)return n;nd(e,"NodeInjector")}function xT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Mr],o=Zt(void 0);try{return i?i.get(e,r,t&8):Zg(e,r,t&8)}finally{Zt(o)}}return PT(r,e,t)}function kT(n,e,t,r=0,i){if(n!==null){if(e[X]&2048&&!(r&2)){let s=_k(n,e,t,r,cr);if(s!==cr)return s}let o=OT(n,e,t,r,cr);if(o!==cr)return o}return xT(e,t,r,i)}function OT(n,e,t,r,i){let o=yk(t);if(typeof o=="function"){if(!Sm(e,n,r))return r&1?PT(i,t,r):xT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))nd(t);else return s}finally{Am()}}else if(typeof o=="number"){let s=null,a=MT(n,e),u=Ms,l=r&1?e[tn][hn]:null;for((a===-1||r&4)&&(u=a===-1?Iy(n,e):e[a+8],u===Ms||!XC(r,!1)?a=-1:(s=e[Q],a=Sd(u),e=Ad(u,e)));a!==-1;){let h=e[Q];if(ZC(o,a,h.data)){let p=mk(a,e,t,s,r,l);if(p!==cr)return p}u=e[a+8],u!==Ms&&XC(r,e[Q].data[a+8]===l)&&ZC(o,a,e)?(s=h,a=Sd(u),e=Ad(u,e)):a=-1}}return i}function mk(n,e,t,r,i,o){let s=e[Q],a=s.data[n+8],u=r==null?pi(a)&&Wm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Cd(a,s,t,u,l);return h!==null?Ac(e,s,h,a,i):cr}function Cd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&ir(y)&&y.type===t)return u}return null}function Ac(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof uo){let a=o;if(a.resolving){let y=oC(s[t]);throw Jg(y)}let u=JC(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Zt(a.injectImpl):null,m=Sm(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&ik(t,s[t],e)}finally{p!==null&&Zt(p),JC(u),a.resolving=!1,Am()}}return o}function yk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(eo)?n[eo]:void 0;return typeof e=="number"?e>=0?e&RT:vk:e}function ZC(n,e,t){let r=1<<n;return!!(t[e+(n>>NT)]&r)}function XC(n,e){return!(n&2)&&!(n&1&&e)}var co=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return kT(this._tNode,this._lView,e,Qi(r),t)}};function vk(){return new co(Dt(),ce())}function kn(n){return Ls(()=>{let e=n.prototype.constructor,t=e[hc]||Qm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[hc]||Qm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qm(n){return qg(n)?()=>{let e=Qm(Et(n));return e&&e()}:Yi(n)}function _k(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Ts(s);){let a=OT(o,s,t,r|2,cr);if(a!==cr)return a;let u=o.parent;if(!u){let l=s[cm];if(l){let h=l.get(t,cr,r);if(h!==cr)return h}u=FT(s),s=s[to]}o=u}return i}function FT(n){let e=n[Q],t=e.type;return t===2?e.declTNode:t===1?n[hn]:null}function kc(n){return gk(Dt(),n)}function Ek(){return Vs(Dt(),ce())}function Vs(n,e){return new Ft(Rn(n,e))}var Ft=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ek}return n})();function Ik(n){return n instanceof Ft?n.nativeElement:n}function wk(){return this._results[Symbol.iterator]()}var Nd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ye}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=dC(e);(this._changesDetected=!lC(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wk};function LT(n){return(n.flags&128)===128}var wy=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(wy||{}),VT=new Map,Dk=0;function Ck(){return Dk++}function Tk(n){VT.set(n[Ic],n)}function Ym(n){VT.delete(n[Ic])}var eT="__ngContext__";function xs(n,e){rr(e)?(n[eT]=e[Ic],Tk(e)):n[eT]=e}function jT(n){return BT(n[Cs])}function UT(n){return BT(n[dn])}function BT(n){for(;n!==null&&!An(n);)n=n[dn];return n}var bk;function Dy(n){bk=n}var qd=new q("",{factory:()=>Sk}),Sk="ng";var zd=new q(""),go=new q("",{providedIn:"platform",factory:()=>"unknown"});var Gd=new q("",{factory:()=>M(tt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $T="r";var HT="di";var qT=!1,zT=new q("",{factory:()=>qT});var Cy=new q("");var Ak=(n,e,t,r)=>{};function Rk(n,e,t,r){Ak(n,e,t,r)}function Ty(n){return(n.flags&32)===32}var Nk=()=>null;function GT(n,e,t=!1){return Nk(n,e,t)}function WT(n,e){let t=n.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];dd(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function Jm(n,e,t){dd(0);let r=J(null);try{e(n,t)}finally{J(r)}}function KT(n,e,t){if(lm(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{J(r)}}}var Pn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Pn||{});var Ed;function Mk(){if(Ed===void 0&&(Ed=null,mc.trustedTypes))try{Ed=mc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ed}function tT(n){return Mk()?.createScriptURL(n)||n}var Md=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ed})`}};function Oc(n){return n instanceof Md?n.changingThisBreaksApplicationSecurity:n}function by(n,e){let t=QT(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ed})`)}return t===e}function QT(n){return n instanceof Md&&n.getTypeName()||null}var Pk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YT(n){return n=String(n),n.match(Pk)?n:"unsafe:"+n}var Wd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Wd||{});function JT(n){let e=XT();return e?e.sanitize(Wd.URL,n)||"":by(n,"URL")?Oc(n):YT(er(n))}function ZT(n){let e=XT();if(e)return tT(e.sanitize(Wd.RESOURCE_URL,n)||"");if(by(n,"ResourceURL"))return tT(Oc(n));throw new G(904,!1)}function xk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ZT:JT}function Sy(n,e,t){return xk(e,t)(n)}function XT(){let n=ce();return n&&n[tr].sanitizer}function eb(n){return n instanceof Function?n():n}function kk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tb="ng-template";function Ok(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ay(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ay(n){return n.type===4&&n.value!==tb}function Fk(n,e,t){let r=n.type===4&&!t?tb:n.value;return e===r}function Lk(n,e,t){let r=4,i=n.attrs,o=i!==null?Uk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Mn(r)&&!Mn(u))return!1;if(s&&Mn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Fk(n,u,t)||u===""&&e.length===1){if(Mn(r))return!1;s=!0}}else if(r&8){if(i===null||!Ok(n,i,u,t)){if(Mn(r))return!1;s=!0}}else{let l=e[++a],h=Vk(u,i,Ay(n),t);if(h===-1){if(Mn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Mn(r))return!1;s=!0}}}}return Mn(r)||s}function Mn(n){return(n&1)===0}function Vk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Bk(e,n)}function jk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Lk(n,e[r],t))return!0;return!1}function Uk(n){for(let e=0;e<n.length;e++){let t=n[e];if(ST(t))return e}return n.length}function Bk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nT(n,e){return n?":not("+e.trim()+")":e}function $k(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mn(s)&&(e+=nT(o,i),i=""),r=s,o=o||!Mn(r);t++}return i!==""&&(e+=nT(o,i)),e}function Hk(n){return n.map($k).join(",")}function qk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Mn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Lt={};function zk(n,e){return n.createText(e)}function Gk(n,e,t){n.setValue(e,t)}function nb(n,e,t){return n.createElement(e,t)}function Pd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rb(n,e,t){n.appendChild(e,t)}function rT(n,e,t,r,i){r!==null?Pd(n,e,t,r,i):rb(n,e,t)}function ib(n,e,t,r){n.removeChild(null,e,t,r)}function Wk(n,e,t){n.setAttribute(e,"style",t)}function Kk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ob(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uk(n,e,r),i!==null&&Kk(n,e,i),o!==null&&Wk(n,e,o)}function Ry(n,e,t,r,i,o,s,a,u,l,h){let p=It+r,m=p+i,y=Qk(p,m),A=typeof l=="function"?l():l;return y[Q]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function Qk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Lt);return t}function Yk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ry(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ny(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Sn]=i,p[X]=r|4|128|8|64|1024,(l!==null||n&&n[X]&2048)&&(p[X]|=2048),hm(p),p[at]=p[to]=n,p[Ge]=t,p[tr]=s||n&&n[tr],p[Fe]=a||n&&n[Fe],p[Mr]=u||n&&n[Mr]||null,p[hn]=o,p[Ic]=Ck(),p[ws]=h,p[cm]=l,p[tn]=e.type==2?n[tn]:p,p}function Jk(n,e,t){let r=Rn(e,n),i=Yk(t),o=n[tr].rendererFactory,s=My(n,Ny(n,i,null,sb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function sb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ab(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function My(n,e){return n[Cs]?n[am][dn]=e:n[Cs]=e,n[am]=e,e}function U(n=1){cb(wt(),ce(),sr()+n,!1)}function cb(n,e,t,r){if(!r)if((e[X]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dd(e,o,0,t)}gi(t)}var Kd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Kd||{});function Zm(n,e,t,r){let i=J(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Kd.SignalBased)!==0&&(u=e[o][kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):wT(e,u,o,r)}finally{J(i)}}var Pr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Pr||{}),Zk;function Py(n,e){return Zk(n,e)}var lo=new Set,Qd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Qd||{}),mo=new q(""),iT=new Set;function On(n){iT.has(n)||(iT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),ub=[0,1,2,3],lb=(()=>{class n{ngZone=M(Ce);scheduler=M(Rr);errorHandler=M(Xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(mo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Te(me.AfterRenderHooksStart),this.executing=!0;for(let r of ub)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Te(me.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[ro]??=[]).push(t),bs(r),r[X]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Qd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),xd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ro];e&&(this.view[ro]=e.filter(t=>t!==this))}};function Fc(n,e){let t=e?.injector??M(Xe);return On("NgAfterNextRender"),eO(n,t,e,!0)}function Xk(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function eO(n,e,t,r){let i=e.get(xy);i.impl??=e.get(lb);let o=e.get(mo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Nn):null,a=e.get(yd,null,{optional:!0}),u=new xd(i.impl,Xk(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var db=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function hb(n,e,t){let r=n.get(db);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function tO(n,e){let t=n.get(db);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function nO(n,e){for(let[t,r]of e)hb(n,r.animateFns)}function oT(n,e,t,r){let i=n?.[io]?.enter;e!==null&&i&&i.has(t.index)&&nO(r,i)}function Ns(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;An(i)?u=i:rr(i)&&(l=!0,i=i[Sn]);let h=fn(i);n===0&&r!==null?(oT(a,r,o,t),s==null?rb(e,r,h):Pd(e,r,h,s||null,!0)):n===1&&r!==null?(oT(a,r,o,t),Pd(e,r,h,s||null,!0)):n===2?sT(a,o,t,p=>{ib(e,h,l,p)}):n===3&&sT(a,o,t,()=>{e.destroyNode(h)}),u!=null&&gO(e,n,t,u,o,r,s)}}function rO(n,e){fb(n,e),e[Sn]=null,e[hn]=null}function iO(n,e,t,r,i,o){r[Sn]=i,r[hn]=e,Jd(n,r,t,1,i,o)}function fb(n,e){e[tr].changeDetectionScheduler?.notify(9),Jd(n,e,e[Fe],2,null,null)}function oO(n){let e=n[Cs];if(!e)return Vm(n[Q],n);for(;e;){let t=null;if(rr(e))t=e[Cs];else{let r=e[Ue];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)rr(e)&&Vm(e[Q],e),e=e[at];e===null&&(e=n),rr(e)&&Vm(e[Q],e),t=e&&e[dn]}e=t}}function ky(n,e){let t=n[oo],r=t.indexOf(e);t.splice(r,1)}function Yd(n,e){if(so(e))return;let t=e[Fe];t.destroyNode&&Jd(n,e,t,3,null,null),oO(e)}function Vm(n,e){if(so(e))return;let t=J(null);try{e[X]&=-129,e[X]|=256,e[nn]&&oc(e[nn]),cO(n,e),aO(n,e),e[Q].type===1&&e[Fe].destroy();let r=e[hi];if(r!==null&&An(e[at])){r!==e[at]&&ky(r,e);let i=e[nr];i!==null&&i.detachView(n)}Ym(e)}finally{J(t)}}function sT(n,e,t,r){let i=n?.[io];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&lo.add(n),hb(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),sO(n,r)}else n&&lo.delete(n),r(!1)},i)}function sO(n,e){let t=n[io]?.running;if(t){t.then(()=>{n[io].running=void 0,lo.delete(n),e(!0)});return}e(!1)}function aO(n,e){let t=n.cleanup,r=e[Ds];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ds]=null);let i=e[Sr];if(i!==null){e[Sr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wc];if(o!==null){e[wc]=null;for(let s of o)s.destroy()}}function cO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof uo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(me.LifecycleHookStart,a,u);try{u.call(a)}finally{Te(me.LifecycleHookEnd,a,u)}}else{Te(me.LifecycleHookStart,i,o);try{o.call(i)}finally{Te(me.LifecycleHookEnd,i,o)}}}}}function uO(n,e,t){return lO(n,e.parent,t)}function lO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Sn];if(pi(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Pn.None||i===Pn.Emulated)return null}return Rn(r,t)}function dO(n,e,t){return fO(n,e,t)}function hO(n,e,t){return n.type&40?Rn(n,t):null}var fO=hO,aT;function Oy(n,e,t,r){let i=uO(n,r,e),o=e[Fe],s=r.parent||e[hn],a=dO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)rT(o,i,t[u],a,!1);else rT(o,i,t,a,!1);aT!==void 0&&aT(o,r,e,t,i)}function bc(n,e){if(e!==null){let t=e.type;if(t&3)return Rn(e,n);if(t&4)return Xm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return bc(n,r);{let i=n[e.index];return An(i)?Xm(-1,i):fn(i)}}else{if(t&128)return bc(n,e.next);if(t&32)return Py(e,n)()||fn(n[e.index]);{let r=pb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ui(n[tn]);return bc(i,r)}else return bc(n,e.next)}}}return null}function pb(n,e){if(e!==null){let r=n[tn][hn],i=e.projection;return r.projection[i]}return null}function Xm(n,e){let t=Ue+n+1;if(t<e.length){let r=e[t],i=r[Q].firstChild;if(i!==null)return bc(r,i)}return e[fi]}function Fy(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Mr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&xs(fn(u),r),t.flags|=2),!Ty(t))if(l&8)Fy(n,e,t.child,r,i,o,!1),Ns(e,n,a,i,u,t,o,r);else if(l&32){let h=Py(t,r),p;for(;p=h();)Ns(e,n,a,i,p,t,o,r);Ns(e,n,a,i,u,t,o,r)}else l&16?pO(n,e,r,t,i,o):Ns(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Jd(n,e,t,r,i,o){Fy(t,r,n.firstChild,e,i,o,!1)}function pO(n,e,t,r,i,o){let s=t[tn],u=s[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ns(e,n,t[Mr],i,h,r,o,t)}else{let l=u,h=s[at];LT(r)&&(l.flags|=128),Fy(n,e,l,h,i,o,!0)}}function gO(n,e,t,r,i,o,s){let a=r[fi],u=fn(r);a!==u&&Ns(e,n,t,o,a,i,s);for(let l=Ue;l<r.length;l++){let h=r[l];Jd(h[Q],h,n,e,o,a)}}function mO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Pr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pr.Important),n.setStyle(t,r,i,o))}}function gb(n,e,t,r,i){let o=sr(),s=r&2;try{gi(-1),s&&e.length>It&&cb(n,e,It,!1);let a=s?me.TemplateUpdateStart:me.TemplateCreateStart;Te(a,i,t),t(r,i)}finally{gi(o);let a=s?me.TemplateUpdateEnd:me.TemplateCreateEnd;Te(a,i,t)}}function mb(n,e,t){DO(n,e,t),(t.flags&64)===64&&CO(n,e,t)}function Ly(n,e,t=Rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function yO(n,e,t,r){let o=r.get(zT,qT)||t===Pn.ShadowDom||t===Pn.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return vO(s),s}function vO(n){_O(n)}var _O=()=>null;function EO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yb(n,e,t,r,i,o){let s=e[Q];if(Vy(n,s,e,t,r)){pi(n)&&wO(e,n.index);return}n.type&3&&(t=EO(t)),IO(n,e,t,r,i,o)}function IO(n,e,t,r,i,o){if(n.type&3){let s=Rn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function wO(n,e){let t=pn(e,n);t[X]&16||(t[X]|=64)}function DO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;pi(t)&&Jk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Rd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Ac(e,n,s,t);if(xs(u,e),o!==null&&RO(e,s-r,u,a,t,o),ir(a)){let l=pn(t.index,e);l[Ge]=Ac(e,n,s,t)}}}function CO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=LC();try{gi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];ld(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&TO(u,l)}}finally{gi(-1),ld(s)}}function TO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function bO(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];jk(e,o.selectors,!1)&&(r??=[],ir(o)?r.unshift(o):r.push(o))}return r}function SO(n,e,t,r,i,o){let s=Rn(n,e);AO(e[Fe],s,o,n.value,t,r,i)}function AO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?er(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function RO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Zm(r,t,u,l)}}function vb(n,e,t,r,i){let o=It+t,s=e[Q],a=i(s,e,n,r,t);e[o]=a,Ss(n,!0);let u=n.type===2;return u?(ob(e[Fe],a,n),(AC()===0||sd(n))&&xs(a,e),RC()):xs(a,e),gd()&&(!u||!Ty(n))&&Oy(s,e,a,n),n}function _b(n){let e=n;return Im()?xC():(e=e.parent,Ss(e,!1)),e}function NO(n,e){let t=n[Mr];if(!t)return;let r;try{r=t.get(gn,null)}catch{r=null}r?.(e)}function Vy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Zm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Zm(h,l,r,i),a=!0}return a}function MO(n,e){let t=pn(e,n),r=t[Q];PO(r,t);let i=t[Sn];i!==null&&t[ws]===null&&(t[ws]=GT(i,t[Mr])),Te(me.ComponentStart);try{jy(r,t,t[Ge])}finally{Te(me.ComponentEnd,t[Ge])}}function PO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function jy(n,e,t){hd(e);try{let r=n.viewQuery;r!==null&&Jm(1,r,t);let i=n.template;i!==null&&gb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[nr]?.finishViewCreation(n),n.staticContentQueries&&WT(n,e),n.staticViewQueries&&Jm(2,n.viewQuery,t);let o=n.components;o!==null&&xO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[X]&=-5,fd()}}function xO(n,e){for(let t=0;t<e.length;t++)MO(n,e[t])}function Zd(n,e,t,r){let i=J(null);try{let o=e.tView,a=n[X]&4096?4096:16,u=Ny(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[hi]=l;let h=n[nr];return h!==null&&(u[nr]=h.createEmbeddedView(o)),jy(o,u,t),u}finally{J(i)}}function Rc(n,e){return!e||e.firstChild===null||LT(n)}function Nc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(fn(o)),An(o)&&Eb(o,r);let s=t.type;if(s&8)Nc(n,e,t.child,r);else if(s&32){let a=Py(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=pb(e,t);if(Array.isArray(a))r.push(...a);else{let u=ui(e[tn]);Nc(u[Q],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Eb(n,e){for(let t=Ue;t<n.length;t++){let r=n[t],i=r[Q].firstChild;i!==null&&Nc(r[Q],r,i,e)}n[fi]!==n[Sn]&&e.push(n[fi])}function Ib(n){if(n[ro]!==null){for(let e of n[ro])e.impl.addSequence(e);n[ro].length=0}}var wb=[];function kO(n){return n[nn]??OO(n)}function OO(n){let e=wb.pop()??Object.create(LO);return e.lView=n,e}function FO(n){n.lView[nn]!==n&&(n.lView=null,wb.push(n))}var LO=W(R({},nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{bs(n.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function VO(n){let e=n[nn]??Object.create(jO);return e.lView=n,e}var jO=W(R({},nc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ui(n.lView);for(;e&&!Db(e[Q]);)e=ui(e);e&&fm(e)},consumerOnSignalRead(){this.lView[nn]=this}});function Db(n){return n.type!==2}function Cb(n){if(n[wc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[X]&8192)}}var UO=100;function Tb(n,e=0){let r=n[tr].rendererFactory,i=!1;i||r.begin?.();try{BO(n,e)}finally{i||r.end?.()}}function BO(n,e){let t=wm();try{Dm(!0),ey(n,e);let r=0;for(;Tc(n);){if(r===UO)throw new G(103,!1);r++,ey(n,1)}}finally{Dm(t)}}function $O(n,e,t,r){if(so(e))return;let i=e[X],o=!1,s=!1;hd(e);let a=!0,u=null,l=null;o||(Db(n)?(l=kO(e),u=ic(l)):yl()===null?(a=!1,l=VO(e),u=ic(l)):e[nn]&&(oc(e[nn]),e[nn]=null));try{hm(e),kC(n.bindingStartIndex),t!==null&&gb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&wd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Dd(e,y,0,null),Fm(e,0)}if(s||HO(e),Cb(e),bb(e,0),n.contentQueries!==null&&WT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&wd(e,y)}else{let y=n.contentHooks;y!==null&&Dd(e,y,1),Fm(e,1)}zO(n,e);let p=n.components;p!==null&&Ab(e,p,0);let m=n.viewQuery;if(m!==null&&Jm(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&wd(e,y)}else{let y=n.viewHooks;y!==null&&Dd(e,y,2),Fm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[od]){for(let y of e[od])y();e[od]=null}o||(Ib(e),e[X]&=-73)}catch(h){throw o||bs(e),h}finally{l!==null&&(vl(l,u),a&&FO(l)),fd()}}function bb(n,e){for(let t=jT(n);t!==null;t=UT(t))for(let r=Ue;r<t.length;r++){let i=t[r];Sb(i,e)}}function HO(n){for(let e=jT(n);e!==null;e=UT(e)){if(!(e[X]&2))continue;let t=e[oo];for(let r=0;r<t.length;r++){let i=t[r];fm(i)}}}function qO(n,e,t){Te(me.ComponentStart);let r=pn(e,n);try{Sb(r,t)}finally{Te(me.ComponentEnd,r[Ge])}}function Sb(n,e){ad(n)&&ey(n,e)}function ey(n,e){let r=n[Q],i=n[X],o=n[nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_l(o)),s||=!1,o&&(o.dirty=!1),n[X]&=-9217,s)$O(r,n,r.template,n[Ge]);else if(i&8192){let a=J(null);try{Cb(n),bb(n,1);let u=r.components;u!==null&&Ab(n,u,1),Ib(n)}finally{J(a)}}}function Ab(n,e,t){for(let r=0;r<e.length;r++)qO(n,e[r],t)}function zO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let o=i,s=t[++r],a=t[++r];FC(s,o);let u=e[o];Te(me.HostBindingsUpdateStart,u);try{a(2,u)}finally{Te(me.HostBindingsUpdateEnd,u)}}}}finally{gi(-1)}}function Uy(n,e){let t=wm()?64:1088;for(n[tr].changeDetectionScheduler?.notify(e);n;){n[X]|=t;let r=ui(n);if(Ts(n)&&!r)return n;n=r}return null}function Rb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Nb(n,e){let t=Ue+e;if(t<n.length)return n[t]}function Xd(n,e,t,r=!0){let i=e[Q];if(GO(i,e,n,t),r){let s=Xm(t,n),a=e[Fe],u=a.parentNode(n[fi]);u!==null&&iO(i,n[hn],a,e,u,s)}let o=e[ws];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mb(n,e){let t=Mc(n,e);return t!==void 0&&Yd(t[Q],t),t}function Mc(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t];if(r){let i=r[hi];i!==null&&i!==n&&ky(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=vc(n,Ue+e);rO(r[Q],r);let s=o[nr];s!==null&&s.detachView(o[Q]),r[at]=null,r[dn]=null,r[X]&=-129}return r}function GO(n,e,t,r){let i=Ue+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-Ue?(e[dn]=t[i],Xg(t,Ue+r,e)):(t.push(e),e[dn]=null),e[at]=t;let s=e[hi];s!==null&&t!==s&&Pb(s,e);let a=e[nr];a!==null&&a.insertView(n),cd(e),e[X]|=128}function Pb(n,e){let t=n[oo],r=e[at];if(rr(r))n[X]|=2;else{let i=r[at][tn];e[tn]!==i&&(n[X]|=2)}t===null?n[oo]=[e]:t.push(e)}var mi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Q];return Nc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ge]}set context(e){this._lView[Ge]=e}get destroyed(){return so(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(An(e)){let t=e[Dc],r=t?t.indexOf(this):-1;r>-1&&(Mc(e,r),vc(t,r))}this._attachedToViewContainer=!1}Yd(this._lView[Q],this._lView)}onDestroy(e){pm(this._lView,e)}markForCheck(){Uy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){cd(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,Tb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ts(this._lView),t=this._lView[hi];t!==null&&!e&&ky(t,this._lView),fb(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=Ts(this._lView),r=this._lView[hi];r!==null&&!t&&Pb(r,this._lView),cd(this._lView)}};var ks=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WO;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Zd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new mi(o)}}return n})();function WO(){return By(Dt(),ce())}function By(n,e){return n.type&4?new ks(e,n,Vs(n,e)):null}function eh(n,e,t,r,i){let o=n.data[e];if(o===null)o=KO(n,e,t,r,i),OC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=PC();o.injectorIndex=s===null?-1:s.injectorIndex}return Ss(o,!0),o}function KO(n,e,t,r,i){let o=Em(),s=Im(),a=s?o:o&&o.parent,u=n.data[e]=YO(n,a,t,e,r,i);return QO(n,u,o,s),u}function QO(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function YO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return MC()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function JO(n){let e=n[um]??[],r=n[at][Fe],i=[];for(let o of e)o.data[HT]!==void 0?i.push(o):ZO(o,r);n[um]=i}function ZO(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[$T];for(;t<i;){let o=r.nextSibling;ib(e,r,!1),r=o,t++}}}var XO=()=>null,e1=()=>null;function ty(n,e){return XO(n,e)}function xb(n,e,t){return e1(n,e,t)}var kb=class{},th=class{},ny=class{resolveComponentFactory(e){throw new G(917,!1)}},Lc=class{static NULL=new ny},ho=class{},Fn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>t1()}return n})();function t1(){let n=ce(),e=Dt(),t=pn(e.index,n);return(rr(t)?t:n)[Fe]}var Ob=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var Td={},ry=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Td,r);return i!==Td||t===Td?i:this.parentInjector.get(e,t,r)}};function kd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hg(i,a);else if(o==2){let u=a,l=e[++s];r=Hg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function B(n,e=0){let t=ce();if(t===null)return Z(n,e);let r=Dt();return kT(r,t,Et(n),e)}function $y(){let n="invalid";throw new Error(n)}function n1(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}o1(n,e,t,a,o,u,l)}o!==null&&r!==null&&r1(t,r,o)}function r1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}function i1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function o1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&ir(y)&&(u=!0,i1(n,t,m)),Km(Rd(t,e),n,y.type)}d1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=ab(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Ps(t.mergedAttrs,y.hostAttrs),a1(n,t,e,p,y),l1(p,y,i),s!==null&&s.has(y)){let[P,N]=s.get(y);t.directiveToIndex.set(y.type,[p,P+t.directiveStart,N+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}s1(n,t,o)}function s1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))cT(0,e,i,r),cT(1,e,i,r),lT(e,r,!1);else{let o=t.get(i);uT(0,e,o,r),uT(1,e,o,r),lT(e,r,!0)}}}function cT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Fb(e,o)}}function uT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Fb(e,s)}}function Fb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function lT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ay(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function a1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Yi(i.type,!0)),s=new uo(o,ir(i),B,null);n.blueprint[r]=s,t[r]=s,c1(n,e,r,ab(n,t,i.hostVars,Lt),i)}function c1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;u1(s)!=a&&s.push(a),s.push(t,r,o)}}function u1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function l1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ir(e)&&(t[""]=n)}}function d1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Lb(n,e,t,r,i,o,s,a){let u=e[Q],l=u.consts,h=or(l,s),p=eh(u,n,t,r,h);return o&&n1(u,e,p,or(l,a),i),p.mergedAttrs=Ps(p.mergedAttrs,p.attrs),p.attrs!==null&&kd(p,p.attrs,!1),p.mergedAttrs!==null&&kd(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Vb(n,e){ok(n,e),lm(e)&&n.queries.elementEnd(e)}function h1(n,e,t,r,i,o){let s=e.consts,a=or(s,i),u=eh(e,n,t,r,a);if(u.mergedAttrs=Ps(u.mergedAttrs,u.attrs),o!=null){let l=or(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&kd(u,u.attrs,!1),u.mergedAttrs!==null&&kd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function jb(n,e,t){return n[e]=t}function f1(n,e){return n[e]}function xn(n,e,t){if(t===Lt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Ub(n,e,t,r){let i=xn(n,e,t);return xn(n,e+1,r)||i}function p1(n,e,t,r,i){let o=Ub(n,e,t,r);return xn(n,e+2,i)||o}function jm(n,e,t){return function r(i){let o=pi(n)?pn(n.index,e):e;Uy(o,5);let s=e[Ge],a=dT(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=dT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function dT(n,e,t,r){let i=J(null);try{return Te(me.OutputStart,e,t),t(r)!==!1}catch(o){return NO(n,o),!1}finally{Te(me.OutputEnd,e,t),J(i)}}function g1(n,e,t,r,i,o,s,a){let u=sd(n),l=!1,h=null;if(!r&&u&&(h=y1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=Rn(n,t),m=r?r(p):p;Rk(t,m,o,a);let y=i.listen(m,o,a);if(!m1(o)){let A=r?P=>r(fn(P[n.index])):n.index;Bb(A,e,t,o,a,y,!1)}}return l}function m1(n){return n.startsWith("animation")||n.startsWith("transition")}function y1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ds],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Bb(n,e,t,r,i,o,s){let a=e.firstCreatePass?mm(e):null,u=gm(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function hT(n,e,t,r,i,o){let s=e[t],a=e[Q],l=a.data[t].outputs[r],p=s[l].subscribe(o);Bb(n.index,a,e,i,o,p,!0)}var iy=Symbol("BINDING");var Od=class extends Lc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Nr(e);return new fo(t,this.ngModule)}};function v1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Kd.SignalBased)!==0};return i&&(o.transform=i),o})}function _1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function E1(n,e,t){let r=e instanceof Ze?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new ry(t,r):t}function I1(n){let e=n.get(ho,null);if(e===null)throw new G(407,!1);let t=n.get(Ob,null),r=n.get(Rr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function w1(n,e){let t=$b(n);return nb(e,t,t==="svg"?IC:t==="math"?wC:null)}function $b(n){return(n.selectors[0][0]||"div").toLowerCase()}var fo=class extends th{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=v1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=_1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Hk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Te(me.DynamicComponentStart);let a=J(null);try{let u=this.componentDef,l=D1(r,u,s,o),h=E1(u,i||this.ngModule,e),p=I1(h),m=p.rendererFactory.createRenderer(null,u),y=r?yO(m,r,u.encapsulation,h):w1(u,m),A=s?.some(fT)||o?.some(j=>typeof j!="function"&&j.bindings.some(fT)),P=Ny(null,l,null,512|sb(u),null,null,p,m,h,null,GT(y,h,!0));P[It]=y,hd(P);let N=null;try{let j=Lb(It,P,2,"#host",()=>l.directiveRegistry,!0,0);ob(m,y,j),xs(y,P),mb(l,P,j),KT(l,j,P),Vb(l,j),t!==void 0&&T1(j,this.ngContentSelectors,t),N=pn(j.index,P),P[Ge]=N[Ge],jy(l,P,null)}catch(j){throw N!==null&&Ym(N),Ym(P),j}finally{Te(me.DynamicComponentEnd),fd()}return new Fd(this.componentType,P,!!A)}finally{J(a)}}};function D1(n,e,t,r){let i=n?["ng-version","21.0.1"]:qk(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[iy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[iy].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=rm(p);u.push(m)}return Ry(0,null,C1(o,s),1,a,u,null,null,null,[i],null)}function C1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function fT(n){let e=n[iy].kind;return e==="input"||e==="twoWay"}var Fd=class extends kb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Cc(t[Q],It),this.location=Vs(this._tNode,t),this.instance=pn(this._tNode.index,t)[Ge],this.hostView=this.changeDetectorRef=new mi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Vy(r,i[Q],i,e,t);this.previousInputValues.set(e,t);let s=pn(r.index,i);Uy(s,1)}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function T1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var yo=(()=>{class n{static __NG_ELEMENT_ID__=b1}return n})();function b1(){let n=Dt();return qb(n,ce())}var S1=yo,Hb=class extends S1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){let e=Iy(this._hostTNode,this._hostLView);if(AT(e)){let t=Ad(e,this._hostLView),r=Sd(e),i=t[Q].data[r+8];return new co(i,t)}else return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=pT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ty(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Rc(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!ek(e),l;if(u)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef,s=N.directives,a=N.bindings}let h=u?e:new fo(Nr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(Ze,null);j&&(o=j)}let m=Nr(h.componentType??{}),y=ty(this._lContainer,m?.id??null),A=y?.firstChild??null,P=h.create(p,i,A,o,s,a);return this.insertImpl(P.hostView,l,Rc(this._hostTNode,y)),P}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[at],l=new Hb(u,u[hn],u[at]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Xd(s,i,o,r),e.attachToViewContainerRef(),Xg(Um(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=pT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Mc(this._lContainer,t);r&&(vc(Um(this._lContainer),t),Yd(r[Q],r))}detach(e){let t=this._adjustIndex(e,-1),r=Mc(this._lContainer,t);return r&&vc(Um(this._lContainer),t)!=null?new mi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pT(n){return n[Dc]}function Um(n){return n[Dc]||(n[Dc]=[])}function qb(n,e){let t,r=e[n.index];return An(r)?t=r:(t=Rb(r,e,null,n),e[n.index]=t,My(e,t)),R1(t,e,n,r),new Hb(t,n,e)}function A1(n,e){let t=n[Fe],r=t.createComment(""),i=Rn(e,n),o=t.parentNode(i);return Pd(t,o,r,t.nextSibling(i),!1),r}var R1=P1,N1=()=>!1;function M1(n,e,t){return N1(n,e,t)}function P1(n,e,t,r){if(n[fi])return;let i;t.type&8?i=fn(r):i=A1(e,t),n[fi]=i}var oy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},sy=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Hy(e,t).matches!==null&&this.queries[t].setDirty()}},ay=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=U1(e):this.predicate=e}},cy=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},uy=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,x1(t,o)),this.matchTNodeWithReadOption(e,t,Cd(t,e,o,!1,!1))}else r===ks?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Cd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ft||i===yo||i===ks&&t.type&4)this.addMatch(t.index,-2);else{let o=Cd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function x1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function k1(n,e){return n.type&11?Vs(n,e):n.type&4?By(n,e):null}function O1(n,e,t,r){return t===-1?k1(e,n):t===-2?F1(n,e,r):Ac(n,n[Q],t,e)}function F1(n,e,t){if(t===Ft)return Vs(e,n);if(t===ks)return By(e,n);if(t===yo)return qb(e,n)}function zb(n,e,t,r){let i=e[nr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(O1(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function ly(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=zb(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Ue;p<h.length;p++){let m=h[p];m[hi]===m[at]&&ly(m[Q],m,l,r)}if(h[oo]!==null){let p=h[oo];for(let m=0;m<p.length;m++){let y=p[m];ly(y[Q],y,l,r)}}}}}return r}function L1(n,e){return n[nr].queries[e].queryList}function V1(n,e,t){let r=new Nd((t&4)===4);return SC(n,e,r,r.destroy),(e[nr]??=new sy).queries.push(new oy(r))-1}function j1(n,e,t,r){let i=wt();if(i.firstCreatePass){let o=Dt();B1(i,new ay(e,t,r),o.index),$1(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return V1(i,ce(),t)}function U1(n){return n.split(",").map(e=>e.trim())}function B1(n,e,t){n.queries===null&&(n.queries=new cy),n.queries.track(new uy(e,t))}function $1(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Hy(n,e){return n.queries.getByIndex(e)}function H1(n,e){let t=n[Q],r=Hy(t,e);return r.crossesNgTemplate?ly(t,n,e,[]):zb(t,n,r,e)}var Os=class{},nh=class{};var Ld=class extends Os{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Od(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=nm(e);this._bootstrapComponents=eb(o.bootstrap),this._r3Injector=Rm(e,t,[{provide:Os,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver},...r],Ar(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vd=class extends nh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ld(this.moduleType,e,[])}};var Pc=class extends Os{injector;componentFactoryResolver=new Od(this);instance=null;constructor(e){super();let t=new Zi([...e.providers,{provide:Os,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],e.parent||Ec(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function js(n,e,t=null){return new Pc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var q1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=im(!1,t.type),i=r.length>0?js([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(Z(Ze))})}return n})();function Le(n){return Ls(()=>{let e=Gb(n),t=W(R({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(q1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Pn.Emulated,styles:n.styles||Xt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&On("NgStandalone"),Wb(t);let r=n.dependencies;return t.directiveDefs=gT(r,z1),t.pipeDefs=gT(r,pC),t.id=K1(t),t})}function z1(n){return Nr(n)||rm(n)}function Ln(n){return Ls(()=>({type:n.type,bootstrap:n.bootstrap||Xt,declarations:n.declarations||Xt,imports:n.imports||Xt,exports:n.exports||Xt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G1(n,e){if(n==null)return li;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Kd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function W1(n){if(n==null)return li;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xe(n){return Ls(()=>{let e=Gb(n);return Wb(e),e})}function Gb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||li,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Xt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:G1(n.inputs,e),outputs:W1(n.outputs),debugInfo:null}}function Wb(n){n.features?.forEach(e=>e(n))}function gT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function K1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Q1(n){return Object.getPrototypeOf(n.prototype).constructor}function Vt(n){let e=Q1(n.type),t=!0,r=[n];for(;e;){let i;if(ir(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Bm(n.inputs),s.declaredInputs=Bm(n.declaredInputs),s.outputs=Bm(n.outputs);let a=i.hostBindings;a&&eF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Z1(n,u),l&&X1(n,l),Y1(n,i),iC(n.outputs,i.outputs),ir(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Vt&&(t=!1)}}e=Object.getPrototypeOf(e)}J1(r)}function Y1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function J1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ps(i.hostAttrs,t=Ps(t,i.hostAttrs))}}function Bm(n){return n===li?{}:n===Xt?[]:n}function Z1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function X1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function eF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tF(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Ps(n.mergedAttrs,n.attrs);let h=n.tView=Ry(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Ss(n,!1);let u=nF(t,e,n,r);gd()&&Oy(t,e,u,n),xs(u,e);let l=Rb(u,e,u,n);e[r+It]=l,My(e,l),M1(l,n,e)}function jd(n,e,t,r,i,o,s,a,u,l,h){let p=t+It,m;if(e.firstCreatePass){if(m=eh(e,p,4,s||null,a||null),l!=null){let y=or(e.consts,l);m.localNames=[];for(let A=0;A<y.length;A+=2)m.localNames.push(y[A],-1)}}else m=e.data[p];return tF(m,n,e,t,r,i,o,u),l!=null&&Ly(n,m,h),m}var nF=rF;function rF(n,e,t,r){return md(!0),e[Fe].createComment("")}var qy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Kb(n){return typeof n=="function"&&n[kt]!==void 0}function zy(n){return Kb(n)&&typeof n.set=="function"}var Gy=new q("");function vo(n){return!!n&&typeof n.then=="function"}function Qb(n){return!!n&&typeof n.subscribe=="function"}var Wy=new q("");function rh(n){return bn([{provide:Wy,multi:!0,useValue:n}])}var Ky=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(Wy,{optional:!0})??[];injector=M(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=et(this.injector,i);if(vo(o))t.push(o);else if(Qb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vc=new q("");function Yb(){ug(()=>{let n="";throw new G(600,n)})}function Jb(n){return n.isBoundToModule}var iF=10;var kr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(gn);afterRenderManager=M(xy);zonelessEnabled=M(As);rootEffectScheduler=M(Om);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ye;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(ar);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ye(t=>!t))}constructor(){M(mo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(Ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){return this._injector.get(Ce).run(()=>{Te(me.BootstrapComponentStart);let s=t instanceof th;if(!this._injector.get(Ky).done){let A="";throw new G(405,A)}let u;s?u=t:u=this._injector.get(Lc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Jb(u)?void 0:this._injector.get(Os),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Gy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Sc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Te(me.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(me.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Qd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Te(me.ChangeDetectionEnd),new G(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),Te(me.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ho,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<iF;){Te(me.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Te(me.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Tc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Tb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Tc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Vc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jc(n,e,t,r){let i=ce(),o=ao();if(xn(i,o,e)){let s=wt(),a=pd();SO(a,i,n,e,t,r)}return jc}var W9=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var dy=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function $m(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function oF(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){J(r);let l=e.length-1;for(J(null);s<=a&&s<=l;){let h=n.at(s),p=e[s],m=$m(s,h,s,p,t);if(m!==0){m<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),A=e[l],P=$m(a,y,l,A,t);if(P!==0){P<0&&n.updateValue(a,A),a--,l--;continue}let N=t(s,h),j=t(a,y),ie=t(s,p);if(Object.is(ie,j)){let de=t(l,A);Object.is(de,N)?(n.swap(s,a),n.updateValue(a,A),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new Ud,o??=yT(n,s,a,t),hy(n,i,s,ie))n.updateValue(s,p),s++,a++;else if(o.has(ie))i.set(N,n.detach(s)),a--;else{let de=n.create(s,e[s]);n.attach(s,de),s++,a++}}for(;s<=l;)mT(n,i,t,s,e[s]),s++}else if(e!=null){J(r);let l=e[Symbol.iterator]();J(null);let h=l.next();for(;!h.done&&s<=a;){let p=n.at(s),m=h.value,y=$m(s,p,s,m,t);if(y!==0)y<0&&n.updateValue(s,m),s++,h=l.next();else{i??=new Ud,o??=yT(n,s,a,t);let A=t(s,m);if(hy(n,i,s,A))n.updateValue(s,m),s++,a++,h=l.next();else if(!o.has(A))n.attach(s,n.create(s,m)),s++,a++,h=l.next();else{let P=t(s,p);i.set(P,n.detach(s)),a--}}}for(;!h.done;)mT(n,i,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function hy(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function mT(n,e,t,r,i){if(hy(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function yT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Ud=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function We(n,e,t,r,i,o,s,a){On("NgControlFlow");let u=ce(),l=wt(),h=or(l.consts,o);return jd(u,l,n,e,t,r,i,h,256,s,a),Qy}function Qy(n,e,t,r,i,o,s,a){On("NgControlFlow");let u=ce(),l=wt(),h=or(l.consts,o);return jd(u,l,n,e,t,r,i,h,512,s,a),Qy}function Ke(n,e){On("NgControlFlow");let t=ce(),r=ao(),i=t[r]!==Lt?t[r]:-1,o=i!==-1?Bd(t,It+i):void 0,s=0;if(xn(t,r,n)){let a=J(null);try{if(o!==void 0&&Mb(o,s),n!==-1){let u=It+n,l=Bd(t,u),h=my(t[Q],u),p=xb(l,h,t),m=Zd(t,h,e,{dehydratedView:p});Xd(l,m,s,Rc(h,p))}}finally{J(a)}}else if(o!==void 0){let a=Nb(o,s);a!==void 0&&(a[Ge]=e)}}var fy=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ue}};function Yy(n,e){return e}var py=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function jt(n,e,t,r,i,o,s,a,u,l,h,p,m){On("NgControlFlow");let y=ce(),A=wt(),P=u!==void 0,N=ce(),j=a?s.bind(N[tn][Ge]):s,ie=new py(P,j);N[It+n]=ie,jd(y,A,n+1,e,t,r,i,or(A.consts,o),256),P&&jd(y,A,n+2,u,l,h,p,or(A.consts,m),512)}var gy=class extends dy{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[Ge].$implicit}attach(e,t){let r=t[ws];this.needsIndexUpdate||=e!==this.length,Xd(this.lContainer,t,e,Rc(this.templateTNode,r)),sF(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,aF(this.lContainer,e),cF(this.lContainer,e)}create(e,t){let r=ty(this.lContainer,this.templateTNode.tView.ssrId),i=Zd(this.hostLView,this.templateTNode,new fy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Yd(e[Q],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ge].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ge].$index=e}getLView(e){return uF(this.lContainer,e)}};function Ut(n){let e=J(null),t=sr();try{let r=ce(),i=r[Q],o=r[t],s=t+1,a=Bd(r,s);if(o.liveCollection===void 0){let l=my(i,s);o.liveCollection=new gy(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(oF(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=ao(),h=u.length===0;if(xn(r,l,h)){let p=t+2,m=Bd(r,p);if(h){let y=my(i,p),A=xb(m,y,r),P=Zd(r,y,void 0,{dehydratedView:A});Xd(m,P,0,Rc(y,A))}else i.firstUpdatePass&&JO(m),Mb(m,0)}}}finally{J(e)}}function Bd(n,e){return n[e]}function sF(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t],i=r?r[io]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Mr];tO(o,i),lo.delete(r),i.detachedLeaveAnimationFns=void 0}}function aF(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t],i=r?r[io]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function cF(n,e){return Mc(n,e)}function uF(n,e){return Nb(n,e)}function my(n,e){return Cc(n,e)}function Se(n,e,t){let r=ce(),i=ao();if(xn(r,i,e)){let o=wt(),s=pd();yb(s,r,n,e,r[Fe],t)}return Se}function vT(n,e,t,r,i){Vy(e,n,t,i?"class":"style",r)}function F(n,e,t,r){let i=ce(),o=i[Q],s=n+It,a=o.firstCreatePass?Lb(s,i,2,e,bO,NC(),t,r):o.data[s];if(vb(a,i,n,e,Zb),sd(a)){let u=i[Q];mb(u,i,a),KT(u,a,i)}return r!=null&&Ly(i,a),F}function O(){let n=wt(),e=Dt(),t=_b(e);return n.firstCreatePass&&Vb(n,t),vm(t)&&_m(),ym(),t.classesWithoutHost!=null&&ak(t)&&vT(n,t,ce(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ck(t)&&vT(n,t,ce(),t.stylesWithoutHost,!1),O}function ke(n,e,t,r){return F(n,e,t,r),O(),ke}function Vn(n,e,t,r){let i=ce(),o=i[Q],s=n+It,a=o.firstCreatePass?h1(s,o,2,e,t,r):o.data[s];return vb(a,i,n,e,Zb),r!=null&&Ly(i,a),Vn}function Qt(){let n=Dt(),e=_b(n);return vm(e)&&_m(),ym(),Qt}var Zb=(n,e,t,r,i)=>(md(!0),nb(e[Fe],r,HC()));function Bt(){return ce()}var Uc="en-US";var lF=Uc;function Xb(n){typeof n=="string"&&(lF=n.toLowerCase().replace(/_/g,"-"))}function pe(n,e,t){let r=ce(),i=wt(),o=Dt();return eS(i,r,r[Fe],o,n,e,t),pe}function eS(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=jm(r,e,o),g1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=jm(r,e,o),hT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=jm(r,e,o),hT(r,e,p,i,i,u)}}function ve(n=1){return $C(n)}function Jy(n,e,t,r){j1(n,e,t,r)}function Zy(n){let e=ce(),t=wt(),r=bm();dd(r+1);let i=Hy(t,r);if(n.dirty&&DC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=H1(e,r);n.reset(o,Ik),n.notifyOnChanges()}return!0}return!1}function Xy(){return L1(ce(),bm())}function Id(n,e){return n<<17|e<<2}function po(n){return n>>17&32767}function dF(n){return(n&2)==2}function hF(n,e){return n&131071|e<<17}function yy(n){return n|2}function Fs(n){return(n&131068)>>2}function Hm(n,e){return n&-131069|e<<2}function fF(n){return(n&1)===1}function vy(n){return n|1}function pF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=po(s),u=Fs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Is(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=po(n[a+1]);n[r+1]=Id(m,a),m!==0&&(n[m+1]=Hm(n[m+1],r)),n[a+1]=hF(n[a+1],r)}else n[r+1]=Id(a,0),a!==0&&(n[a+1]=Hm(n[a+1],r)),a=r;else n[r+1]=Id(u,0),a===0?a=r:n[u+1]=Hm(n[u+1],r),u=r;l&&(n[r+1]=yy(n[r+1])),_T(n,h,r,!0),_T(n,h,r,!1),gF(e,h,n,r,o),s=Id(a,u),o?e.classBindings=s:e.styleBindings=s}function gF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Is(o,e)>=0&&(t[r+1]=vy(t[r+1]))}function _T(n,e,t,r){let i=n[t+1],o=e===null,s=r?po(i):Fs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];mF(u,e)&&(a=!0,n[s+1]=r?vy(l):yy(l)),s=r?po(l):Fs(l)}a&&(n[t+1]=r?yy(i):vy(i))}function mF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Is(n,e)>=0:!1}function Us(n,e,t){return tS(n,e,t,!1),Us}function Bc(n,e){return tS(n,e,null,!0),Bc}function tS(n,e,t,r){let i=ce(),o=wt(),s=ud(2);if(o.firstUpdatePass&&vF(o,n,s,r),e!==Lt&&xn(i,s,e)){let a=o.data[sr()];DF(o,a,i,i[Fe],n,i[s+1]=CF(e,t),r,s)}}function yF(n,e){return e>=n.expandoStartIndex}function vF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[sr()],s=yF(n,t);TF(o,r)&&e===null&&!s&&(e=!1),e=_F(i,o,e,r),pF(i,o,e,t,s,r)}}function _F(n,e,t,r){let i=VC(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=qm(null,n,e,t,r),t=xc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=qm(i,n,e,t,r),o===null){let u=EF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=qm(null,n,e,u[1],r),u=xc(u,e.attrs,r),IF(n,e,r,u))}else o=wF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function EF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Fs(r)!==0)return n[po(r)]}function IF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[po(i)]=r}function wF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=xc(r,s,t)}return xc(r,e.attrs,t)}function qm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=xc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function xc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),fC(n,s,t?!0:e[++o]))}return n===void 0?null:n}function DF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=fF(l)?ET(u,e,t,i,Fs(l),s):void 0;if(!$d(h)){$d(o)||dF(l)&&(o=ET(u,null,t,i,a,s));let p=dm(sr(),t);mO(r,s,p,i,o)}}function ET(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Lt&&(m=p?Xt:void 0);let y=p?id(m,r):h===r?m:void 0;if(l&&!$d(y)&&(y=id(u,r)),$d(y)&&(a=y,s))return a;let A=n[i+1];i=s?po(A):Fs(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=id(u,r))}return a}function $d(n){return n!==void 0}function CF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ar(Oc(n)))),n}function TF(n,e){return(n.flags&(e?8:16))!==0}function L(n,e=""){let t=ce(),r=wt(),i=n+It,o=r.firstCreatePass?eh(r,i,1,e,null):r.data[i],s=bF(r,t,o,e,n);t[i]=s,gd()&&Oy(r,t,s,o),Ss(o,!1)}var bF=(n,e,t,r,i)=>(md(!0),zk(e[Fe],r));function SF(n,e,t,r=""){return xn(n,ao(),t)?e+er(t)+r:Lt}function AF(n,e,t,r,i,o=""){let s=Tm(),a=Ub(n,s,t,i);return ud(2),a?e+er(t)+r+er(i)+o:Lt}function RF(n,e,t,r,i,o,s,a=""){let u=Tm(),l=p1(n,u,t,i,s);return ud(3),l?e+er(t)+r+er(i)+o+er(s)+a:Lt}function St(n){return ft("",n),St}function ft(n,e,t){let r=ce(),i=SF(r,n,e,t);return i!==Lt&&ev(r,sr(),i),ft}function ih(n,e,t,r,i){let o=ce(),s=AF(o,n,e,t,r,i);return s!==Lt&&ev(o,sr(),s),ih}function ur(n,e,t,r,i,o,s){let a=ce(),u=RF(a,n,e,t,r,i,o,s);return u!==Lt&&ev(a,sr(),u),ur}function ev(n,e,t){let r=dm(e,n);Gk(n[Fe],r,t)}function oh(n,e,t){zy(e)&&(e=e());let r=ce(),i=ao();if(xn(r,i,e)){let o=wt(),s=pd();yb(s,r,n,e,r[Fe],t)}return oh}function tv(n,e){let t=zy(n);return t&&n.set(e),t}function sh(n,e){let t=ce(),r=wt(),i=Dt();return eS(r,t,t[Fe],i,n,e),sh}function NF(n,e,t){let r=wt();if(r.firstCreatePass){let i=ir(n);_y(t,r.data,r.blueprint,i,!0),_y(e,r.data,r.blueprint,i,!1)}}function _y(n,e,t,r,i){if(n=Et(n),Array.isArray(n))for(let o=0;o<n.length;o++)_y(n[o],e,t,r,i);else{let o=wt(),s=ce(),a=Dt(),u=Ji(n)?n:Et(n.provide),l=sm(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ji(n)||!n.multi){let y=new uo(l,i,B,null),A=Gm(u,e,i?h:h+m,p);A===-1?(Km(Rd(a,s),o,u),zm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[A]=y,s[A]=y)}else{let y=Gm(u,e,h+m,p),A=Gm(u,e,h,h+m),P=y>=0&&t[y],N=A>=0&&t[A];if(i&&!N||!i&&!P){Km(Rd(a,s),o,u);let j=xF(i?PF:MF,t.length,i,r,l,n);!i&&N&&(t[A].providerFactory=j),zm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=nS(t[i?A:y],l,!i&&r);zm(o,n,y>-1?y:A,j)}!i&&r&&N&&t[A].componentProviders++}}}function zm(n,e,t,r){let i=Ji(e),o=vC(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function nS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Gm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function MF(n,e,t,r,i){return Ey(this.multi,[])}function PF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Ac(r,r[Q],this.providerFactory.index,i);s=u.slice(0,a),Ey(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Ey(o,s);return s}function Ey(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function xF(n,e,t,r,i,o){let s=new uo(n,t,B,null);return s.multi=[],s.index=e,s.componentProviders=0,nS(s,i,r&&!t),s}function lr(n,e=[]){return t=>{t.providersResolver=(r,i)=>NF(r,i?i(n):n,e)}}function _o(n,e,t){let r=Cm()+n,i=ce();return i[r]===Lt?jb(i,r,t?e.call(t):e()):f1(i,r)}function Bs(n,e,t,r){return OF(ce(),Cm(),n,e,t,r)}function kF(n,e){let t=n[e];return t===Lt?void 0:t}function OF(n,e,t,r,i,o){let s=e+t;return xn(n,s,i)?jb(n,s+1,o?r.call(o,i):r(i)):kF(n,s+1)}var Hd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},nv=(()=>{class n{compileModuleSync(t){return new Vd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=nm(t),o=eb(i.declarations).reduce((s,a)=>{let u=Nr(a);return u&&s.push(new fo(u)),s},[]);return new Hd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rS=(()=>{class n{applicationErrorHandler=M(gn);appRef=M(kr);taskService=M(ar);ngZone=M(Ce);zonelessEnabled=M(As);tracing=M(mo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(vd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Pm:Mm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iS(){return[{provide:Rr,useExisting:rS},{provide:Ce,useClass:gc},{provide:As,useValue:!0}]}function FF(){return typeof $localize<"u"&&$localize.locale||Uc}var rv=new q("",{factory:()=>M(rv,{optional:!0,skipSelf:!0})||FF()});function yn(n,e){return El(n,e?.equal)}var aS=Symbol("InputSignalNode#UNSET"),zF=W(R({},Il),{transformFn:void 0,applyValueToInputSignal(n,e){sc(n,e)}});function cS(n,e){let t=Object.create(zF);t.value=n,t.transformFn=e?.transform;function r(){if(rc(t),t.value===aS){let i=null;throw new G(-950,i)}return t.value}return r[kt]=t,r}var ch=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>kc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function oS(n,e){return cS(n,e)}function GF(n){return cS(aS,n)}var uS=(oS.required=GF,oS);var WF=(()=>{class n{zone=M(Ce);changeDetectionScheduler=M(Rr);applicationRef=M(kr);applicationErrorHandler=M(gn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KF=new q("",{factory:()=>!1});function QF({ngZoneFactory:n,scheduleInRootZone:e}){return n??=()=>new Ce(W(R({},dS()),{scheduleInRootZone:e})),[{provide:As,useValue:!1},{provide:Ce,useFactory:n},{provide:di,multi:!0,useFactory:()=>{let t=M(WF,{optional:!0});return()=>t.initialize()}},{provide:di,multi:!0,useFactory:()=>{let t=M(YF);return()=>{t.initialize()}}},{provide:vd,useValue:e??Nm}]}function lS(n){let e=n?.scheduleInRootZone,t=QF({ngZoneFactory:()=>{let r=dS(n);return r.scheduleInRootZone=e,r.shouldCoalesceEventChangeDetection&&On("NgZone_CoalesceEvent"),new Ce(r)},scheduleInRootZone:e});return bn([{provide:KF,useValue:!0},t])}function dS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var YF=(()=>{class n{subscription=new ze;initialized=!1;zone=M(Ce);pendingTasks=M(ar);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var iv=new q(""),JF=new q("");function $c(n){return!n.moduleRef}function ZF(n){let e=$c(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ce);return t.run(()=>{$c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(gn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),$c(n)){let o=()=>e.destroy(),s=n.platformInjector.get(iv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(iv);s.add(o),n.moduleRef.onDestroy(()=>{Sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return eL(r,t,()=>{let o=e.get(ar),s=o.add(),a=e.get(Ky);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(rv,Uc);if(Xb(u||Uc),!e.get(JF,!0))return $c(n)?e.get(kr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($c(n)){let h=e.get(kr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return XF?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var XF;function eL(n,e,t){try{let r=t();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var ah=null;function tL(n=[],e){return Xe.create({name:e,providers:[{provide:_c,useValue:"platform"},{provide:iv,useValue:new Set([()=>ah=null])},...n]})}function nL(n=[]){if(ah)return ah;let e=tL(n);return ah=e,Yb(),rL(e),e}function rL(n){let e=n.get(zd,null);et(n,()=>{e?.forEach(t=>t())})}function ov(){return!1}var Or=(()=>{class n{static __NG_ELEMENT_ID__=iL}return n})();function iL(n){return oL(Dt(),ce(),(n&16)===16)}function oL(n,e,t){if(pi(n)&&!t){let r=pn(n.index,e);return new mi(r,r)}else if(n.type&175){let r=e[tn];return new mi(r,e)}return null}function hS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Te(me.BootstrapApplicationStart);try{let o=i?.injector??nL(r),s=[iS(),GC,...t||[]],a=new Pc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return ZF({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(me.BootstrapApplicationEnd)}}function Eo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fS(n){let e=Nr(n);if(!e)return null;let t=new fo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var mS=null;function vn(){return mS}function sv(n){mS??=n}var Hc=class{},qc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(yS),providedIn:"platform"})}return n})(),av=new q(""),yS=(()=>{class n extends qc{_location;_history;_doc=M(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function uh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function pS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function jn(n){return n&&n[0]!=="?"?`?${n}`:n}var Un=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(dh),providedIn:"root"})}return n})(),lh=new q(""),dh=(()=>{class n extends Un{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+jn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(qc),Z(lh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yi=(()=>{class n{_subject=new Ye;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=cL(pS(gS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+jn(r))}normalize(t){return n.stripTrailingSlash(aL(this._basePath,gS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+jn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=jn;static joinWithSlash=uh;static stripTrailingSlash=pS;static \u0275fac=function(r){return new(r||n)(Z(Un))};static \u0275prov=H({token:n,factory:()=>sL(),providedIn:"root"})}return n})();function sL(){return new yi(Z(Un))}function aL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gS(n){return n.replace(/\/index.html$/,"")}function cL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var cv=(()=>{class n extends Un{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=uh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+jn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+jn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(qc),Z(lh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var _n=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=ln({})}return n})();function uv(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zc=class{};var vS="browser";var _S=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new lv(M(tt),window)})}return n})(),lv=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(W(R({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=lL(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Xi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(W(R({},t),{left:i-s[0],top:o-s[1]}))}};function lL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Gc=class{_doc;constructor(e){this._doc=e}manager},hh=(()=>{class n extends Gc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),gh=new q(""),pv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof hh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof hh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(gh),Z(Ce))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),dv="ng-app-id";function ES(n){for(let e of n)e.remove()}function IS(n,e){let t=e.createElement("style");return t.textContent=n,t}function hL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${dv}="${e}"],link[${dv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(dv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,hL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,IS);r?.forEach(i=>this.addUsage(i,this.external,fv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ES(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ES(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,IS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,fv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(tt),Z(qd),Z(Gd,8),Z(go))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mv=/%COMP%/g;var DS="%COMP%",fL=`_nghost-${DS}`,pL=`_ngcontent-${DS}`,gL=!0,mL=new q("",{factory:()=>gL});function yL(n){return pL.replace(mv,n)}function vL(n){return fL.replace(mv,n)}function CS(n,e){return e.map(t=>t.replace(mv,n))}var yv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Wc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ph?i.applyToHost(t):i instanceof Kc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Pn.Emulated:o=new ph(u,l,r,this.appId,h,s,a,p,m);break;case Pn.ShadowDom:return new fh(u,t,r,s,a,this.nonce,p,m,l);case Pn.ExperimentalIsolatedShadowDom:return new fh(u,t,r,s,a,this.nonce,p,m);default:o=new Kc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(pv),Z(gv),Z(qd),Z(mL),Z(tt),Z(Ce),Z(Gd),Z(mo,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Wc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(hv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=hv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=hv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pr.DashCase|Pr.Important)?e.style.setProperty(t,r,i&Pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new G(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function wS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fh=class extends Wc{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,i,o,a,u),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=CS(r.id,h);for(let m of h){let y=document.createElement("style");s&&y.setAttribute("nonce",s),y.textContent=m,this.shadowRoot.appendChild(y)}let p=r.getExternalStyles?.();if(p)for(let m of p){let y=fv(m,i);s&&y.setAttribute("nonce",s),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Kc=class extends Wc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?CS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&lo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ph=class extends Kc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=yL(h),this.hostAttr=vL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var mh=class n extends Hc{supportsDOMEvents=!0;static makeCurrent(){sv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_L();return t==null?null:EL(t)}resetBaseElement(){Qc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uv(document.cookie,e)}},Qc=null;function _L(){return Qc=Qc||document.head.querySelector("base"),Qc?Qc.getAttribute("href"):null}function EL(n){return new URL(n,document.baseURI).pathname}var IL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),TS=["alt","control","meta","shift"],wL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bS=(()=>{class n extends Gc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=wL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TS.forEach(s=>{if(s!==i){let a=DL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function vv(n,e,t){let r=R({rootComponent:n,platformRef:t?.platformRef},CL(e));return hS(r)}function CL(n){return{appProviders:[...RL,...n?.providers??[]],platformProviders:AL}}function TL(){mh.makeCurrent()}function bL(){return new Xn}function SL(){return Dy(document),document}var AL=[{provide:go,useValue:vS},{provide:zd,useValue:TL,multi:!0},{provide:tt,useFactory:SL}];var RL=[{provide:_c,useValue:"root"},{provide:Xn,useFactory:bL},{provide:gh,useClass:hh,multi:!0},{provide:gh,useClass:bS,multi:!0},yv,gv,pv,{provide:ho,useExisting:yv},{provide:zc,useClass:IL},[]];var SS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(tt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",su=Symbol("RouteTitle"),Dv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Co(n){return new Dv(n)}function FS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function wh(n){return new Promise((e,t)=>{n.pipe(br()).subscribe({next:r=>e(r),error:r=>t(r)})})}function PL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dr(n[t],e[t]))return!1;return!0}function dr(n,e){let t=n?Cv(n):void 0,r=e?Cv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!LS(n[i],e[i]))return!1;return!0}function Cv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function LS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function VS(n){return n.length>0?n[n.length-1]:null}function To(n){return $l(n)?n:vo(n)?Me(Promise.resolve(n)):oe(n)}function jS(n){return $l(n)?wh(n):Promise.resolve(n)}var xL={exact:BS,subset:$S},US={exact:kL,subset:OL,ignored:()=>!0};function AS(n,e,t){return xL[t.paths](n.root,e.root,t.matrixParams)&&US[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kL(n,e){return dr(n,e)}function BS(n,e,t){if(!wo(n.segments,e.segments)||!_h(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!BS(n.children[r],e.children[r],t))return!1;return!0}function OL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>LS(n[t],e[t]))}function $S(n,e,t){return HS(n,e,e.segments,t)}function HS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!wo(i,t)||e.hasChildren()||!_h(i,t,r))}else if(n.segments.length===t.length){if(!wo(n.segments,t)||!_h(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!$S(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!wo(n.segments,i)||!_h(n.segments,i,r)||!n.children[ee]?!1:HS(n.children[ee],e,o,r)}}function _h(n,e,t){return e.every((r,i)=>US[t](n[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return VL.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}},vi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return zS(this)}};function FL(n,e){return wo(n,e)&&n.every((t,r)=>dr(t.parameters,e[r].parameters))}function wo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function LL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var bo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Fr,providedIn:"root"})}return n})(),Fr=class{parse(e){let t=new bv(e);return new $n(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Yc(e.root,!0)}`,r=BL(e.queryParams),i=typeof e.fragment=="string"?`#${jL(e.fragment)}`:"";return`${t}${r}${i}`}},VL=new Fr;function Eh(n){return n.segments.map(e=>zS(e)).join("/")}function Yc(n,e){if(!n.hasChildren())return Eh(n);if(e){let t=n.children[ee]?Yc(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Yc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=LL(n,(r,i)=>i===ee?[Yc(n.children[ee],!1)]:[`${i}:${Yc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${Eh(n)}/${t[0]}`:`${Eh(n)}/(${t.join("//")})`}}function qS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(n){return qS(n).replace(/%3B/gi,";")}function jL(n){return encodeURI(n)}function Tv(n){return qS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ih(n){return decodeURIComponent(n)}function RS(n){return Ih(n.replace(/\+/g,"%20"))}function zS(n){return`${Tv(n.path)}${UL(n.parameters)}`}function UL(n){return Object.entries(n).map(([e,t])=>`;${Tv(e)}=${Tv(t)}`).join("")}function BL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${yh(t)}=${yh(i)}`).join("&"):`${yh(t)}=${yh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var $L=/^[^\/()?;#]+/;function _v(n){let e=n.match($L);return e?e[0]:""}var HL=/^[^\/()?;=#]+/;function qL(n){let e=n.match(HL);return e?e[0]:""}var zL=/^[^=?&#]+/;function GL(n){let e=n.match(zL);return e?e[0]:""}var WL=/^[^&#]+/;function KL(n){let e=n.match(WL);return e?e[0]:""}var bv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new _e(e,t)),r}parseSegment(){let e=_v(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new vi(Ih(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=qL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_v(this.remaining);i&&(r=i,this.capture(r))}e[Ih(t)]=Ih(r)}parseQueryParam(e){let t=GL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=KL(this.remaining);s&&(r=s,this.capture(r))}let i=RS(t),o=RS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_v(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new _e([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function GS(n){return n.segments.length>0?new _e([],{[ee]:n}):n}function WS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=WS(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new _e(n.segments,e);return QL(t)}function QL(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new _e(n.segments.concat(e.segments),e.children)}return n}function _i(n){return n instanceof $n}function KS(n,e,t=null,r=null,i=new Fr){let o=QS(n);return YS(o,e,t,r,i)}function QS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new _e(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=GS(r);return e??i}function YS(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Ev(o,o,o,t,r,i);let s=YL(e);if(s.toRoot())return Ev(o,o,new _e([],{}),t,r,i);let a=JL(s,o,n),u=a.processChildren?Zc(a.segmentGroup,a.index,s.commands):ZS(a.segmentGroup,a.index,s.commands);return Ev(o,a.segmentGroup,u,t,r,i)}function Dh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function eu(n){return typeof n=="object"&&n!=null&&n.outlets}function NS(n,e,t){n||="\u0275";let r=new $n;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Ev(n,e,t,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>NS(l,p,o)):NS(l,h,o);let a;n===e?a=t:a=JS(n,e,t);let u=GS(WS(a));return new $n(u,s,i)}function JS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=JS(o,e,t)}),new _e(n.segments,r)}var Ch=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dh(r[0]))throw new G(4003,!1);let i=r.find(eu);if(i&&i!==VS(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ch(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ch(t,e,r)}var Hs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function JL(n,e,t){if(n.isAbsolute)return new Hs(e,!0,0);if(!t)return new Hs(e,!1,NaN);if(t.parent===null)return new Hs(t,!0,0);let r=Dh(n.commands[0])?0:1,i=t.segments.length-1+r;return ZL(t,i,n.numberOfDoubleDots)}function ZL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Hs(r,!1,i-o)}function XL(n){return eu(n[0])?n[0].outlets:{[ee]:n}}function ZS(n,e,t){if(n??=new _e([],{}),n.segments.length===0&&n.hasChildren())return Zc(n,e,t);let r=eV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new _e(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new _e(n.segments.slice(r.pathIndex),n.children),Zc(o,0,i)}else return r.match&&i.length===0?new _e(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?Zc(n,0,i):Sv(n,e,t)}function Zc(n,e,t){if(t.length===0)return new _e(n.segments,{});{let r=XL(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=Zc(n.children[ee],e,t);return new _e(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ZS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(n.segments,i)}}function eV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(eu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!PS(u,l,s))return o;r+=2}else{if(!PS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(eu(o)){let u=tV(o.outlets);return new _e(r,u)}if(i===0&&Dh(t[0])){let u=n.segments[e];r.push(new vi(u.path,MS(t[0]))),i++;continue}let s=eu(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Dh(a)?(r.push(new vi(s,MS(a))),i+=2):(r.push(new vi(s,{})),i++)}return new _e(r,{})}function tV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sv(new _e([],{}),0,r))}),e}function MS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function PS(n,e,t){return n==t.path&&dr(e,t.parameters)}var qs="imperative",ut=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ut||{}),on=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ei=class extends on{type=ut.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends on{urlAfterRedirects;type=ut.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$t=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})($t||{}),Gs=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Gs||{}),hr=class extends on{reason;code;type=ut.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends on{reason;code;type=ut.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ws=class extends on{error;target;type=ut.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tu=class extends on{urlAfterRedirects;state;type=ut.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends on{urlAfterRedirects;state;type=ut.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bh=class extends on{urlAfterRedirects;state;shouldActivate;type=ut.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sh=class extends on{urlAfterRedirects;state;type=ut.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class extends on{urlAfterRedirects;state;type=ut.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class{route;type=ut.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Nh=class{route;type=ut.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mh=class{snapshot;type=ut.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ph=class{snapshot;type=ut.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xh=class{snapshot;type=ut.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kh=class{snapshot;type=ut.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ks=class{routerEvent;position;anchor;type=ut.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nu=class{},Qs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function nV(n){return!(n instanceof nu)&&!(n instanceof Qs)}function rV(n,e){return n.providers&&!n._injector&&(n._injector=js(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Bn(n){return n.outlet||ee}function iV(n,e){let t=n.filter(r=>Bn(r)===e);return t.push(...n.filter(r=>Bn(r)!==e)),t}function Zs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Oh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new So(this.rootInjector)}},So=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Oh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z(Ze))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Av(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Av(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Rv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rv(e,this._root).map(t=>t.value)}};function Av(n,e){if(n===e.value)return e;for(let t of e.children){let r=Av(n,t);if(r)return r}return null}function Rv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Rv(n,t);if(r.length)return r.unshift(e),r}return[]}var rn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function $s(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ru=class extends Fh{snapshot;constructor(e,t){super(e),this.snapshot=t,Ov(this,e)}toString(){return this.snapshot.toString()}};function XS(n){let e=oV(n),t=new vt([new vi("",{})]),r=new vt({}),i=new vt({}),o=new vt({}),s=new vt(""),a=new At(t,r,o,s,i,ee,n,e.root);return a.snapshot=e.root,new ru(new rn(a,[]),e)}function oV(n){let e={},t={},r={},o=new Do([],e,r,"",t,ee,n,null,{});return new iu("",new rn(o,[]))}var At=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ye(l=>l[su]))??oe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:R(R({},e.params),n.params),data:R(R({},e.data),n.data),resolve:R(R(R(R({},n.data),e.data),i?.data),n._resolvedData)}:r={params:R({},n.params),data:R({},n.data),resolve:R(R({},n.data),n._resolvedData??{})},i&&t0(i)&&(r.resolve[su]=i.title),r}var Do=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[su]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},iu=class extends Fh{url;constructor(e,t){super(t),this.url=e,Ov(this,t)}toString(){return e0(this._root)}};function Ov(n,e){e.value._routerState=n,e.children.forEach(t=>Ov(n,t))}function e0(n){let e=n.children.length>0?` { ${n.children.map(e0).join(", ")} } `:"";return`${n.value}${e}`}function Iv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dr(e.params,t.params)||n.paramsSubject.next(t.params),PL(e.url,t.url)||n.urlSubject.next(t.url),dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Nv(n,e){let t=dr(n.params,e.params)&&FL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Nv(n.parent,e.parent))}function t0(n){return typeof n.title=="string"||n.title===null}var n0=new q(""),au=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Pe;deactivateEvents=new Pe;attachEvents=new Pe;detachEvents=new Pe;routerOutletData=uS(void 0,{});parentContexts=M(So);location=M(yo);changeDetector=M(Or);inputBinder=M(cu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Mv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mn]})}return n})(),Mv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===At?this.route:e===So?this.childContexts:e===n0?this.outletData:this.parent.get(e,t)}},cu=new q(""),Fv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Gl([r.queryParams,r.params,r.data]).pipe(Tn(([o,s,a],u)=>(a=R(R(R({},o),s),a),u===0?oe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=fS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Lv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Le({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[au],encapsulation:2})}return n})();function Vv(n){let e=n.children&&n.children.map(Vv),t=e?W(R({},n),{children:e}):R({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=Lv),t}function sV(n,e,t){let r=ou(n,e._root,t?t._root:void 0);return new ru(r,e)}function ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=aV(n,e,t);return new rn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ou(n,a)),s}}let r=cV(e.value),i=e.children.map(o=>ou(n,o));return new rn(r,i)}}function aV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ou(n,r,i);return ou(n,r)})}function cV(n){return new At(new vt(n.url),new vt(n.params),new vt(n.queryParams),new vt(n.fragment),new vt(n.data),n.outlet,n.component,n)}var Ys=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},r0="ngNavigationCancelingError";function Vh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=_i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=i0(!1,$t.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function i0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[r0]=!0,t.cancellationCode=e,t}function uV(n){return o0(n)&&_i(n.url)}function o0(n){return!!n&&n[r0]}var lV=(n,e,t,r)=>ye(i=>(new Pv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=$s(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$s(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=$s(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ph(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Iv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},jh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function dV(n,e,t){let r=n._root,i=e?e._root:null;return Jc(r,i,t,[r.value])}function hV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zg(n)?n:e.get(n):r}function Jc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$s(e);return n.children.forEach(s=>{fV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xc(a,t.getContext(s),i)),i}function fV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=pV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jc(n,e,a?a.children:null,r,i):Jc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zs(a.outlet.component,s))}else s&&Xc(e,a,i),i.canActivateChecks.push(new jh(r)),o.component?Jc(n,null,a?a.children:null,r,i):Jc(n,null,t,r,i);return i}function pV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!wo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wo(n.url,e.url)||!dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nv(n,e)||!dr(n.queryParams,e.queryParams);case"paramsChange":default:return!Nv(n,e)}}function Xc(n,e,t){let r=$s(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xc(s,e.children.getContext(o),t):Xc(s,null,t):Xc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new zs(e.outlet.component,i)):t.canDeactivateChecks.push(new zs(null,i)):t.canDeactivateChecks.push(new zs(null,i))}function uu(n){return typeof n=="function"}function gV(n){return typeof n=="boolean"}function mV(n){return n&&uu(n.canLoad)}function yV(n){return n&&uu(n.canActivate)}function vV(n){return n&&uu(n.canActivateChild)}function _V(n){return n&&uu(n.canDeactivate)}function EV(n){return n&&uu(n.canMatch)}function s0(n){return n instanceof Wi||n?.name==="EmptyError"}var vh=Symbol("INITIAL_VALUE");function Js(){return Tn(n=>Gl(n.map(e=>e.pipe(Tr(1),Kl(vh)))).pipe(ye(e=>{for(let t of e)if(t!==!0){if(t===vh)return vh;if(t===!1||IV(t))return t}return!0}),Jt(e=>e!==vh),Tr(1)))}function IV(n){return _i(n)||n instanceof Ys}function a0(n){return n.aborted?oe(void 0).pipe(Tr(1)):new ae(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function c0(n){return lc(a0(n))}function wV(n,e){return _t(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?oe(W(R({},t),{guardsResult:!0})):DV(s,r,i,n).pipe(_t(a=>a&&gV(a)?CV(r,o,n,e):oe(a)),ye(a=>W(R({},t),{guardsResult:a})))})}function DV(n,e,t,r){return Me(n).pipe(_t(i=>RV(i.component,i.route,t,e,r)),br(i=>i!==!0,!0))}function CV(n,e,t,r){return Me(e).pipe(vs(i=>ms(bV(i.route.parent,r),TV(i.route,r),AV(n,i.path,t),SV(n,i.route,t))),br(i=>i!==!0,!0))}function TV(n,e){return n!==null&&e&&e(new xh(n)),oe(!0)}function bV(n,e){return n!==null&&e&&e(new Mh(n)),oe(!0)}function SV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(o=>uc(()=>{let s=Zs(e)??t,a=Xs(o,s),u=yV(a)?a.canActivate(e,n):et(s,()=>a(e,n));return To(u).pipe(br())}));return oe(i).pipe(Js())}function AV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>hV(s)).filter(s=>s!==null).map(s=>uc(()=>{let a=s.guards.map(u=>{let l=Zs(s.node)??t,h=Xs(u,l),p=vV(h)?h.canActivateChild(r,n):et(l,()=>h(r,n));return To(p).pipe(br())});return oe(a).pipe(Js())}));return oe(o).pipe(Js())}function RV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=Zs(e)??i,l=Xs(a,u),h=_V(l)?l.canDeactivate(n,e,t,r):et(u,()=>l(n,e,t,r));return To(h).pipe(br())});return oe(s).pipe(Js())}function NV(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return oe(!0);let s=o.map(a=>{let u=Xs(a,n),l=mV(u)?u.canLoad(e,t):et(n,()=>u(e,t)),h=To(l);return i?h.pipe(c0(i)):h});return oe(s).pipe(Js(),u0(r))}function u0(n){return bl(Ot(e=>{if(typeof e!="boolean")throw Vh(n,e)}),ye(e=>e===!0))}function MV(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=Xs(a,n),l=EV(u)?u.canMatch(e,t):et(n,()=>u(e,t)),h=To(l);return i?h.pipe(c0(i)):h});return oe(s).pipe(Js(),u0(r))}var Io=class l0 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,l0.prototype)}},xv=class d0 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,d0.prototype)}};function PV(n){throw new G(4e3,!1)}function xV(n){throw i0(!1,$t.GuardRejected)}var kV=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){return w(this,null,function*(){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ee])throw PV(`${e.redirectTo}`);i=i.children[ee]}})}applyRedirectCommands(e,t,r,i,o){return w(this,null,function*(){let s=yield OV(t,i,o);if(s instanceof $n)throw new xv(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new xv(a);return a})}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new $n(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function OV(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return wh(To(et(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p}))))}var kv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FV(n,e,t,r,i,o){let s=h0(n,e,t);return s.matched?(r=rV(e,r),MV(r,e,t,i,o).pipe(ye(a=>a===!0?s:R({},kv)))):oe(s)}function h0(n,e,t){if(e.path==="**")return LV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?R({},kv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FS)(t,n,e);if(!i)return R({},kv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?R(R({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LV(n){return{matched:!0,parameters:n.length>0?VS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function xS(n,e,t,r){return t.length>0&&UV(n,t,r)?{segmentGroup:new _e(e,jV(r,new _e(t,n.children))),slicedSegments:[]}:t.length===0&&BV(n,t,r)?{segmentGroup:new _e(n.segments,VV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new _e(n.segments,n.children),slicedSegments:t}}function VV(n,e,t,r){let i={};for(let o of t)if(Bh(n,e,o)&&!r[Bn(o)]){let s=new _e([],{});i[Bn(o)]=s}return R(R({},r),i)}function jV(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&Bn(r)!==ee){let i=new _e([],{});t[Bn(r)]=i}return t}function UV(n,e,t){return t.some(r=>Bh(n,e,r)&&Bn(r)!==ee)}function BV(n,e,t){return t.some(r=>Bh(n,e,r))}function Bh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function $V(n,e,t){return e.length===0&&!n.children[t]}var HV=class{};function qV(n,e,t,r,i,o,s="emptyOnly",a){return w(this,null,function*(){return new GV(n,e,t,r,i,s,o,a).recognize()})}var zV=31,GV=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new kV(this.urlSerializer,this.urlTree)}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){return w(this,null,function*(){let e=xS(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=yield this.match(e),i=new rn(r,t),o=new iu("",i),s=KS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(e){return w(this,null,function*(){let t=new Do([],Object.freeze({}),Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,e,ee,t),rootSnapshot:t}}catch(r){if(r instanceof xv)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Io?this.noMatchError(r):r}})}processSegmentGroup(e,t,r,i,o){return w(this,null,function*(){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=yield this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof rn?[s]:[]})}processChildren(e,t,r,i){return w(this,null,function*(){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=iV(t,u),p=yield this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=f0(s);return WV(a),a})}processSegment(e,t,r,i,o,s,a){return w(this,null,function*(){for(let u of t)try{return yield this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof Io||s0(l))continue;throw l}if($V(r,i,o))return new HV;throw new Io(r)})}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return w(this,null,function*(){if(Bn(r)!==s&&(s===ee||!Bh(i,o,r)))throw new Io(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new Io(i)})}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){return w(this,null,function*(){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=h0(t,i,o);if(!u)throw new Io(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zV&&(this.allowRedirects=!1));let y=new Do(o,l,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,kS(i),Bn(i),i.component??i._loadedComponent??null,i,OS(i)),A=Lh(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let P=yield this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),N=yield this.applyRedirects.lineralizeSegments(i,P);return this.processSegment(e,r,t,N.concat(m),s,!1,a)})}matchSegmentAgainstRoute(e,t,r,i,o,s){return w(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield wh(FV(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Io(t);e=r._injector??e;let{routes:u}=yield this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:m}=a,y=new Do(p,h,Object.freeze(R({},this.urlTree.queryParams)),this.urlTree.fragment,kS(r),Bn(r),r.component??r._loadedComponent??null,r,OS(r)),A=Lh(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let{segmentGroup:P,slicedSegments:N}=xS(t,p,m,u);if(N.length===0&&P.hasChildren()){let de=yield this.processChildren(l,u,P,y);return new rn(y,de)}if(u.length===0&&N.length===0)return new rn(y,[]);let j=Bn(r)===o,ie=yield this.processSegment(l,u,P,N,j?ee:o,!0,y);return new rn(y,ie instanceof rn?[ie]:[])})}getChildConfig(e,t,r){return w(this,null,function*(){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield wh(NV(e,t,r,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw xV(t)}return{routes:[],injector:e}})}};function WV(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function KV(n){let e=n.value.routeConfig;return e&&e.path===""}function f0(n){let e=[],t=new Set;for(let r of n){if(!KV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=f0(r.children);e.push(new rn(r.value,i))}return e.filter(r=>!t.has(r))}function kS(n){return n.data||{}}function OS(n){return n.resolve||{}}var QV=new q("",{factory:()=>qV});function YV(n,e,t,r,i,o,s){let a=n.get(QV);return _t(u=>oe(u).pipe(Tn(l=>a(n,e,t,r,l.extractedUrl,i,o,s)),ye(({state:l,tree:h})=>W(R({},u),{targetSnapshot:l,urlAfterRedirects:h}))))}function JV(n,e){return _t(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return oe(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of p0(u))s.add(l);let a=0;return Me(s).pipe(vs(u=>o.has(u)?ZV(u,r,n,e):(u.data=Lh(u,u.parent,n).resolve,oe(void 0))),Ot(()=>a++),Wl(1),_t(u=>a===s.size?oe(t):Wt))})}function p0(n){let e=n.children.map(t=>p0(t)).flat();return[n,...e]}function ZV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!t0(i)&&(o[su]=i.title),uc(()=>(n.data=Lh(n,n.parent,t).resolve,XV(o,n,e,r).pipe(ye(s=>(n._resolvedData=s,n.data=R(R({},n.data),s),null)))))}function XV(n,e,t,r){let i=Cv(n);if(i.length===0)return oe({});let o={};return Me(i).pipe(_t(s=>e2(n[s],e,t,r).pipe(br(),Ot(a=>{if(a instanceof Ys)throw Vh(new Fr,a);o[s]=a}))),Wl(1),ye(()=>o),ys(s=>s0(s)?Wt:wg(s)))}function e2(n,e,t,r){let i=Zs(e)??r,o=Xs(n,i),s=o.resolve?o.resolve(e,t):et(i,()=>o(e,t));return To(s)}function wv(n){return Tn(e=>{let t=n(e);return t?Me(t).pipe(ye(()=>e)):oe(e)})}var jv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[su]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(g0),providedIn:"root"})}return n})(),g0=(()=>{class n extends jv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z(SS))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ii=new q("",{factory:()=>({})}),Ao=new q(""),$h=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(nv);loadComponent(t,r){return w(this,null,function*(){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=w(this,null,function*(){try{let o=yield jS(et(t,()=>r.loadComponent())),s=yield v0(y0(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}});return this.componentLoaders.set(r,i),i})}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=w(this,null,function*(){try{let o=yield m0(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}});return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m0(n,e,t,r){return w(this,null,function*(){let i=yield jS(et(t,()=>n.loadChildren())),o=yield v0(y0(i)),s;o instanceof nh||Array.isArray(o)?s=o:s=yield e.compileModuleAsync(o),r&&r(n);let a,u,l=!1;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,u=a.get(Ao,[],{optional:!0,self:!0}).flat()),{routes:u.map(Vv),injector:a}})}function t2(n){return n&&typeof n=="object"&&"default"in n}function y0(n){return t2(n)?n.default:n}function v0(n){return w(this,null,function*(){return n})}var Hh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(n2),providedIn:"root"})}return n})(),n2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uv=new q(""),Bv=new q("");function _0(n,e,t){let r=n.get(Bv),i=n.get(tt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),r2(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&et(n,()=>u({transition:a,from:e,to:t})),s}function r2(n){return new Promise(e=>{Fc({read:()=>setTimeout(e)},{injector:n})})}var i2=()=>{},$v=new q(""),qh=(()=>{class n{currentNavigation=Re(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Re(null,{});events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=M($h);environmentInjector=M(Ze);destroyRef=M(Nn);urlSerializer=M(bo);rootContexts=M(So);location=M(yi);inputBindingEnabled=M(cu,{optional:!0})!==null;titleStrategy=M(jv);options=M(Ii,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Hh);createViewTransition=M(Uv,{optional:!0});navigationErrorHandler=M($v,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>oe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Rh(i)),r=i=>this.events.next(new Nh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ct(()=>{this.transitions?.next(W(R({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new vt(null),this.transitions.pipe(Jt(r=>r!==null),Tn(r=>{let i=!1,o=new AbortController;return oe(r).pipe(Tn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$t.SupersededByNewNavigation),Wt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?W(R({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&l!=="reload")return this.events.next(new fr(s.id,this.urlSerializer.serialize(s.rawUrl),"",Gs.IgnoredSameUrlNavigation)),s.resolve(!1),Wt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return oe(s).pipe(Tn(h=>(this.events.next(new Ei(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Wt:Promise.resolve(h))),YV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Ot(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation.update(m=>(m.finalUrl=h.urlAfterRedirects,m));let p=new tu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:y,extras:A}=s,P=new Ei(h,this.urlSerializer.serialize(p),m,y);this.events.next(P);let N=XS(this.rootComponentType).snapshot;return this.currentTransition=r=W(R({},s),{targetSnapshot:N,urlAfterRedirects:p,extras:W(R({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(j=>(j.finalUrl=p,j)),oe(r)}else return this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Gs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Wt}),Ot(s=>{let a=new Th(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ye(s=>(this.currentTransition=r=W(R({},s),{guards:dV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),wV(this.environmentInjector,s=>this.events.next(s)),Ot(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Vh(this.urlSerializer,s.guardsResult);let a=new bh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Jt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",$t.GuardRejected),!1)),wv(s=>{if(s.guards.canActivateChecks.length!==0)return oe(s).pipe(Ot(a=>{let u=new Sh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Tn(a=>{let u=!1;return oe(a).pipe(JV(this.paramsInheritanceStrategy,this.environmentInjector),Ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",$t.NoDataFromResolver)}}))}),Ot(a=>{let u=new Ah(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),wv(s=>{let a=l=>{let h=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let p=Zs(l)??this.environmentInjector;h.push(this.configLoader.loadComponent(p,l.routeConfig).then(m=>{l.component=m}))}for(let p of l.children)h.push(...a(p));return h},u=a(s.targetSnapshot.root);return u.length===0?oe(s):Me(Promise.all(u).then(()=>s))}),wv(()=>this.afterPreactivation()),Tn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Me(u).pipe(ye(()=>r)):oe(r)}),ye(s=>{let a=sV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=W(R({},s),{targetRouterState:a}),this.currentNavigation.update(u=>(u.targetRouterState=a,u)),r}),Ot(()=>{this.events.next(new nu)}),lV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Tr(1),lc(a0(o.signal).pipe(Jt(()=>!i&&!r.targetRouterState),Ot(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",$t.Aborted)}))),Ot({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=i2,a)),this.lastSuccessfulNavigation.set(ct(this.currentNavigation)),this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),lc(this.transitionAbortWithErrorSubject.pipe(Ot(s=>{throw s}))),Tg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",$t.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ys(s=>{if(this.destroyed)return r.resolve(!1),Wt;if(i=!0,o0(s))this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),uV(s)?this.events.next(new Qs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ws(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=et(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ys){let{message:l,cancellationCode:h}=Vh(this.urlSerializer,u);this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Qs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Wt}))}))}cancelNavigationTransition(t,r,i){let o=new hr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ct(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o2(n){return n!==qs}var E0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(s2),providedIn:"root"})}return n})(),Uh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},s2=(()=>{class n extends Uh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hv=(()=>{class n{urlSerializer=M(bo);options=M(Ii,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(yi);urlHandlingStrategy=M(Hh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof $n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=XS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>M(I0),providedIn:"root"})}return n})(),I0=(()=>{class n extends Hv{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ei?this.updateStateMemento():t instanceof fr?this.commitTransition(r):t instanceof tu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof nu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hr&&t.code!==$t.SupersededByNewNavigation&&t.code!==$t.Redirect?this.restoreHistory(r):t instanceof Ws?this.restoreHistory(r,!0):t instanceof sn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=R(R({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=R(R({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zh(n,e){n.events.pipe(Jt(t=>t instanceof sn||t instanceof hr||t instanceof Ws||t instanceof fr),ye(t=>t instanceof sn||t instanceof fr?0:(t instanceof hr?t.code===$t.Redirect||t.code===$t.SupersededByNewNavigation:!1)?2:1),Jt(t=>t!==2),Tr(1)).subscribe(()=>{e()})}var a2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(qy);stateManager=M(Hv);options=M(Ii,{optional:!0})||{};pendingTasks=M(ar);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(qh);urlSerializer=M(bo);location=M(yi);urlHandlingStrategy=M(Hh);injector=M(Ze);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(E0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Ao,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(cu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ct(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hr&&r.code!==$t.Redirect&&r.code!==$t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof Qs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=R({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||o2(i.source)},s);this.scheduleNavigation(a,qs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}nV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=R({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(gn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ct(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Vv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=R(R({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=QS(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return YS(p,t,h,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_i(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,qs,null,r)}navigate(t,r={skipLocationChange:!1}){return u2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Xi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=R({},a2):r===!1?i=R({},c2):i=r,_i(t))return AS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return AS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return zh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}var pr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Re(null,{});get href(){return ct(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=M(gn);options=M(Ii,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new ch("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof sn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(_i(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:_i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(B(pt),B(At),kc("tabindex"),B(Fn),B(Ft),B(Un))};static \u0275dir=xe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jc("href",i.reactiveHref(),Sy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Eo],replaceUrl:[2,"replaceUrl","replaceUrl",Eo],routerLink:"routerLink"},features:[mn]})}return n})(),zv=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Pe;link=M(pr,{optional:!0});constructor(t,r,i,o){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof sn&&this.update()})}ngAfterContentInit(){oe(this.links.changes,oe(null)).pipe(ai()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Me(t).pipe(ai()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=l2(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(B(pt),B(Ft),B(Fn),B(Or))};static \u0275dir=xe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Jy(o,pr,5),r&2){let s;Zy(s=Xy())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mn]})}return n})();function l2(n){return!!n.paths}var lu=class{};var w0=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof sn),vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=js(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(ai())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Me(this.loader.loadChildren(t,r)):i=oe(null);let o=i.pipe(_t(s=>s===null?oe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Me([o,s]).pipe(ai())}else return o})}static \u0275fac=function(r){return new(r||n)(Z(pt),Z(Ze),Z(lu),Z($h))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D0=new q(""),d2=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=qs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fr&&t.code===Gs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ks))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>w(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ks(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){$y()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Gv(n,...e){return bn([{provide:Ao,multi:!0,useValue:n},[],{provide:At,useFactory:C0},{provide:Vc,multi:!0,useFactory:T0},e.map(t=>t.\u0275providers)])}function C0(){return M(pt).routerState.root}function du(n,e){return{\u0275kind:n,\u0275providers:e}}function T0(){let n=M(Xe);return e=>{let t=n.get(kr);if(e!==t.components[0])return;let r=n.get(pt),i=n.get(b0);n.get(Wv)===1&&r.initialNavigation(),n.get(R0,null,{optional:!0})?.setUpPreloading(),n.get(D0,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var b0=new q("",{factory:()=>new Ye}),Wv=new q("",{factory:()=>1});function S0(){let n=[{provide:Cy,useValue:!0},{provide:Wv,useValue:0},rh(()=>{let e=M(Xe);return e.get(av,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(pt),o=e.get(b0);zh(i,()=>{r(!0)}),e.get(qh).afterPreactivation=()=>(r(!0),o.closed?oe(void 0):o),i.initialNavigation()}))})];return du(2,n)}function A0(){let n=[rh(()=>{M(pt).setUpLocationChangeListener()}),{provide:Wv,useValue:2}];return du(3,n)}var R0=new q("");function N0(n){return du(0,[{provide:R0,useExisting:w0},{provide:lu,useExisting:n}])}function M0(){return du(8,[Fv,{provide:cu,useExisting:Fv}])}function P0(n){On("NgRouterViewTransitions");let e=[{provide:Uv,useValue:_0},{provide:Bv,useValue:R({skipNextTransition:!!n?.skipInitialTransition},n)}];return du(9,e)}var x0=[yi,{provide:bo,useClass:Fr},pt,So,{provide:At,useFactory:C0},$h,[]],hu=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[x0,[],{provide:Ao,multi:!0,useValue:t},[],r?.errorHandler?{provide:$v,useValue:r.errorHandler}:[],{provide:Ii,useValue:r||{}},r?.useHash?f2():p2(),h2(),r?.preloadingStrategy?N0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?g2(r):[],r?.bindToComponentInputs?M0().\u0275providers:[],r?.enableViewTransitions?P0().\u0275providers:[],m2()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ao,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=ln({})}return n})();function h2(){return{provide:D0,useFactory:()=>{let n=M(_S),e=M(Ce),t=M(Ii),r=M(qh),i=M(bo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new d2(i,r,n,e,t)}}}function f2(){return{provide:Un,useClass:cv}}function p2(){return{provide:Un,useClass:dh}}function g2(n){return[n.initialNavigation==="disabled"?A0().\u0275providers:[],n.initialNavigation==="enabledBlocking"?S0().\u0275providers:[]]}var qv=new q("");function m2(){return[{provide:qv,useFactory:T0},{provide:Vc,multi:!0,useExisting:qv}]}var k0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Le({type:n,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"home"]],template:function(r,i){r&1&&(Vn(0,"section",0)(1,"h2"),L(2,"Vitaj v Quest OverFlow!"),Qt(),Vn(3,"p"),L(4,"Tu m\xF4\u017Ee\u0161 spravova\u0165 svoje dobrodru\u017Estv\xE1, sledova\u0165 sk\xFAsenosti a plni\u0165 \xFAlohy ako prav\xFD hrdina!"),Qt()())},encapsulation:2})}}return n})();var $0=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(B(Fn),B(Ft))};static \u0275dir=xe({type:n})}return n})(),rf=(()=>{class n extends $0{static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275dir=xe({type:n,features:[Vt]})}return n})(),No=new q("");var y2={provide:No,useExisting:en(()=>gr),multi:!0};function v2(){let n=vn()?vn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var _2=new q(""),gr=(()=>{class n extends $0{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!v2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(B(Fn),B(Ft),B(_2,8))};static \u0275dir=xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[lr([y2]),Vt]})}return n})();function Yv(n){return n==null||Jv(n)===0}function Jv(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var of=new q(""),sf=new q(""),E2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gt=class{static min(e){return I2(e)}static max(e){return w2(e)}static required(e){return D2(e)}static requiredTrue(e){return C2(e)}static email(e){return T2(e)}static minLength(e){return b2(e)}static maxLength(e){return S2(e)}static pattern(e){return A2(e)}static nullValidator(e){return H0()}static compose(e){return Q0(e)}static composeAsync(e){return J0(e)}};function I2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function w2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function D2(n){return Yv(n.value)?{required:!0}:null}function C2(n){return n.value===!0?null:{required:!0}}function T2(n){return Yv(n.value)||E2.test(n.value)?null:{email:!0}}function b2(n){return e=>{let t=e.value?.length??Jv(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function S2(n){return e=>{let t=e.value?.length??Jv(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function A2(n){if(!n)return H0;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Yv(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function H0(n){return null}function q0(n){return n!=null}function z0(n){return vo(n)?Me(n):n}function G0(n){let e={};return n.forEach(t=>{e=t!=null?R(R({},e),t):e}),Object.keys(e).length===0?null:e}function W0(n,e){return e.map(t=>t(n))}function R2(n){return!n.validate}function K0(n){return n.map(e=>R2(e)?e:t=>e.validate(t))}function Q0(n){if(!n)return null;let e=n.filter(q0);return e.length==0?null:function(t){return G0(W0(t,e))}}function Y0(n){return n!=null?Q0(K0(n)):null}function J0(n){if(!n)return null;let e=n.filter(q0);return e.length==0?null:function(t){let r=W0(t,e).map(z0);return Dg(r).pipe(ye(G0))}}function Z0(n){return n!=null?J0(K0(n)):null}function O0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function X0(n){return n._rawValidators}function eA(n){return n._rawAsyncValidators}function Kv(n){return n?Array.isArray(n)?n:[n]:[]}function Wh(n,e){return Array.isArray(n)?n.includes(e):n===e}function F0(n,e){let t=Kv(e);return Kv(n).forEach(i=>{Wh(t,i)||t.push(i)}),t}function L0(n,e){return Kv(e).filter(t=>!Wh(n,t))}var Kh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Z0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ro=class extends Kh{name;get formDirective(){return null}get path(){return null}},Lr=class extends Kh{_parent=null;name=null;valueAccessor=null},Qh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var En=(()=>{class n extends Qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Lr,2))};static \u0275dir=xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Bc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Vt]})}return n})(),Di=(()=>{class n extends Qh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(B(Ro,10))};static \u0275dir=xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Bc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Vt]})}return n})();var pu="VALID",Gh="INVALID",ea="PENDING",gu="DISABLED",wi=class{},Yh=class extends wi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},mu=class extends wi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},yu=class extends wi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ta=class extends wi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Qv=class extends wi{source;constructor(e){super(),this.source=e}},Jh=class extends wi{source;constructor(e){super(),this.source=e}};function tA(n){return(af(n)?n.validators:n)||null}function N2(n){return Array.isArray(n)?Y0(n):n||null}function nA(n,e){return(af(e)?e.asyncValidators:n)||null}function M2(n){return Array.isArray(n)?Z0(n):n||null}function af(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function P2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function x2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Zh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ct(this.statusReactive)}set status(e){ct(()=>this.statusReactive.set(e))}_status=yn(()=>this.statusReactive(),{});statusReactive=Re(void 0,{});get valid(){return this.status===pu}get invalid(){return this.status===Gh}get pending(){return this.status==ea}get disabled(){return this.status===gu}get enabled(){return this.status!==gu}errors;get pristine(){return ct(this.pristineReactive)}set pristine(e){ct(()=>this.pristineReactive.set(e))}_pristine=yn(()=>this.pristineReactive(),{});pristineReactive=Re(!0,{});get dirty(){return!this.pristine}get touched(){return ct(this.touchedReactive)}set touched(e){ct(()=>this.touchedReactive.set(e))}_touched=yn(()=>this.touchedReactive(),{});touchedReactive=Re(!1,{});get untouched(){return!this.touched}_events=new Ye;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(F0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(F0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L0(e,this._rawAsyncValidators))}hasValidator(e){return Wh(this._rawValidators,e)}hasAsyncValidator(e){return Wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(W(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new yu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new yu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(W(R({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new mu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new mu(!0,r))}markAsPending(e={}){this.status=ea;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ta(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(W(R({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=gu,this.errors=null,this._forEachChild(i=>{i.disable(W(R({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yh(this.value,r)),this._events.next(new ta(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=pu,this._forEachChild(r=>{r.enable(W(R({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(W(R({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pu||this.status===ea)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yh(this.value,t)),this._events.next(new ta(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(W(R({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gu:pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ea,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=z0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ta(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?gu:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ea)?ea:this._anyControlsHaveStatus(Gh)?Gh:pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new mu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new yu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){af(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=N2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=M2(this._rawAsyncValidators)}},Hn=class extends Zh{constructor(e,t,r){super(tA(t),nA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){x2(this,!0,e),Object.keys(e).forEach(r=>{P2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,W(R({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Jh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vu=new q("",{factory:()=>cf}),cf="always";function rA(n,e){return[...e.path,n]}function Xh(n,e,t=cf){Zv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),O2(n,e),L2(n,e),F2(n,e),k2(n,e)}function ef(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function k2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Zv(n,e){let t=X0(n);e.validator!==null?n.setValidators(O0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=eA(n);e.asyncValidator!==null?n.setAsyncValidators(O0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();tf(e._rawValidators,i),tf(e._rawAsyncValidators,i)}function nf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=X0(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=eA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return tf(e._rawValidators,r),tf(e._rawAsyncValidators,r),t}function O2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&iA(n,e)})}function F2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&iA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function iA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function L2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function V2(n,e){n==null,Zv(n,e)}function j2(n,e){return nf(n,e)}function Xv(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function U2(n){return Object.getPrototypeOf(n.constructor)===rf}function B2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function e_(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===gr?t=o:U2(o)?r=o:i=o}),i||r||t||null}function $2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function V0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ct=class extends Zh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(tA(t),nA(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(j0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Jh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){j0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H2=n=>n instanceof Ct;var q2={provide:Lr,useExisting:en(()=>t_)},U0=Promise.resolve(),t_=(()=>{class n extends Lr{_changeDetectorRef;callSetDisabledState;control=new Ct;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=e_(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Xv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Xh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){U0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Eo(r);U0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?rA(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(B(Ro,9),B(of,10),B(sf,10),B(No,10),B(Or,8),B(vu,8))};static \u0275dir=xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[lr([q2]),Vt,mn]})}return n})();var na=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),z2={provide:No,useExisting:en(()=>_u),multi:!0},_u=(()=>{class n extends rf{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&pe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[lr([z2]),Vt]})}return n})();var G2=(()=>{class n extends Ro{callSetDisabledState;get submitted(){return ct(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=yn(()=>this._submittedReactive(),{});_submittedReactive=Re(!1,{});_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(nf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Xh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ef(t.control||null,t,!1),$2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,B2(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Qv(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ef(r||null,t),H2(i)&&(Xh(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);V2(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&j2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&nf(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(B(of,10),B(sf,10),B(vu,8))};static \u0275dir=xe({type:n,features:[Vt,mn]})}return n})();var n_=new q(""),W2={provide:Lr,useExisting:en(()=>r_)},r_=(()=>{class n extends Lr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Pe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=e_(this,i)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&ef(r,this,!1),Xh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Xv(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ef(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||n)(B(of,10),B(sf,10),B(No,10),B(n_,8),B(vu,8))};static \u0275dir=xe({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[lr([W2]),Vt,mn]})}return n})();var K2={provide:Lr,useExisting:en(()=>Vr)},Vr=(()=>{class n extends Lr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Pe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=e_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Xv(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return rA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(B(Ro,13),B(of,10),B(sf,10),B(No,10),B(n_,8))};static \u0275dir=xe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[lr([K2]),Vt,mn]})}return n})();var Q2={provide:Ro,useExisting:en(()=>jr)},jr=(()=>{class n extends G2{form=null;ngSubmit=new Pe;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lr([Q2]),Vt]})}return n})(),Y2={provide:No,useExisting:en(()=>Ci),multi:!0};function oA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function J2(n){return n.split(":")[0]}var Ci=(()=>{class n extends rf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=M(kr).injector;destroyRef=M(Nn);cdr=M(Or);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Fc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=oA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=J2(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lr([Y2]),Vt]})}return n})(),ra=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(oA(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(B(Ft),B(Fn),B(Ci,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Z2={provide:No,useExisting:en(()=>sA),multi:!0};function B0(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function X2(n){return n.split(":")[0]}var sA=(()=>{class n extends rf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=X2(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=kn(n)))(i||n)}})();static \u0275dir=xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&pe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lr([Z2]),Vt]})}return n})(),ia=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(B0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(B0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(B(Ft),B(Fn),B(sA,9))};static \u0275dir=xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var aA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=ln({})}return n})();var cA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vu,useValue:t.callSetDisabledState??cf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=ln({imports:[aA]})}return n})(),mr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:n_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:vu,useValue:t.callSetDisabledState??cf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=ln({imports:[aA]})}return n})();var sa=(()=>{class n{constructor(){this.searchChange=new Pe,this.searchControl=new Ct(""),this.searchControl.valueChanges.subscribe(t=>{this.searchChange.emit(t??"")})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Le({type:n,selectors:[["app-search"]],outputs:{searchChange:"searchChange"},decls:1,vars:1,consts:[["placeholder","Search...",1,"search-input",3,"formControl"]],template:function(r,i){r&1&&ke(0,"input",0),r&2&&Se("formControl",i.searchControl)},dependencies:[mr,gr,En,r_],encapsulation:2})}}return n})();var uA=()=>{};var hA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ej=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ej(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new o_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},o_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},tj=function(n){let e=hA(n);return uf.encodeByteArray(e,!0)},Iu=function(n){return tj(n).replace(/\./g,"")},lf=function(n){try{return uf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nj=()=>a_().__FIREBASE_DEFAULTS__,rj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ij=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&lf(n[1]);return e&&JSON.parse(e)},df=()=>{try{return uA()||nj()||rj()||ij()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fA=n=>df()?.emulatorHosts?.[n],pA=n=>{let e=fA(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},c_=()=>df()?.config,gA=n=>df()?.[`_${n}`];var Mo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Po(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function u_(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function mA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=R({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Iu(JSON.stringify(t)),Iu(JSON.stringify(s)),""].join(".")}var Eu={};function oj(){let n={prod:[],emulator:[]};for(let e of Object.keys(Eu))Eu[e]?n.emulator.push(e):n.prod.push(e);return n}function sj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var lA=!1;function l_(n,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||Eu[n]===e||Eu[n]||lA)return;Eu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=oj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{lA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=sj(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),j=t("preprendIcon"),ie=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let de=m.element;a(de),h(N,P);let Mt=l();u(ie,j),de.append(ie,A,N,Mt),document.body.appendChild(de)}o?(A.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function aj(){let n=df()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){return!aj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wu(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var cj="FirebaseError",In=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new In(i,a,r)}};function uj(n,e){return n.replace(lj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lj=/\{\$([^}]+)}/g;function xo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(dA(o)&&dA(s)){if(!xo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function dA(n){return n!==null&&typeof n=="object"}function d_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function DA(n,e){let t=new s_(n,e);return t.subscribe.bind(t)}var s_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=i_),i.error===void 0&&(i.error=i_),i.complete===void 0&&(i.complete=i_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function i_(){}var jte=14400*1e3;function cn(n){return n&&n._delegate?n._delegate:n}var Ht=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ko="[DEFAULT]";var h_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Mo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fj(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hj(n){return n===ko?void 0:n}function fj(n){return n.instantiationMode==="EAGER"}var hf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new h_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pj=[],le=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(le||{}),gj={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},mj=le.INFO,yj={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},vj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=yj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=mj,this._logHandler=vj,this._userLogHandler=null,pj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var _j=(n,e)=>e.some(t=>n instanceof t),CA,TA;function Ej(){return CA||(CA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ij(){return TA||(TA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bA=new WeakMap,p_=new WeakMap,SA=new WeakMap,f_=new WeakMap,m_=new WeakMap;function wj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(vr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bA.set(t,n)}).catch(()=>{}),m_.set(e,n),e}function Dj(n){if(p_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});p_.set(n,e)}var g_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return p_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||SA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AA(n){g_=n(g_)}function Cj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ff(this),e,...t);return SA.set(r,e.sort?e.sort():[e]),vr(r)}:Ij().includes(n)?function(...e){return n.apply(ff(this),e),vr(bA.get(this))}:function(...e){return vr(n.apply(ff(this),e))}}function Tj(n){return typeof n=="function"?Cj(n):(n instanceof IDBTransaction&&Dj(n),_j(n,Ej())?new Proxy(n,g_):n)}function vr(n){if(n instanceof IDBRequest)return wj(n);if(f_.has(n))return f_.get(n);let e=Tj(n);return e!==n&&(f_.set(n,e),m_.set(e,n)),e}var ff=n=>m_.get(n);function NA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=vr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vr(s.result),u.oldVersion,u.newVersion,vr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var bj=["get","getKey","getAll","getAllKeys","count"],Sj=["put","add","delete","clear"],y_=new Map;function RA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(y_.get(e))return y_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Sj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bj.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return y_.set(e,o),o}AA(n=>W(R({},n),{get:(e,t,r)=>RA(e,t)||n.get(e,t,r),has:(e,t)=>!!RA(e,t)||n.has(e,t)}));var __=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Aj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Aj(n){return n.getComponent()?.type==="VERSION"}var E_="@firebase/app",MA="0.14.6";var Ur=new yr("@firebase/app"),Rj="@firebase/app-compat",Nj="@firebase/analytics-compat",Mj="@firebase/analytics",Pj="@firebase/app-check-compat",xj="@firebase/app-check",kj="@firebase/auth",Oj="@firebase/auth-compat",Fj="@firebase/database",Lj="@firebase/data-connect",Vj="@firebase/database-compat",jj="@firebase/functions",Uj="@firebase/functions-compat",Bj="@firebase/installations",$j="@firebase/installations-compat",Hj="@firebase/messaging",qj="@firebase/messaging-compat",zj="@firebase/performance",Gj="@firebase/performance-compat",Wj="@firebase/remote-config",Kj="@firebase/remote-config-compat",Qj="@firebase/storage",Yj="@firebase/storage-compat",Jj="@firebase/firestore",Zj="@firebase/ai",Xj="@firebase/firestore-compat",eU="firebase",tU="12.6.0";var I_="[DEFAULT]",nU={[E_]:"fire-core",[Rj]:"fire-core-compat",[Mj]:"fire-analytics",[Nj]:"fire-analytics-compat",[xj]:"fire-app-check",[Pj]:"fire-app-check-compat",[kj]:"fire-auth",[Oj]:"fire-auth-compat",[Fj]:"fire-rtdb",[Lj]:"fire-data-connect",[Vj]:"fire-rtdb-compat",[jj]:"fire-fn",[Uj]:"fire-fn-compat",[Bj]:"fire-iid",[$j]:"fire-iid-compat",[Hj]:"fire-fcm",[qj]:"fire-fcm-compat",[zj]:"fire-perf",[Gj]:"fire-perf-compat",[Wj]:"fire-rc",[Kj]:"fire-rc-compat",[Qj]:"fire-gcs",[Yj]:"fire-gcs-compat",[Jj]:"fire-fst",[Xj]:"fire-fst-compat",[Zj]:"fire-vertex","fire-js":"fire-js",[eU]:"fire-js-all"};var Du=new Map,rU=new Map,w_=new Map;function PA(n,e){try{n.container.addComponent(e)}catch(t){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zn(n){let e=n.name;if(w_.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;w_.set(e,n);for(let t of Du.values())PA(t,n);for(let t of rU.values())PA(t,n);return!0}function pf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Br(n){return n==null?!1:n.settings!==void 0}var iU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new qn("app","Firebase",iU);var D_=class{constructor(e,t,r){this._isDeleted=!1,this._options=R({},e),this._config=R({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};var aa=tU;function b_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=R({name:I_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(t||(t=c_()),!t)throw Ti.create("no-options");let o=Du.get(i);if(o){if(xo(t,o.options)&&xo(r,o.config))return o;throw Ti.create("duplicate-app",{appName:i})}let s=new hf(i);for(let u of w_.values())s.addComponent(u);let a=new D_(t,r,s);return Du.set(i,a),a}function ca(n=I_){let e=Du.get(n);if(!e&&n===I_&&c_())return b_();if(!e)throw Ti.create("no-app",{appName:n});return e}function gf(){return Array.from(Du.values())}function Qe(n,e,t){let r=nU[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(s.join(" "));return}zn(new Ht(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var oU="firebase-heartbeat-database",sU=1,Cu="firebase-heartbeat-store",v_=null;function FA(){return v_||(v_=NA(oU,sU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ti.create("idb-open",{originalErrorMessage:n.message})})),v_}function aU(n){return w(this,null,function*(){try{let t=(yield FA()).transaction(Cu),r=yield t.objectStore(Cu).get(LA(n));return yield t.done,r}catch(e){if(e instanceof In)Ur.warn(e.message);else{let t=Ti.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(t.message)}}})}function xA(n,e){return w(this,null,function*(){try{let r=(yield FA()).transaction(Cu,"readwrite");yield r.objectStore(Cu).put(e,LA(n)),yield r.done}catch(t){if(t instanceof In)Ur.warn(t.message);else{let r=Ti.create("idb-set",{originalErrorMessage:t?.message});Ur.warn(r.message)}}})}function LA(n){return`${n.name}!${n.options.appId}`}var cU=1024,uU=30,C_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new T_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>uU){let i=dU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ur.warn(e)}})}getHeartbeatsHeader(){return w(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=kA(),{heartbeatsToSend:t,unsentEntries:r}=lU(this._heartbeatsCache.heartbeats),i=Iu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ur.warn(e),""}})}};function kA(){return new Date().toISOString().substring(0,10)}function lU(n,e=cU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),OA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var T_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return wu()?wA().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield aU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function OA(n){return Iu(JSON.stringify({version:2,heartbeats:n})).length}function dU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function hU(n){zn(new Ht("platform-logger",e=>new __(e),"PRIVATE")),zn(new Ht("heartbeat",e=>new C_(e),"PRIVATE")),Qe(E_,MA,n),Qe(E_,MA,"esm2020"),Qe("fire-js","")}hU("");var fU="firebase",pU="12.6.0";Qe(fU,pU,"app");function VA(n){n===void 0&&(n=M(Xe));let e=n.get(Rs);return t=>new ae(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Fo=new ci("ANGULARFIRE2_VERSION");function yf(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var la=(n,e)=>{let t=e?[e]:gf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ua=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ua||{}),jA=ov()&&typeof Zone<"u"?ua.WARN:ua.SILENT;var mf=class{zone;delegate;constructor(e,t=Ig){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Lo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(Ce);this.outsideAngular=t.runOutsideAngular(()=>new mf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new mf(typeof Zone>"u"?void 0:Zone.current,Eg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),UA=!1;function gU(n,e){!UA&&(jA>ua.SILENT||ov())&&(UA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),jA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function mU(n){let e=M(Ce,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Oo(n){let e=M(Ce,{optional:!0});return e?e.run(()=>n()):n()}var yU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),et(t,()=>Oo(()=>n.apply(void 0,r)))),Gn=(n,e,t)=>(t||=e?ua.WARN:ua.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(Lo),s=M(Rs),a=M(Ze)}catch{return gU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Oo(()=>s.add())),i[l]=yU(i[l],r,a));let u=mU(()=>n.apply(this,i));return e?u instanceof ae?u.pipe(si(o.outsideAngular),oi(o.insideAngular),VA(a)):u instanceof Promise?Oo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>et(a,()=>Oo(()=>h(m))),m=>et(a,()=>Oo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Oo(()=>u):u instanceof ae?u.pipe(si(o.outsideAngular),oi(o.insideAngular)):Oo(()=>u)});var Vo=class{constructor(e){return e}},Tu=class{constructor(){return gf()}};function vU(n){return n&&n.length===1?n[0]:new Vo(ca())}var S_=new q("angularfire2._apps"),_U={provide:Vo,useFactory:vU,deps:[[new xr,S_]]},EU={provide:Tu,deps:[[new xr,S_]]};function IU(n){return(e,t)=>{let r=t.get(go);Qe("angularfire",Fo.full,"core"),Qe("angularfire",Fo.full,"app"),Qe("angular",$g.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Vo(i)}}function BA(n,...e){return bn([_U,EU,{provide:S_,useFactory:IU(n),multi:!0,deps:[Ce,Xe,Lo,...e]}])}var $A=Gn(b_,!0);var wU=new Map,DU={activated:!1,tokenObservers:[]},CU={initialized:!1,enabled:!1};function Wn(n){return wU.get(n)||R({},DU)}function GA(){return CU}var TU="https://content-firebaseappcheck.googleapis.com/v1";var bU="exchangeDebugToken",HA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},$ne=1440*60*1e3;var N_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new Mo,this.pending.promise.catch(t=>{}),yield SU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Mo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function SU(n){return new Promise(e=>{setTimeout(e,n)})}var AU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},bi=new qn("appCheck","AppCheck",AU);function WA(n){if(!Wn(n).activated)throw bi.create("use-before-activation",{appName:n.name})}function KA(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw bi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw bi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw bi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw bi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function QA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${TU}/projects/${t}/apps/${r}:${bU}?key=${i}`,body:{debug_token:e}}}var RU="firebase-app-check-database",NU=1,M_="firebase-app-check-store";var vf=null;function MU(){return vf||(vf=new Promise((n,e)=>{try{let t=indexedDB.open(RU,NU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{e(bi.create("storage-open",{originalErrorMessage:r.target.error?.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(M_,{keyPath:"compositeKey"})}}}catch(t){e(bi.create("storage-open",{originalErrorMessage:t?.message}))}}),vf)}function PU(n,e){return xU(kU(n),e)}function xU(n,e){return w(this,null,function*(){let r=(yield MU()).transaction(M_,"readwrite"),o=r.objectStore(M_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{a(bi.create("storage-set",{originalErrorMessage:u.target.error?.message}))}})})}function kU(n){return`${n.options.appId}-${n.name}`}var bu=new yr("@firebase/app-check");function A_(n,e){return wu()?PU(n,e).catch(t=>{bu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YA(){return GA().enabled}function JA(){return w(this,null,function*(){let n=GA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var OU={error:"UNKNOWN_ERROR"};function FU(n){return uf.encodeString(JSON.stringify(n),!1)}function P_(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;WA(r);let i=Wn(r),o=i.token,s;if(o&&!Su(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Su(l)?o=l:yield A_(r,void 0))}if(!e&&o&&Su(o))return{token:o.token};let a=!1;if(YA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=KA(QA(r,yield JA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield A_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?bu.warn(l.message):t&&bu.error(l),R_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?bu.warn(l.message):t&&bu.error(l),s=l}let u;return o?s?Su(o)?u={token:o.token,internalError:s}:u=R_(s):(u={token:o.token},i.token=o,yield A_(r,o)):u=R_(s),a&&UU(r,u),u})}function LU(n){return w(this,null,function*(){let e=n.app;WA(e);let{provider:t}=Wn(e);if(YA()){let r=yield JA(),{token:i}=yield KA(QA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function VU(n,e,t,r){let{app:i}=n,o=Wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Su(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),qA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qA(n))}function ZA(n,e){let t=Wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qA(n){let{app:e}=n,t=Wn(e),r=t.tokenRefresher;r||(r=jU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function jU(n){let{app:e}=n;return new N_(()=>w(null,null,function*(){let t=Wn(e),r;if(t.token?r=yield P_(n,!0):r=yield P_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HA.RETRIAL_MIN_WAIT,HA.RETRIAL_MAX_WAIT)}function UU(n,e){let t=Wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Su(n){return n.expireTimeMillis-Date.now()>0}function R_(n){return{token:FU(OU),error:n}}var x_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Wn(this.app);for(let t of e)ZA(this.app,t.next);return Promise.resolve()}};function BU(n,e){return new x_(n,e)}function $U(n){return{getToken:e=>P_(n,e),getLimitedUseToken:()=>LU(n),addTokenListener:e=>VU(n,"INTERNAL",e),removeTokenListener:e=>ZA(n.app,e)}}var HU="@firebase/app-check",qU="0.11.0";var zU="app-check",zA="app-check-internal";function GU(){zn(new Ht(zU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return BU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zA).initialize()})),zn(new Ht(zA,n=>{let e=n.getProvider("app-check").getImmediate();return $U(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(HU,qU)}GU();var WU="app-check";var _f=class{constructor(){return la(WU)}};var KU=["localhost","0.0.0.0","127.0.0.1"],tre=typeof window<"u"&&KU.includes(window.location.hostname);function sR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aR=sR,cR=new qn("auth","Firebase",sR());var Df=new yr("@firebase/auth");function YU(n,...e){Df.logLevel<=le.WARN&&Df.warn(`Auth (${aa}): ${n}`,...e)}function If(n,...e){Df.logLevel<=le.ERROR&&Df.error(`Auth (${aa}): ${n}`,...e)}function XA(n,...e){throw z_(n,...e)}function q_(n,...e){return z_(n,...e)}function uR(n,e,t){let r=W(R({},aR()),{[e]:t});return new qn("auth","Firebase",r).create(e,{appName:n.name})}function wf(n){return uR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cR.create(n,...e)}function Ee(n,e,...t){if(!n)throw z_(e,...t)}function Au(n){let e="INTERNAL ASSERTION FAILED: "+n;throw If(e),new Error(e)}function Cf(n,e){n||Au(e)}function JU(){return eR()==="http:"||eR()==="https:"}function eR(){return typeof self<"u"&&self.location?.protocol||null}function ZU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JU()||_A()||"connection"in navigator)?navigator.onLine:!0}function XU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Bo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cf(t>e,"Short delay should be less than long delay!"),this.isMobile=yA()||EA()}get(){return ZU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function eB(n,e){Cf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Tf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Au("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Au("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Au("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var tB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var nB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rB=new Bo(3e4,6e4);function lR(n,e){return n.tenantId&&!e.tenantId?W(R({},e),{tenantId:n.tenantId}):e}function Nf(o,s,a,u){return w(this,arguments,function*(n,e,t,r,i={}){return dR(n,i,()=>w(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=d_(R({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=R({method:e,headers:m},l);return vA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Po(n.emulatorConfig.host)&&(y.credentials="include"),Tf.fetch()(yield hR(n,n.config.apiHost,t,p),y)}))})}function dR(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=R(R({},tB),e);try{let i=new F_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ef(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ef(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ef(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uR(n,h,l);XA(n,h)}}catch(i){if(i instanceof In)throw i;XA(n,"network-request-failed",{message:String(i)})}})}function hR(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?eB(n.config,i):`${n.config.apiScheme}://${i}`;return nB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var F_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(q_(this.auth,"network-request-failed")),rB.get())})}};function Ef(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=q_(n,e,r);return i.customData._tokenResponse=t,i}function iB(n,e){return w(this,null,function*(){return Nf(n,"POST","/v1/accounts:delete",e)})}function bf(n,e){return w(this,null,function*(){return Nf(n,"POST","/v1/accounts:lookup",e)})}function Ru(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function G_(n,e=!1){return w(this,null,function*(){let t=cn(n),r=yield t.getIdToken(e),i=fR(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ru(k_(i.auth_time)),issuedAtTime:Ru(k_(i.iat)),expirationTime:Ru(k_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function k_(n){return Number(n)*1e3}function fR(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{let i=lf(t);return i?JSON.parse(i):(If("Failed to decode base64 JWT payload"),null)}catch(i){return If("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tR(n){let e=fR(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function L_(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof In&&oB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function oB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var V_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sf(n){return w(this,null,function*(){let e=n.auth,t=yield n.getIdToken(),r=yield L_(n,bf(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?pR(i.providerUserInfo):[],s=sB(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)})}function W_(n){return w(this,null,function*(){let e=cn(n);yield Sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pR(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Zp(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function aB(n,e){return w(this,null,function*(){let t=yield dR(n,{},()=>w(null,null,function*(){let r=d_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield hR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Po(n.emulatorConfig.host)&&(u.credentials="include"),Tf.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function cB(n,e){return w(this,null,function*(){return Nf(n,"POST","/v2/accounts:revokeToken",lR(n,e))})}var Nu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let t=tR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield aB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Au("not implemented")}};function Si(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var jo=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Zp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mu(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield L_(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return G_(this,e)}reload(){return W_(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>R({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(W(R({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Br(this.auth.app))return Promise.reject(wf(this.auth));let e=yield this.getIdToken();return yield L_(this,iB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return W(R({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>R({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:A,stsTokenManager:P}=t;Ee(p&&P,e,"internal-error");let N=Nu.fromJSON(this.name,P);Ee(typeof p=="string",e,"internal-error"),Si(r,e.name),Si(i,e.name),Ee(typeof m=="boolean",e,"internal-error"),Ee(typeof y=="boolean",e,"internal-error"),Si(o,e.name),Si(s,e.name),Si(a,e.name),Si(u,e.name),Si(l,e.name),Si(h,e.name);let j=new n({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:N,createdAt:l,lastLoginAt:h});return A&&Array.isArray(A)&&(j.providerData=A.map(ie=>R({},ie))),u&&(j._redirectEventId=u),j}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Nu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?pR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Nu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var nR=new Map;function Uo(n){Cf(n instanceof Function,"Expected a class definition");let e=nR.get(n);return e?(Cf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nR.set(n,e),e)}var uB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),j_=uB;function O_(n,e,t){return`firebase:${n}:${e}:${t}`}var Af=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=O_(this.userKey,i.apiKey,o),this.fullPersistenceKey=O_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield bf(this.auth,{idToken:e}).catch(()=>{});return t?jo._fromGetAccountInfoResponse(this.auth,t,e):null}return jo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Uo(j_),e,r);let i=(yield Promise.all(t.map(l=>w(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Uo(j_),s=O_(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield bf(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield jo._fromGetAccountInfoResponse(e,m,h)}else p=jo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>w(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function rR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gB(e))return"Blackberry";if(mB(e))return"Webos";if(dB(e))return"Safari";if((e.includes("chrome/")||hB(e))&&!e.includes("edge/"))return"Chrome";if(pB(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function lB(n=an()){return/firefox\//i.test(n)}function dB(n=an()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hB(n=an()){return/crios\//i.test(n)}function fB(n=an()){return/iemobile/i.test(n)}function pB(n=an()){return/android/i.test(n)}function gB(n=an()){return/blackberry/i.test(n)}function mB(n=an()){return/webos/i.test(n)}function gR(n,e=[]){let t;switch(n){case"Browser":t=rR(an());break;case"Worker":t=`${rR(an())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aa}/${r}`}var U_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yB(t){return w(this,arguments,function*(n,e={}){return Nf(n,"GET","/v2/passwordPolicy",lR(n,e))})}var vB=6,B_=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??vB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var $_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rf(this),this.idTokenSubscription=new Rf(this),this.beforeStateQueue=new U_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Uo(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Af.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield bf(this,{idToken:e}),r=yield jo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){if(Br(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=XU()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Br(this.app))return Promise.reject(wf(this));let t=e?cn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Br(this.app)?Promise.reject(wf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Br(this.app)?Promise.reject(wf(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Uo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield yB(this),t=new B_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield cB(this,r)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Uo(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Af.create(this,[Uo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return w(this,null,function*(){if(Br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YU(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function _B(n){return cn(n)}var Rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var EB={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IB(n){EB=n}function wB(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function DB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Uo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var hre=wB("rcb"),fre=new Bo(3e4,6e4);var pre=new Bo(2e3,1e4);var gre=600*1e3;var mre=new Bo(3e4,6e4);var yre=new Bo(5e3,15e3);var vre=encodeURIComponent("fac");var iR="@firebase/auth",oR="1.11.1";var H_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function CB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TB(n){zn(new Ht("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gR(n)},l=new $_(r,i,o,u);return DB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zn(new Ht("auth-internal",e=>{let t=_B(e.getProvider("auth").getImmediate());return(r=>new H_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(iR,oR,CB(n)),Qe(iR,oR,"esm2020")}var bB=300,_re=gA("authIdTokenMaxAge")||bB;function SB(){return document.getElementsByTagName("head")?.[0]??document}IB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=q_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",SB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TB("Browser");var T$="auth";var Mf=class{constructor(){return la(T$)}};var mR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yR={};var $r,K_;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.F=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.D=function(C,I,b){for(var _=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)_[Gt-2]=arguments[Gt];return v.prototype[I].apply(C,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);let C=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)C[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)C[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],I=D.g[2];let b=D.g[3],_;_=v+(b^E&(I^b))+C[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(I^v&(E^I))+C[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=I+(E^b&(v^E))+C[2]+606105819&4294967295,I=b+(_<<17&4294967295|_>>>15),_=E+(v^I&(b^v))+C[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(b^E&(I^b))+C[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(I^v&(E^I))+C[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=I+(E^b&(v^E))+C[6]+2821735955&4294967295,I=b+(_<<17&4294967295|_>>>15),_=E+(v^I&(b^v))+C[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(b^E&(I^b))+C[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(I^v&(E^I))+C[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=I+(E^b&(v^E))+C[10]+4294925233&4294967295,I=b+(_<<17&4294967295|_>>>15),_=E+(v^I&(b^v))+C[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(b^E&(I^b))+C[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(I^v&(E^I))+C[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=I+(E^b&(v^E))+C[14]+2792965006&4294967295,I=b+(_<<17&4294967295|_>>>15),_=E+(v^I&(b^v))+C[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^b&(E^I))+C[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^I&(v^E))+C[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(b^v))+C[11]+643717713&4294967295,I=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(I^b))+C[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^b&(E^I))+C[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^I&(v^E))+C[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(b^v))+C[15]+3634488961&4294967295,I=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(I^b))+C[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^b&(E^I))+C[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^I&(v^E))+C[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(b^v))+C[3]+4107603335&4294967295,I=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(I^b))+C[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^b&(E^I))+C[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^I&(v^E))+C[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(b^v))+C[7]+1735328473&4294967295,I=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(I^b))+C[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^b)+C[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^I)+C[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=I+(b^v^E)+C[11]+1839030562&4294967295,I=b+(_<<16&4294967295|_>>>16),_=E+(I^b^v)+C[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^b)+C[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^I)+C[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=I+(b^v^E)+C[7]+4139469664&4294967295,I=b+(_<<16&4294967295|_>>>16),_=E+(I^b^v)+C[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^b)+C[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^I)+C[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=I+(b^v^E)+C[3]+3572445317&4294967295,I=b+(_<<16&4294967295|_>>>16),_=E+(I^b^v)+C[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^b)+C[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^I)+C[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=I+(b^v^E)+C[15]+530742520&4294967295,I=b+(_<<16&4294967295|_>>>16),_=E+(I^b^v)+C[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~b))+C[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~I))+C[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=I+(v^(b|~E))+C[14]+2878612391&4294967295,I=b+(_<<15&4294967295|_>>>17),_=E+(b^(I|~v))+C[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~b))+C[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~I))+C[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=I+(v^(b|~E))+C[10]+4293915773&4294967295,I=b+(_<<15&4294967295|_>>>17),_=E+(b^(I|~v))+C[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~b))+C[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~I))+C[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=I+(v^(b|~E))+C[6]+2734768916&4294967295,I=b+(_<<15&4294967295|_>>>17),_=E+(b^(I|~v))+C[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~b))+C[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~I))+C[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=I+(v^(b|~E))+C[2]+718787259&4294967295,I=b+(_<<15&4294967295|_>>>17),_=E+(b^(I|~v))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+b&4294967295}r.prototype.v=function(D,v){v===void 0&&(v=D.length);let E=v-this.blockSize,C=this.C,I=this.h,b=0;for(;b<v;){if(I==0)for(;b<=E;)i(this,D,b),b+=this.blockSize;if(typeof D=="string"){for(;b<v;)if(C[I++]=D.charCodeAt(b++),I==this.blockSize){i(this,C),I=0;break}}else for(;b<v;)if(C[I++]=D[b++],I==this.blockSize){i(this,C),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;v=this.o*8;for(var E=D.length-8;E<D.length;++E)D[E]=v&255,v/=256;for(this.v(D),D=Array(16),v=0,E=0;E<4;++E)for(let C=0;C<32;C+=8)D[v++]=this.g[E]>>>C&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;let E=[],C=!0;for(let I=D.length-1;I>=0;I--){let b=D[I]|0;C&&b==v||(E[I]=b,C=!1)}this.g=E}var a={};function u(D){return-128<=D&&D<128?o(D,function(v){return new s([v|0],v<0?-1:0)}):new s([D|0],D<0?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return N(l(-D));let v=[],E=1;for(let C=0;D>=E;C++)v[C]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),C=p;for(let b=0;b<D.length;b+=8){var I=Math.min(8,D.length-b);let _=parseInt(D.substring(b,b+I),v);I<8?(I=l(Math.pow(v,I)),C=C.j(I).add(l(_))):(C=C.j(E),C=C.add(l(_)))}return C}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(P(this))return-N(this).m();let D=0,v=1;for(let E=0;E<this.g.length;E++){let C=this.i(E);D+=(C>=0?C:4294967296+C)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(P(this))return"-"+N(this).toString(D);let v=l(Math.pow(D,6));var E=this;let C="";for(;;){let I=Mt(E,v).g;E=j(E,I.j(v));let b=((E.g.length>0?E.g[0]:E.h)>>>0).toString(D);if(E=I,A(E))return b+C;for(;b.length<6;)b="0"+b;C=b+C}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(let v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function P(D){return D.h==-1}n.l=function(D){return D=j(this,D),P(D)?-1:A(D)?0:1};function N(D){let v=D.g.length,E=[];for(let C=0;C<v;C++)E[C]=~D.g[C];return new s(E,~D.h).add(m)}n.abs=function(){return P(this)?N(this):this},n.add=function(D){let v=Math.max(this.g.length,D.g.length),E=[],C=0;for(let I=0;I<=v;I++){let b=C+(this.i(I)&65535)+(D.i(I)&65535),_=(b>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);C=_>>>16,b&=65535,_&=65535,E[I]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function j(D,v){return D.add(N(v))}n.j=function(D){if(A(this)||A(D))return p;if(P(this))return P(D)?N(this).j(N(D)):N(N(this).j(D));if(P(D))return N(this.j(N(D)));if(this.l(y)<0&&D.l(y)<0)return l(this.m()*D.m());let v=this.g.length+D.g.length,E=[];for(var C=0;C<2*v;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<D.g.length;I++){let b=this.i(C)>>>16,_=this.i(C)&65535,Gt=D.i(I)>>>16,Jr=D.i(I)&65535;E[2*C+2*I]+=_*Jr,ie(E,2*C+2*I),E[2*C+2*I+1]+=b*Jr,ie(E,2*C+2*I+1),E[2*C+2*I+1]+=_*Gt,ie(E,2*C+2*I+1),E[2*C+2*I+2]+=b*Gt,ie(E,2*C+2*I+2)}for(D=0;D<v;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=v;D<2*v;D++)E[D]=0;return new s(E,0)};function ie(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function de(D,v){this.g=D,this.h=v}function Mt(D,v){if(A(v))throw Error("division by zero");if(A(D))return new de(p,p);if(P(D))return v=Mt(N(D),v),new de(N(v.g),N(v.h));if(P(v))return v=Mt(D,N(v)),new de(N(v.g),v.h);if(D.g.length>30){if(P(D)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,C=v;C.l(D)<=0;)E=zt(E),C=zt(C);var I=dt(E,1),b=dt(C,1);for(C=dt(C,2),E=dt(E,2);!A(C);){var _=b.add(C);_.l(D)<=0&&(I=I.add(E),b=_),C=dt(C,1),E=dt(E,1)}return v=j(D,I.j(v)),new de(I,v)}for(I=p;D.l(v)>=0;){for(E=Math.max(1,Math.floor(D.m()/v.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),b=l(E),_=b.j(v);P(_)||_.l(D)>0;)E-=C,b=l(E),_=b.j(v);A(b)&&(b=m),I=I.add(b),D=j(D,_)}return new de(I,D)}n.B=function(D){return Mt(this,D).h},n.and=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let C=0;C<v;C++)E[C]=this.i(C)&D.i(C);return new s(E,this.h&D.h)},n.or=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let C=0;C<v;C++)E[C]=this.i(C)|D.i(C);return new s(E,this.h|D.h)},n.xor=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let C=0;C<v;C++)E[C]=this.i(C)^D.i(C);return new s(E,this.h^D.h)};function zt(D){let v=D.g.length+1,E=[];for(let C=0;C<v;C++)E[C]=D.i(C)<<1|D.i(C-1)>>>31;return new s(E,D.h)}function dt(D,v){let E=v>>5;v%=32;let C=D.g.length-E,I=[];for(let b=0;b<C;b++)I[b]=v>0?D.i(b+E)>>>v|D.i(b+E+1)<<32-v:D.i(b+E);return new s(I,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,K_=yR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,$r=yR.Integer=s}).apply(typeof mR<"u"?mR:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hr={};var Q_,b$,da,Y_,Pu,xf,J_,Z_,X_;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],g;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&f.push([g,d[g]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(g,T,S){for(var V=Array(arguments.length-2),se=2;se<arguments.length;se++)V[se-2]=arguments[se];return d.prototype[T].apply(g,V)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let g=1;g<arguments.length;g++){let T=arguments[g];var f=typeof T;if(f=f!="object"?f:T?Array.isArray(T)?"array":f:"null",f=="array"||f=="object"&&typeof T.length=="number"){f=c.length||0;let S=T.length||0;c.length=f+S;for(let V=0;V<S;V++)c[f+V]=T[V]}else c.push(T)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function N(c){s.setTimeout(()=>{throw c},0)}function j(){var c=D;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ie{constructor(){this.h=this.g=null}add(d,f){let g=de.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var de=new P(()=>new Mt,c=>c.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,dt=!1,D=new ie,v=()=>{let c=Promise.resolve(void 0);zt=()=>{c.then(E)}};function E(){for(var c;c=j();){try{c.h.call(c.g)}catch(f){N(f)}var d=de;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}dt=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var b=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Gt(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Gt,I),Gt.prototype.init=function(c,d){let f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Jr="closure_listenable_"+(Math.random()*1e6|0),iP=0;function oP(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++iP,this.da=this.fa=!1}function Zu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xu(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function sP(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function mw(c){let d={};for(let f in c)d[f]=c[f];return d}let yw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vw(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let S=0;S<yw.length;S++)f=yw[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function el(c){this.src=c,this.g={},this.h=0}el.prototype.add=function(c,d,f,g,T){let S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);let V=Rp(c,d,g,T);return V>-1?(d=c[V],f||(d.fa=!1)):(d=new oP(d,this.src,S,!!g,T),d.fa=f,c.push(d)),d};function Ap(c,d){let f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=T>=0)&&Array.prototype.splice.call(g,T,1),S&&(Zu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Rp(c,d,f,g){for(let T=0;T<c.length;++T){let S=c[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var Np="closure_lm_"+(Math.random()*1e6|0),Mp={};function _w(c,d,f,g,T){if(g&&g.once)return Iw(c,d,f,g,T);if(Array.isArray(d)){for(let S=0;S<d.length;S++)_w(c,d[S],f,g,T);return null}return f=Op(f),c&&c[Jr]?c.J(d,f,a(g)?!!g.capture:!!g,T):Ew(c,d,f,!1,g,T)}function Ew(c,d,f,g,T,S){if(!d)throw Error("Invalid event type");let V=a(T)?!!T.capture:!!T,se=xp(c);if(se||(c[Np]=se=new el(c)),f=se.add(d,f,g,V,S),f.proxy)return f;if(g=aP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)b||(T=V),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(Dw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function aP(){function c(f){return d.call(c.src,c.listener,f)}let d=cP;return c}function Iw(c,d,f,g,T){if(Array.isArray(d)){for(let S=0;S<d.length;S++)Iw(c,d[S],f,g,T);return null}return f=Op(f),c&&c[Jr]?c.K(d,f,a(g)?!!g.capture:!!g,T):Ew(c,d,f,!0,g,T)}function ww(c,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)ww(c,d[S],f,g,T);else g=a(g)?!!g.capture:!!g,f=Op(f),c&&c[Jr]?(c=c.i,S=String(d).toString(),S in c.g&&(d=c.g[S],f=Rp(d,f,g,T),f>-1&&(Zu(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[S],c.h--)))):c&&(c=xp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Rp(d,f,g,T)),(f=c>-1?d[c]:null)&&Pp(f))}function Pp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Jr])Ap(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Dw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=xp(d))?(Ap(f,c),f.h==0&&(f.src=null,d[Np]=null)):Zu(c)}}}function Dw(c){return c in Mp?Mp[c]:Mp[c]="on"+c}function cP(c,d){if(c.da)c=!0;else{d=new Gt(d,this);let f=c.listener,g=c.ha||c.src;c.fa&&Pp(c),c=f.call(g,d)}return c}function xp(c){return c=c[Np],c instanceof el?c:null}var kp="__closure_events_fn_"+(Math.random()*1e9>>>0);function Op(c){return typeof c=="function"?c:(c[kp]||(c[kp]=function(d){return c.handleEvent(d)}),c[kp])}function Tt(){C.call(this),this.i=new el(this),this.M=this,this.G=null}p(Tt,C),Tt.prototype[Jr]=!0,Tt.prototype.removeEventListener=function(c,d,f,g){ww(this,c,d,f,g)};function Pt(c,d){var f,g=c.G;if(g)for(f=[];g;g=g.G)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var T=d;d=new I(g,c),vw(d,T)}T=!0;let S,V;if(f)for(V=f.length-1;V>=0;V--)S=d.g=f[V],T=tl(S,g,!0,d)&&T;if(S=d.g=c,T=tl(S,g,!0,d)&&T,T=tl(S,g,!1,d)&&T,f)for(V=0;V<f.length;V++)S=d.g=f[V],T=tl(S,g,!1,d)&&T}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let g=0;g<f.length;g++)Zu(f[g]);delete c.g[d],c.h--}}this.G=null},Tt.prototype.J=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function tl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let S=0;S<d.length;++S){let V=d[S];if(V&&!V.da&&V.capture==f){let se=V.listener,st=V.ha||V.src;V.fa&&Ap(c.i,V),T=se.call(st,g)!==!1&&T}}return T&&!g.defaultPrevented}function uP(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function Cw(c){c.g=uP(()=>{c.g=null,c.i&&(c.i=!1,Cw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class lP extends C{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cw(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(c){C.call(this),this.h=c,this.g={}}p(Ua,C);var Tw=[];function bw(c){Xu(c.g,function(d,f){this.g.hasOwnProperty(f)&&Pp(d)},c),c.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),bw(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fp=s.JSON.stringify,dP=s.JSON.parse,hP=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function Sw(){}function Aw(){}var Ba={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lp(){I.call(this,"d")}p(Lp,I);function Vp(){I.call(this,"c")}p(Vp,I);var Vi={},Rw=null;function nl(){return Rw=Rw||new Tt}Vi.Ia="serverreachability";function Nw(c){I.call(this,Vi.Ia,c)}p(Nw,I);function $a(c){let d=nl();Pt(d,new Nw(d))}Vi.STAT_EVENT="statevent";function Mw(c,d){I.call(this,Vi.STAT_EVENT,c),this.stat=d}p(Mw,I);function xt(c){let d=nl();Pt(d,new Mw(d,c))}Vi.Ja="timingevent";function Pw(c,d){I.call(this,Vi.Ja,c),this.size=d}p(Pw,I);function Ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function qa(){this.g=!0}qa.prototype.ua=function(){this.g=!1};function fP(c,d,f,g,T,S){c.info(function(){if(c.g)if(S){var V="",se=S.split("&");for(let Ae=0;Ae<se.length;Ae++){var st=se[Ae].split("=");if(st.length>1){let ht=st[0];st=st[1];let Jn=ht.split("_");V=Jn.length>=2&&Jn[1]=="type"?V+(ht+"="+st+"&"):V+(ht+"=redacted&")}}}else V=null;else V=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+V})}function pP(c,d,f,g,T,S,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+V})}function is(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+mP(c,f)+(g?" "+g:"")})}function gP(c,d){c.info(function(){return"TIMEOUT: "+d})}qa.prototype.info=function(){};function mP(c,d){if(!c.g)return d;if(!d)return null;try{let S=JSON.parse(d);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var f=S[c];if(!(f.length<2)){var g=f[1];if(Array.isArray(g)&&!(g.length<1)){var T=g[0];if(T!="noop"&&T!="stop"&&T!="close")for(let V=1;V<g.length;V++)g[V]=""}}}}return Fp(S)}catch{return d}}var rl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xw={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kw;function jp(){}p(jp,Sw),jp.prototype.g=function(){return new XMLHttpRequest},kw=new jp;function za(c){return encodeURIComponent(String(c))}function yP(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function Zr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.S=g||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ow}function Ow(){this.i=null,this.g="",this.h=!1}var Fw={},Up={};function Bp(c,d,f){c.M=1,c.A=ol(Yn(d)),c.u=f,c.R=!0,Lw(c,null)}function Lw(c,d){c.F=Date.now(),il(c),c.B=Yn(c.A);var f=c.B,g=c.S;Array.isArray(g)||(g=[String(g)]),Yw(f.i,"t",g),c.C=0,f=c.j.L,c.h=new Ow,c.g=pD(c.j,f?d:null,!c.u),c.P>0&&(c.O=new lP(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,g=c.ba;var T="readystatechange";Array.isArray(T)||(T&&(Tw[0]=T.toString()),T=Tw);for(let S=0;S<T.length;S++){let V=_w(f,T[S],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.J?mw(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),$a(),fP(c.i,c.v,c.B,c.l,c.S,c.u)}Zr.prototype.ba=function(c){c=c.target;let d=this.O;d&&ti(c)==3?d.j():this.Y(c)},Zr.prototype.Y=function(c){try{if(c==this.g)e:{let se=ti(this.g),st=this.g.ya(),Ae=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||rD(this.g)))){this.K||se!=4||st==7||(st==8||Ae<=0?$a(3):$a(2)),$p(this);var d=this.g.ca();this.X=d;var f=vP(this);if(this.o=d==200,pP(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var g,T=this.g;if((g=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(g)){var S=g;break t}}S=null}if(c=S)is(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hp(this,c);else{this.o=!1,this.m=3,xt(12),ji(this),Ga(this);break e}}if(this.R){c=!0;let ht;for(;!this.K&&this.C<f.length;)if(ht=_P(this,f),ht==Up){se==4&&(this.m=4,xt(14),c=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Fw){this.m=4,xt(15),is(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else is(this.i,this.l,ht,null),Hp(this,ht);if(Vw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||f.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)is(this.i,this.l,f,"[Invalid Chunked Response]"),ji(this),Ga(this);else if(f.length>0&&!this.W){this.W=!0;var V=this.j;V.g==this&&V.aa&&!V.P&&(V.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Yp(V),V.P=!0,xt(11))}}else is(this.i,this.l,f,null),Hp(this,f);se==4&&ji(this),this.o&&!this.K&&(se==4?lD(this.j,this):(this.o=!1,il(this)))}else xP(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ji(this),Ga(this)}}}catch{}finally{}};function vP(c){if(!Vw(c))return c.g.la();let d=rD(c.g);if(d==="")return"";let f="",g=d.length,T=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ji(c),Ga(c),"";c.h.i=new s.TextDecoder}for(let S=0;S<g;S++)c.h.h=!0,f+=c.h.i.decode(d[S],{stream:!(T&&S==g-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function Vw(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function _P(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Up:(f=Number(d.substring(f,g)),isNaN(f)?Fw:(g+=1,g+f>d.length?Up:(d=d.slice(g,g+f),c.C=g+f,d)))}Zr.prototype.cancel=function(){this.K=!0,ji(this)};function il(c){c.T=Date.now()+c.H,jw(c,c.H)}function jw(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Ha(l(c.aa,c),d)}function $p(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Zr.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(gP(this.i,this.B),this.M!=2&&($a(),xt(17)),ji(this),this.m=2,Ga(this)):jw(this,this.T-c)};function Ga(c){c.j.I==0||c.K||lD(c.j,c)}function ji(c){$p(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,bw(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Hp(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||qp(f.h,c))){if(!c.L&&qp(f.h,c)&&f.I==3){try{var g=f.Ba.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)dl(f),ul(f);else break e;Qp(f),xt(18)}}else f.xa=T[1],0<f.xa-f.K&&T[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ha(l(f.Va,f),6e3));$w(f.h)<=1&&f.ta&&(f.ta=void 0)}else Bi(f,11)}else if((c.L||f.g==c)&&dl(f),!_(d))for(T=f.Ba.g.parse(d),d=0;d<T.length;d++){let Ae=T[d],ht=Ae[0];if(!(ht<=f.K))if(f.K=ht,Ae=Ae[1],f.I==2)if(Ae[0]=="c"){f.M=Ae[1],f.ba=Ae[2];let Jn=Ae[3];Jn!=null&&(f.ka=Jn,f.j.info("VER="+f.ka));let $i=Ae[4];$i!=null&&(f.za=$i,f.j.info("SVER="+f.za));let ni=Ae[5];ni!=null&&typeof ni=="number"&&ni>0&&(g=1.5*ni,f.O=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let ri=c.g;if(ri){let fl=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var S=g.h;S.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(zp(S,S.h),S.h=null))}if(g.G){let Jp=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Jp&&(g.wa=Jp,Ne(g.J,g.G,Jp))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),g=f;var V=c;if(g.na=fD(g,g.L?g.ba:null,g.W),V.L){Hw(g.h,V);var se=V,st=g.O;st&&(se.H=st),se.D&&($p(se),il(se)),g.g=V}else cD(g);f.i.length>0&&ll(f)}else Ae[0]!="stop"&&Ae[0]!="close"||Bi(f,7);else f.I==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Bi(f,7):Kp(f):Ae[0]!="noop"&&f.l&&f.l.qa(Ae),f.A=0)}}$a(4)}catch{}}var EP=class{constructor(c,d){this.g=c,this.map=d}};function Uw(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $w(c){return c.h?1:c.g?c.g.size:0}function qp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zp(c,d){c.g?c.g.add(d):c.h=d}function Hw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Uw.prototype.cancel=function(){if(this.i=qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function qw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IP(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let g=c[f].indexOf("="),T,S=null;g>=0?(T=c[f].substring(0,g),S=c[f].substring(g+1)):T=c[f],d(T,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Xr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Xr?(this.l=c.l,Wa(this,c.j),this.o=c.o,this.g=c.g,Ka(this,c.u),this.h=c.h,Gp(this,Jw(c.i)),this.m=c.m):c&&(d=String(c).match(zw))?(this.l=!1,Wa(this,d[1]||"",!0),this.o=Qa(d[2]||""),this.g=Qa(d[3]||"",!0),Ka(this,d[4]),this.h=Qa(d[5]||"",!0),Gp(this,d[6]||"",!0),this.m=Qa(d[7]||"")):(this.l=!1,this.i=new Ja(null,this.l))}Xr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(Ya(d,Gw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ya(d,Gw,!0),"@"),c.push(za(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ya(f,f.charAt(0)=="/"?CP:DP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ya(f,bP)),c.join("")},Xr.prototype.resolve=function(c){let d=Yn(this),f=!!c.j;f?Wa(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var g=c.h;if(f)Ka(d,c.u);else if(f=!!c.h){if(g.charAt(0)!="/")if(this.g&&!this.h)g="/"+g;else{var T=d.h.lastIndexOf("/");T!=-1&&(g=d.h.slice(0,T+1)+g)}if(T=g,T==".."||T==".")g="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){g=T.lastIndexOf("/",0)==0,T=T.split("/");let S=[];for(let V=0;V<T.length;){let se=T[V++];se=="."?g&&V==T.length&&S.push(""):se==".."?((S.length>1||S.length==1&&S[0]!="")&&S.pop(),g&&V==T.length&&S.push("")):(S.push(se),g=!0)}g=S.join("/")}else g=T}return f?d.h=g:f=c.i.toString()!=="",f?Gp(d,Jw(c.i)):f=!!c.m,f&&(d.m=c.m),d};function Yn(c){return new Xr(c)}function Wa(c,d,f){c.j=f?Qa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ka(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Gp(c,d,f){d instanceof Ja?(c.i=d,SP(c.i,c.l)):(f||(d=Ya(d,TP)),c.i=new Ja(d,c.l))}function Ne(c,d,f){c.i.set(d,f)}function ol(c){return Ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Qa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ya(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,wP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Gw=/[#\/\?@]/g,DP=/[#\?:]/g,CP=/[#\?]/g,TP=/[#\?@]/g,bP=/#/g;function Ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ui(c){c.g||(c.g=new Map,c.h=0,c.i&&IP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ja.prototype,n.add=function(c,d){Ui(this),this.i=null,c=os(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ww(c,d){Ui(c),d=os(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Kw(c,d){return Ui(c),d=os(c,d),c.g.has(d)}n.forEach=function(c,d){Ui(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)};function Qw(c,d){Ui(c);let f=[];if(typeof d=="string")Kw(c,d)&&(f=f.concat(c.g.get(os(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}n.set=function(c,d){return Ui(this),this.i=null,c=os(this,c),Kw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=Qw(this,c),c.length>0?String(c[0]):d):d};function Yw(c,d,f){Ww(c,d),f.length>0&&(c.i=null,c.g.set(os(c,d),y(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let g=0;g<d.length;g++){var f=d[g];let T=za(f);f=Qw(this,f);for(let S=0;S<f.length;S++){let V=T;f[S]!==""&&(V+="="+za(f[S])),c.push(V)}}return this.i=c.join("&")};function Jw(c){let d=new Ja;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function os(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function SP(c,d){d&&!c.j&&(Ui(c),c.i=null,c.g.forEach(function(f,g){let T=g.toLowerCase();g!=T&&(Ww(this,g),Yw(this,T,f))},c)),c.j=d}function AP(c,d){let f=new qa;if(s.Image){let g=new Image;g.onload=h(ei,f,"TestLoadImage: loaded",!0,d,g),g.onerror=h(ei,f,"TestLoadImage: error",!1,d,g),g.onabort=h(ei,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=h(ei,f,"TestLoadImage: timeout",!1,d,g),s.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function RP(c,d){let f=new qa,g=new AbortController,T=setTimeout(()=>{g.abort(),ei(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?ei(f,"TestPingServer: ok",!0,d):ei(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ei(f,"TestPingServer: error",!1,d)})}function ei(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function NP(){this.g=new hP}function sl(c){this.i=c.Sb||null,this.h=c.ab||!1}p(sl,Sw),sl.prototype.g=function(){return new al(this.i,this.h)};function al(c,d){Tt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(al,Tt),n=al.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Xa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Za(this):Xa(this),this.readyState==3&&Zw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Za(this))},n.Na=function(c){this.g&&(this.response=c,Za(this))},n.ga=function(){this.g&&Za(this)};function Za(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xa(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Xa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xw(c){let d="";return Xu(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Xw(f),typeof c=="string"?f!=null&&za(f):Ne(c,d,f))}function je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(je,Tt);var MP=/^https?$/i,PP=["POST","PUT"];n=je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kw.g(),this.g.onreadystatechange=m(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){eD(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(PP,d,void 0)>=0)||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,V]of f)this.g.setRequestHeader(S,V);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(S){eD(this,S)}};function eD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,tD(c),cl(c)}function tD(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),cl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cl(this,!0)),je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?nD(this):this.Xa())},n.Xa=function(){nD(this)};function nD(c){if(c.h&&typeof o<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),ti(c)==4){c.h=!1;try{let S=c.ca();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=S===0){let V=String(c.D).match(zw)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),g=!MP.test(V?V.toLowerCase():"")}f=g}if(f)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var T=ti(c)>2?c.g.statusText:""}catch{T=""}c.l=T+" ["+c.ca()+"]",tD(c)}}finally{cl(c)}}}}function cl(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||Pt(c,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}n.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),dP(d)}};function rD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xP(c){let d={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(_(c[g]))continue;var f=yP(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}sP(d,function(g){return g.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ec(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iD(c){this.za=0,this.i=[],this.j=new qa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ec("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ec("baseRetryDelayMs",5e3,c),this.Za=ec("retryDelaySeedMs",1e4,c),this.Ta=ec("forwardChannelMaxRetries",2,c),this.va=ec("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uw(c&&c.concurrentRequestLimit),this.Ba=new NP,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=iD.prototype,n.ka=8,n.I=1,n.connect=function(c,d,f,g){xt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.J=fD(this,null,this.W),ll(this)};function Kp(c){if(oD(c),c.I==3){var d=c.V++,f=Yn(c.J);if(Ne(f,"SID",c.M),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),tc(c,f),d=new Zr(c,c.j,d),d.M=2,d.A=ol(Yn(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=pD(d.j,null),d.g.ea(d.A)),d.F=Date.now(),il(d)}hD(c)}function ul(c){c.g&&(Yp(c),c.g.cancel(),c.g=null)}function oD(c){ul(c),c.v&&(s.clearTimeout(c.v),c.v=null),dl(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function ll(c){if(!Bw(c.h)&&!c.m){c.m=!0;var d=c.Ea;zt||v(),dt||(zt(),dt=!0),D.add(d,c),c.D=0}}function kP(c,d){return $w(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Ha(l(c.Ea,c,d),dD(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let T=new Zr(this,this.j,c),S=this.o;if(this.U&&(S?(S=mw(S),vw(S,this.U)):S=this.U),this.u!==null||this.R||(T.J=S,S=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aD(this,T,d),f=Yn(this.J),Ne(f,"RID",c),Ne(f,"CVER",22),this.G&&Ne(f,"X-HTTP-Session-Id",this.G),tc(this,f),S&&(this.R?d="headers="+za(Xw(S))+"&"+d:this.u&&Wp(f,this.u,S)),zp(this.h,T),this.Ra&&Ne(f,"TYPE","init"),this.S?(Ne(f,"$req",d),Ne(f,"SID","null"),T.U=!0,Bp(T,f,null)):Bp(T,f,d),this.I=2}}else this.I==3&&(c?sD(this,c):this.i.length==0||Bw(this.h)||sD(this))};function sD(c,d){var f;d?f=d.l:f=c.V++;let g=Yn(c.J);Ne(g,"SID",c.M),Ne(g,"RID",f),Ne(g,"AID",c.K),tc(c,g),c.u&&c.o&&Wp(g,c.u,c.o),f=new Zr(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=aD(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),zp(c.h,f),Bp(f,g,d)}function tc(c,d){c.H&&Xu(c.H,function(f,g){Ne(d,g,f)}),c.l&&Xu({},function(f,g){Ne(d,g,f)})}function aD(c,d,f){f=Math.min(c.i.length,f);let g=c.l?l(c.l.Ka,c.l,c):null;e:{var T=c.i;let se=-1;for(;;){let st=["count="+f];se==-1?f>0?(se=T[0].g,st.push("ofs="+se)):se=0:st.push("ofs="+se);let Ae=!0;for(let ht=0;ht<f;ht++){var S=T[ht].g;let Jn=T[ht].map;if(S-=se,S<0)se=Math.max(0,T[ht].g-100),Ae=!1;else try{S="req"+S+"_"||"";try{var V=Jn instanceof Map?Jn:Object.entries(Jn);for(let[$i,ni]of V){let ri=ni;a(ni)&&(ri=Fp(ni)),st.push(S+$i+"="+encodeURIComponent(ri))}}catch($i){throw st.push(S+"type="+encodeURIComponent("_badmap")),$i}}catch{g&&g(Jn)}}if(Ae){V=st.join("&");break e}}V=void 0}return c=c.i.splice(0,f),d.G=c,V}function cD(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;zt||v(),dt||(zt(),dt=!0),D.add(d,c),c.A=0}}function Qp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Ha(l(c.Da,c),dD(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,uD(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Ha(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ul(this),uD(this))};function Yp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function uD(c){c.g=new Zr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Yn(c.na);Ne(d,"RID","rpc"),Ne(d,"SID",c.M),Ne(d,"AID",c.K),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ne(d,"TO",c.ia),Ne(d,"TYPE","xmlhttp"),tc(c,d),c.u&&c.o&&Wp(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=ol(Yn(d)),f.u=null,f.R=!0,Lw(f,c)}n.Va=function(){this.C!=null&&(this.C=null,ul(this),Qp(this),xt(19))};function dl(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function lD(c,d){var f=null;if(c.g==d){dl(c),Yp(c),c.g=null;var g=2}else if(qp(c.h,d))f=d.G,Hw(c.h,d),g=1;else return;if(c.I!=0){if(d.o)if(g==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var T=c.D;g=nl(),Pt(g,new Pw(g,f)),ll(c)}else cD(c);else if(T=d.m,T==3||T==0&&d.X>0||!(g==1&&kP(c,d)||g==2&&Qp(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function dD(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function Bi(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),g=c.Ua;let T=!g;g=new Xr(g||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Wa(g,"https"),ol(g),T?AP(g.toString(),f):RP(g.toString(),f)}else xt(2);c.I=0,c.l&&c.l.pa(d),hD(c),oD(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function hD(c){if(c.I=0,c.ja=[],c.l){let d=qw(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ja,d),A(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function fD(c,d,f){var g=f instanceof Xr?Yn(f):new Xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ka(g,g.u);else{var T=s.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let S=new Xr(null);g&&Wa(S,g),d&&(S.g=d),T&&Ka(S,T),f&&(S.h=f),g=S}return f=c.G,d=c.wa,f&&d&&Ne(g,f,d),Ne(g,"VER",c.ka),tc(c,g),g}function pD(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new je(new sl({ab:f})):new je(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gD(){}n=gD.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function hl(){}hl.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){Tt.call(this),this.g=new iD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}p(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Kp(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=Fp(c),c=f);d.i.push(new EP(d.Ya++,c)),d.I==3&&ll(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,Yt.Z.N.call(this)};function mD(c){Lp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(mD,Lp);function yD(){Vp.call(this),this.status=1}p(yD,Vp);function ss(c){this.g=c}p(ss,gD),ss.prototype.ra=function(){Pt(this.g,"a")},ss.prototype.qa=function(c){Pt(this.g,new mD(c))},ss.prototype.pa=function(c){Pt(this.g,new yD)},ss.prototype.oa=function(){Pt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,X_=Hr.createWebChannelTransport=function(){return new hl},Z_=Hr.getStatEventTarget=function(){return nl()},J_=Hr.Event=Vi,xf=Hr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,Pu=Hr.ErrorCode=rl,xw.COMPLETE="complete",Y_=Hr.EventType=xw,Aw.EventType=Ba,Ba.OPEN="a",Ba.CLOSE="b",Ba.ERROR="c",Ba.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,da=Hr.WebChannel=Aw,b$=Hr.FetchXmlHttpFactory=sl,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,Q_=Hr.XhrIo=je}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});var vR="@firebase/firestore",_R="4.9.2";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var Oa="12.3.0";var Go=new yr("@firebase/firestore");function ha(){return Go.logLevel}function $(n,...e){if(Go.logLevel<=le.DEBUG){let t=e.map(UI);Go.debug(`Firestore (${Oa}): ${n}`,...t)}}function zr(n,...e){if(Go.logLevel<=le.ERROR){let t=e.map(UI);Go.error(`Firestore (${Oa}): ${n}`,...t)}}function Ia(n,...e){if(Go.logLevel<=le.WARN){let t=e.map(UI);Go.warn(`Firestore (${Oa}): ${n}`,...t)}}function UI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,aN(n,r,t)}function aN(n,e,t){let r=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw zr(r),new Error(r)}function be(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||aN(e,i,r)}function te(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Uf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mt.UNAUTHENTICATED))}shutdown(){}},sE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},aE=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new Uf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new mt(e)}},cE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},uE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},lE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){be(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Bf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function S$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Vu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=S$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function he(n,e){return n<e?-1:n>e?1:0}function dE(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return eE(i)===eE(o)?he(i,o):eE(i)?1:-1}return he(n.length,e.length)}var A$=55296,R$=57343;function eE(n){let e=n.charCodeAt(0);return e>=A$&&e<=R$}function wa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ER="__name__",$f=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return he(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):dE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}},Ve=class n extends $f{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},N$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class n extends $f{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return N$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ER}static keyField(){return new n([ER])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ve.fromString(e))}static fromName(e){return new n(Ve.fromString(e).popFirst(5))}static empty(){return new n(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ve(e.slice()))}};function cN(n,e,t){if(!t)throw new z(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function M$(n,e,t,r){if(e===!0&&r===!0)throw new z(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IR(n){if(!K.isDocumentKey(n))throw new z(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wR(n){if(K.isDocumentKey(n))throw new z(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function BI(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=BI(n);throw new z(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function it(n,e){let t={typeString:n};return e&&(t.value=e),t}function Qu(n,e){if(!uN(n))throw new z(x.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(x.INVALID_ARGUMENT,t);return!0}var DR=-62135596800,CR=1e6,ot=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*CR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<DR)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CR}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-DR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:it("string",ot._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ot(0,0))}static max(){return new n(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ju=-1,hE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};hE.UNKNOWN_ID=-1;function P$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new ot(t+1,0):new ot(t,r));return new Wo(i,K.empty(),e)}function x$(n){return new Wo(n.readTime,n.key,ju)}var Wo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),K.empty(),ju)}static max(){return new n(re.max(),K.empty(),ju)}};function k$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:he(n.largestBatchId,e.largestBatchId))}var O$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fa(n){return w(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==O$)throw n;$("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function F$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function La(n){return n.name==="IndexedDbTransactionError"}var $I=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),HI=-1;function vp(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function L$(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var lN="";function V$(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TR(e)),e=j$(n.get(t),e);return TR(e)}function j$(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case lN:t+="";break;default:t+=o}}return t}function TR(n){return n+lN+""}var U$="remoteDocuments",dN="owner";var hN="mutationQueues";var fN="mutations";var pN="documentMutations",B$="remoteDocumentsV14";var gN="remoteDocumentGlobal";var mN="targets";var yN="targetDocuments";var vN="targetGlobal",_N="collectionParents";var EN="clientMetadata";var IN="bundles";var wN="namedQueries";var $$="indexConfiguration";var H$="indexState";var q$="indexEntries";var DN="documentOverlays";var z$="globals";var G$=[hN,fN,pN,U$,mN,dN,vN,yN,EN,gN,_N,IN,wN],Die=[...G$,DN],W$=[hN,fN,pN,B$,mN,dN,vN,yN,EN,gN,_N,IN,wN,DN],K$=W$,Q$=[...K$,$$,H$,q$];var Cie=[...Q$,z$];function bR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var qe=class n{constructor(e,t){this.comparator=e,this.root=t||Er.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ma(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ma(this.root,e,this.comparator,!1)}getReverseIterator(){return new ma(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ma(this.root,e,this.comparator,!0)}},ma=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Er=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Er(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hf(this.data.getIterator())}getIteratorFrom(e){return new Hf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Hf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _r=class n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(un.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var qf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Nt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Nt.EMPTY_BYTE_STRING=new Nt("");var Y$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(n){if(be(!!n,39018),typeof n=="string"){let e=0,t=Y$.exec(n);if(be(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wr(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}var TN="server_timestamp",bN="__type__",SN="__previous_value__",AN="__local_write_time__";function qI(n){return(n?.mapValue?.fields||{})[bN]?.stringValue===TN}function _p(n){let e=n.mapValue.fields[SN];return qI(e)?_p(e):e}function Bu(n){let e=Gr(n.mapValue.fields[AN].timestampValue);return new ot(e.seconds,e.nanos)}var pE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},zf="(default)",Gf=class n{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zI="__type__",RN="__max__",kf={mapValue:{fields:{__type__:{stringValue:RN}}}},GI="__vector__",Da="value";function xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qI(n)?4:MN(n)?9007199254740991:NN(n)?10:11:Y(28295,{value:n})}function Dr(n,e){if(n===e)return!0;let t=xi(n);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gr(i.timestampValue),a=Gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Wr(i.bytesValue).isEqual(Wr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Uu(s)===Uu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return wa(n.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(bR(s)!==bR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Dr(s[u],a[u])))return!1;return!0})(n,e);default:return Y(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>Dr(t,e))!==void 0}function Ca(n,e){if(n===e)return 0;let t=xi(n),r=xi(e);if(t!==r)return he(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return he(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return SR(n.timestampValue,e.timestampValue);case 4:return SR(Bu(n),Bu(e));case 5:return dE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Wr(o),u=Wr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=he(Oe(o.latitude),Oe(s.latitude));return a!==0?a:he(Oe(o.longitude),Oe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AR(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Da]?.arrayValue,h=u[Da]?.arrayValue,p=he(l?.values?.length||0,h?.values?.length||0);return p!==0?p:AR(l,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===kf.mapValue&&s===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(s===kf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=dE(u[p],h[p]);if(m!==0)return m;let y=Ca(a[u[p]],l[h[p]]);if(y!==0)return y}return he(u.length,h.length)})(n.mapValue,e.mapValue);default:throw Y(23264,{he:t})}}function SR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return he(n,e);let t=Gr(n),r=Gr(e),i=he(t.seconds,r.seconds);return i!==0?i:he(t.nanos,r.nanos)}function AR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ca(t[i],r[i]);if(o)return o}return he(t.length,r.length)}function Ta(n){return gE(n)}function gE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Gr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Wr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return K.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=gE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${gE(t.fields[s])}`;return i+"}"})(n.mapValue):Y(61005,{value:n})}function Lf(n){switch(xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=_p(n);return e?16+Lf(e):16;case 5:return 2*n.stringValue.length;case 6:return Wr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Lf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Xo(r.fields,(o,s)=>{i+=o.length+Lf(s)}),i})(n.mapValue);default:throw Y(13486,{value:n})}}function mE(n){return!!n&&"integerValue"in n}function WI(n){return!!n&&"arrayValue"in n}function RR(n){return!!n&&"nullValue"in n}function NR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function NN(n){return(n?.mapValue?.fields||{})[zI]?.stringValue===GI}function ku(n){if(n.geoPointValue)return{geoPointValue:R({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:R({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ku(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return R({},n)}function MN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RN}var bie={mapValue:{fields:{[zI]:{stringValue:GI},[Da]:{arrayValue:{}}}}};var Kn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=un.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ku(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ku(this.value))}};function PN(n){let e=[];return Xo(n.fields,(t,r)=>{let i=new un([t]);if(Vf(r)){let o=PN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _r(e)}var Qn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Kn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ba=class{constructor(e,t){this.position=e,this.inclusive=t}};function MR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ca(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dr(n.position[t],e.position[t]))return!1;return!0}var Sa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function J$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wf=class{},lt=class n extends Wf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vE(e,t,r):t==="array-contains"?new IE(e,r):t==="in"?new wE(e,r):t==="not-in"?new DE(e,r):t==="array-contains-any"?new CE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _E(e,r):new EE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Cr=class n extends Wf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return xN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function xN(n){return n.op==="and"}function kN(n){return Z$(n)&&xN(n)}function Z$(n){for(let e of n.filters)if(e instanceof Cr)return!1;return!0}function yE(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+Ta(n.value);if(kN(n))return n.filters.map(e=>yE(e)).join(",");{let e=n.filters.map(t=>yE(t)).join(",");return`${n.op}(${e})`}}function ON(n,e){return n instanceof lt?(function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Dr(r.value,i.value)})(n,e):n instanceof Cr?(function(r,i){return i instanceof Cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ON(s,i.filters[a]),!0):!1})(n,e):void Y(19439)}function FN(n){return n instanceof lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ta(t.value)}`})(n):n instanceof Cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(FN).join(" ,")+"}"})(n):"Filter"}var vE=class extends lt{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},_E=class extends lt{constructor(e,t){super(e,"in",t),this.keys=LN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},EE=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=LN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function LN(n,e){return(e.arrayValue?.values||[]).map(t=>K.fromName(t.referenceValue))}var IE=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return WI(t)&&$u(t.arrayValue,this.value)}},wE=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}},DE=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}},CE=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!WI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}};var TE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function xR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new TE(n,e,t,r,i,o,s)}function KI(n){let e=te(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),vp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ta(r)).join(",")),e.Te=t}return e.Te}function QI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ON(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PR(n.startAt,e.startAt)&&PR(n.endAt,e.endAt)}function bE(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Aa=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function X$(n,e,t,r,i,o,s,a){return new Aa(n,e,t,r,i,o,s,a)}function YI(n){return new Aa(n)}function kR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eH(n){return n.collectionGroup!==null}function Ou(n){let e=te(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(un.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Sa(o,r))}),t.has(un.keyField().canonicalString())||e.Ie.push(new Sa(un.keyField(),r))}return e.Ie}function Ir(n){let e=te(n);return e.Ee||(e.Ee=tH(e,Ou(n))),e.Ee}function tH(n,e){if(n.limitType==="F")return xR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Sa(i.field,o)});let t=n.endAt?new ba(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ba(n.startAt.position,n.startAt.inclusive):null;return xR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function SE(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ep(n,e){return QI(Ir(n),Ir(e))&&n.limitType===e.limitType}function VN(n){return`${KI(Ir(n))}|lt:${n.limitType}`}function fa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>FN(i)).join(", ")}]`),vp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ta(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ta(i)).join(",")),`Target(${r})`})(Ir(n))}; limitType=${n.limitType})`}function Ip(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ou(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=MR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Ou(r),i)||r.endAt&&!(function(s,a,u){let l=MR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Ou(r),i))})(n,e)}function nH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jN(n){return(e,t)=>{let r=!1;for(let i of Ou(n)){let o=rH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rH(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ca(u,l):Y(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var Kr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CN(this.inner)}size(){return this.innerSize}};var iH=new qe(K.comparator);function Qr(){return iH}var UN=new qe(K.comparator);function xu(...n){let e=UN;for(let t of n)e=e.insert(t.key,t);return e}function BN(n){let e=UN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $o(){return Fu()}function $N(){return Fu()}function Fu(){return new Kr(n=>n.toString(),(n,e)=>n.isEqual(e))}var oH=new qe(K.comparator),sH=new yt(K.comparator);function fe(...n){let e=sH;for(let t of n)e=e.add(t);return e}var aH=new yt(he);function cH(){return aH}function JI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function HN(n){return{integerValue:""+n}}function uH(n,e){return L$(e)?HN(e):JI(n,e)}var Ra=class{constructor(){this._=void 0}};function lH(n,e,t){return n instanceof Na?(function(i,o){let s={fields:{[bN]:{stringValue:TN},[AN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qI(o)&&(o=_p(o)),o&&(s.fields[SN]=o),{mapValue:s}})(t,e):n instanceof Ko?zN(n,e):n instanceof Qo?GN(n,e):(function(i,o){let s=qN(i,o),a=OR(s)+OR(i.Ae);return mE(s)&&mE(i.Ae)?HN(a):JI(i.serializer,a)})(n,e)}function dH(n,e,t){return n instanceof Ko?zN(n,e):n instanceof Qo?GN(n,e):t}function qN(n,e){return n instanceof Ma?(function(r){return mE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Na=class extends Ra{},Ko=class extends Ra{constructor(e){super(),this.elements=e}};function zN(n,e){let t=WN(e);for(let r of n.elements)t.some(i=>Dr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Qo=class extends Ra{constructor(e){super(),this.elements=e}};function GN(n,e){let t=WN(e);for(let r of n.elements)t=t.filter(i=>!Dr(i,r));return{arrayValue:{values:t}}}var Ma=class extends Ra{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function OR(n){return Oe(n.integerValue||n.doubleValue)}function WN(n){return WI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function hH(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Ko&&i instanceof Ko||r instanceof Qo&&i instanceof Qo?wa(r.elements,i.elements,Dr):r instanceof Ma&&i instanceof Ma?Dr(r.Ae,i.Ae):r instanceof Na&&i instanceof Na})(n.transform,e.transform)}var AE=class{constructor(e,t){this.version=e,this.transformResults=t}},Ai=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Pa=class{};function KN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hu(n.key,Ai.none()):new Yo(n.key,n.data,Ai.none());{let t=n.data,r=Kn.empty(),i=new yt(un.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yr(n.key,r,new _r(i.toArray()),Ai.none())}}function fH(n,e,t){n instanceof Yo?(function(i,o,s){let a=i.value.clone(),u=LR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Yr?(function(i,o,s){if(!jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(QN(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Lu(n,e,t,r){return n instanceof Yo?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=o.value.clone(),h=VR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Yr?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=VR(o.fieldTransforms,u,s),h=s.data;return h.setAll(QN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function pH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=qN(r.transform,i||null);o!=null&&(t===null&&(t=Kn.empty()),t.set(r.field,o))}return t||null}function FR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wa(r,i,(o,s)=>hH(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Yo=class extends Pa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yr=class extends Pa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QN(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function LR(n,e,t){let r=new Map;be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dH(s,a,t[i]))}return r}function VR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,lH(o,s,e))}return r}var Hu=class extends Pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},RE=class extends Pa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var NE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&fH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=$N();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=KN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(t,r)=>FR(t,r))&&wa(this.baseMutations,e.baseMutations,(t,r)=>FR(t,r))}},ME=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return oH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var PE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var nt,ge;function gH(n){switch(n){case x.OK:return Y(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function YN(n){if(n===void 0)return zr("GRPC error has no .code"),x.UNKNOWN;switch(n){case nt.OK:return x.OK;case nt.CANCELLED:return x.CANCELLED;case nt.UNKNOWN:return x.UNKNOWN;case nt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case nt.INTERNAL:return x.INTERNAL;case nt.UNAVAILABLE:return x.UNAVAILABLE;case nt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case nt.NOT_FOUND:return x.NOT_FOUND;case nt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case nt.ABORTED:return x.ABORTED;case nt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case nt.DATA_LOSS:return x.DATA_LOSS;default:return Y(39323,{code:n})}}(ge=nt||(nt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var mH=null;function yH(){return new TextEncoder}var vH=new $r([4294967295,4294967295],0);function jR(n){let e=yH().encode(n),t=new K_;return t.update(e),new Uint8Array(t.digest())}function UR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $r([t,r],0),new $r([i,o],0)]}var kE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ho(`Invalid padding: ${t}`);if(r<0)throw new Ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$r.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply($r.fromNumber(r)));return i.compare(vH)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=jR(e),[r,i]=UR(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=jR(e),[r,i]=UR(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ho=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new qe(he),Qr(),fe())}},qu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,fe(),fe(),fe())}};var va=class{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}},Qf=class{constructor(e,t){this.targetId=e,this.Ce=t}},Yf=class{constructor(e,t,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Jf=class{constructor(){this.ve=0,this.Fe=BR(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),t=fe(),r=fe();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new qu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=BR()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},OE=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=Of(),this.He=Of(),this.Ye=new qe(he)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(bE(o))if(r===0){let s=new K(o.path);this.et(t,s,Qn.newNoDocument(s,re.min()))}else be(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,l)}mH?.lt((function(h,p,m,y,A){let P={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},N=p.unchangedNames;return N&&(P.bloomFilter={applied:A===0,hashCount:N?.hashCount??0,bitmapLength:N?.bits?.bitmap?.length??0,padding:N?.bits?.padding??0,mightContain:j=>y?.mightContain(j)??!1}),P})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Wr(r).toUint8Array()}catch(u){if(u instanceof qf)return Ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new kE(s,i,o)}catch(u){return Ia(u instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&bE(a.target)){let u=new K(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Qn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.qe())}});let r=fe();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new Kf(e,t,this.Ye,this.je,r);return this.je=Qr(),this.Je=Of(),this.He=Of(),this.Ye=new qe(he),i}Xe(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jf,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new yt(he),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new yt(he),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jf),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Of(){return new qe(K.comparator)}function BR(){return new qe(K.comparator)}var _H={asc:"ASCENDING",desc:"DESCENDING"},EH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IH={and:"AND",or:"OR"},FE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function LE(n,e){return n.useProto3Json||vp(e)?e:{value:e}}function Zf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wH(n,e){return Zf(n,e.toTimestamp())}function wr(n){return be(!!n,49232),re.fromTimestamp((function(t){let r=Gr(t);return new ot(r.seconds,r.nanos)})(n))}function ZI(n,e){return VE(n,e).canonicalString()}function VE(n,e){let t=(function(i){return new Ve(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ZN(n){let e=Ve.fromString(n);return be(rM(e),10190,{key:e.toString()}),e}function jE(n,e){return ZI(n.databaseId,e.path)}function tE(n,e){let t=ZN(e);if(t.get(1)!==n.databaseId.projectId)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(eM(t))}function XN(n,e){return ZI(n.databaseId,e)}function DH(n){let e=ZN(n);return e.length===4?Ve.emptyPath():eM(e)}function UE(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eM(n){return be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $R(n,e,t){return{name:jE(n,e),fields:t.value.mapValue.fields}}function CH(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?x.UNKNOWN:YN(l.code);return new z(h,l.message||"")})(s);t=new Yf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=tE(n,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):re.min(),a=new Kn({mapValue:{fields:r.document.fields}}),u=Qn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new va(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=tE(n,r.document),o=r.readTime?wr(r.readTime):re.min(),s=Qn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new va([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=tE(n,r.document),o=r.removedTargetIds||[];t=new va([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xE(i,o),a=r.targetId;t=new Qf(a,s)}}return t}function TH(n,e){let t;if(e instanceof Yo)t={update:$R(n,e.key,e.value)};else if(e instanceof Hu)t={delete:jE(n,e.key)};else if(e instanceof Yr)t={update:$R(n,e.key,e.data),updateMask:kH(e.fieldMask)};else{if(!(e instanceof RE))return Y(16599,{Vt:e.type});t={verify:jE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Na)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ma)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:wH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(n,e.precondition)),t}function bH(n,e){return n&&n.length>0?(be(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?wr(i.updateTime):wr(o);return s.isEqual(re.min())&&(s=wr(o)),new AE(s,i.transformResults||[])})(t,e))):[]}function SH(n,e){return{documents:[XN(n,e.path)]}}function AH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XN(n,i);let o=(function(l){if(l.length!==0)return nM(Cr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:pa(m.field),direction:MH(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=LE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function RH(n){let e=DH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){be(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=tM(p);return m instanceof Cr&&kN(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(A){return new Sa(ga(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,vp(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new ba(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new ba(y,m)})(t.endAt)),X$(e,i,s,o,a,"F",u,l)}function NH(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tM(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ga(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ga(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ga(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ga(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(n):n.fieldFilter!==void 0?(function(t){return lt.create(ga(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Cr.create(t.compositeFilter.filters.map(r=>tM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(t.compositeFilter.op))})(n):Y(30097,{filter:n})}function MH(n){return _H[n]}function PH(n){return EH[n]}function xH(n){return IH[n]}function pa(n){return{fieldPath:n.canonicalString()}}function ga(n){return un.fromServerFormat(n.fieldPath)}function nM(n){return n instanceof lt?(function(t){if(t.op==="=="){if(NR(t.value))return{unaryFilter:{field:pa(t.field),op:"IS_NAN"}};if(RR(t.value))return{unaryFilter:{field:pa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NR(t.value))return{unaryFilter:{field:pa(t.field),op:"IS_NOT_NAN"}};if(RR(t.value))return{unaryFilter:{field:pa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(t.field),op:PH(t.op),value:t.value}}})(n):n instanceof Cr?(function(t){let r=t.getFilters().map(i=>nM(i));return r.length===1?r[0]:{compositeFilter:{op:xH(t.op),filters:r}}})(n):Y(54877,{filter:n})}function kH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zu=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var BE=class{constructor(e){this.yt=e}};function OH(n){let e=RH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?SE(e,e.limit,"L"):e}var Xf=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),Uu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Gr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Wr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?MN(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):NN(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Y(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=Da,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Oe(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),K.fromName(e).path.forEach(r=>{this.Ft(t,60),this.Ut(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Xf.Kt=new Xf;var $E=class{constructor(){this.Cn=new HE}addToCollectionParentIndex(e,t){return this.Cn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Wo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Wo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},HE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yt(Ve.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Ve.comparator)).toArray()}};var Sie=new Uint8Array(0);var HR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iM=41943040,wn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(iM,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var Gu=class n{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new n(0)}static cr(){return new n(-1)}};var qR="LruGarbageCollector",FH=1048576;function zR([n,e],[t,r]){let i=he(n,t);return i===0?he(e,r):i}var qE=class{constructor(e){this.Ir=e,this.buffer=new yt(zR),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();zR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},zE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$(qR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){La(t)?$(qR,"Ignoring IndexedDB error during garbage collection: ",t):yield Fa(t)}yield this.Vr(3e5)}))}},GE=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve($I.ce);let r=new qE(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(HR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HR):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ha()<=le.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function LH(n,e){return new GE(n,e)}var WE=class{constructor(){this.changes=new Kr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var KE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var QE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lu(r.mutation,i,_r.empty(),ot.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){let i=$o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=xu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=$o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Qr(),s=Fu(),a=(function(){return Fu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Yr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Lu(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,_r.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>a.set(l,new KE(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=Fu(),i=new qe((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||_r.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=$N();h.forEach(m=>{if(!o.has(m)){let y=KN(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eH(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve($o()),a=ju,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:BN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=xu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=xu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=(function(p,m){return new Aa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Qn.newInvalidDocument(h)))});let a=xu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Lu(h.mutation,l,_r.empty(),ot.now()),Ip(t,l)&&(a=a.insert(u,l))}),a})}};var YE=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return k.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:OH(i.bundledQuery),readTime:wr(i.readTime)}})(t)),k.resolve()}};var JE=class{constructor(){this.overlays=new qe(K.comparator),this.qr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=$o();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=$o(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new qe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=$o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=$o(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PE(t,r));let o=this.qr.get(t);o===void 0&&(o=fe(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}};var ZE=class{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Wu=class{constructor(){this.Qr=new yt(rt.$r),this.Ur=new yt(rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let r=new rt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new rt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){let t=new K(new Ve([])),r=new rt(t,e),i=new rt(t,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new K(new Ve([])),r=new rt(t,e),i=new rt(t,e+1),o=fe();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new rt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},rt=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return K.comparator(e.key,t.key)||he(e.Yr,t.Yr)}static Kr(e,t){return he(e.Yr,t.Yr)||K.comparator(e.key,t.key)}};var XE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new yt(rt.$r)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new NE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Zr=this.Zr.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ei(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?HI:this.tr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new rt(t,0),i=new rt(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{let a=this.Xr(s.Yr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(he);return t.forEach(i=>{let o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),k.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new rt(new K(o),0),a=new yt(he);return this.Zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Yr)),!0)},s),k.resolve(this.ti(a))}ti(e){let t=[];return e.forEach(r=>{let i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return k.forEach(t.mutations,i=>{let o=new rt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){let r=new rt(t,0),i=this.Zr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var eI=class{constructor(e){this.ri=e,this.docs=(function(){return new qe(K.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qr(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||k$(x$(h),r)<=0||(i.has(h.key)||Ip(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}ii(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tI(this)}getSize(e){return k.resolve(this.size)}},tI=class extends WE{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}};var nI=class{constructor(e){this.persistence=e,this.si=new Kr(t=>KI(t),QI),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new Wu,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),k.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new Gu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Pr(t),k.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.si.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this._i.Hr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this._i.containsKey(t))}};var ep=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new $I(0),this.li=!1,this.li=!0,this.hi=new ZE,this.referenceDelegate=e(this),this.Pi=new nI(this),this.indexManager=new $E,this.remoteDocumentCache=(function(i){return new eI(i)})(r=>this.referenceDelegate.Ti(r)),this.serializer=new BE(t),this.Ii=new YE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new XE(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){$("MemoryPersistence","Starting transaction:",e);let i=new rI(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,t){return k.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}},rI=class extends fE{constructor(e){super(),this.currentSequenceNumber=e}},iI=class n{constructor(e){this.persistence=e,this.Ri=new Wu,this.Vi=null}static mi(e){return new n(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,r=>{let i=K.fromPath(r);return this.gi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return k.or([()=>k.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},tp=class n{constructor(e,t){this.persistence=e,this.pi=new Kr(r=>V$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=LH(this,t)}static mi(e,t){return new n(e,t)}Ei(){}di(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return k.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),k.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lf(e.data.value)),t}br(e,t,r){return k.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.pi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var oI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=fe(),i=fe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var sI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aI=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return IA()?8:F$(an())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ys(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sI;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,t,s,a.size)})}).next(()=>o.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(ha()<=le.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",fa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(ha()<=le.DEBUG&&$("QueryEngine","Query:",fa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ha()<=le.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",fa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):k.resolve())}ys(e,t){if(kR(t))return k.resolve(null);let r=Ir(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=SE(t,null,"F"),r=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Ds(t,a);return this.Cs(t,l,s,u.readTime)?this.ys(e,SE(t,null,"F")):this.vs(e,l,t,u)}))})))}ws(e,t,r,i){return kR(t)||i.isEqual(re.min())?k.resolve(null):this.ps.getDocuments(e,r).next(o=>{let s=this.Ds(t,o);return this.Cs(t,s,r,i)?k.resolve(null):(ha()<=le.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(t)),this.vs(e,s,t,P$(i,ju)).next(a=>a))})}Ds(e,t){let r=new yt(jN(e));return t.forEach((i,o)=>{Ip(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return ha()<=le.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",fa(t)),this.ps.getDocumentsMatchingQuery(e,t,Wo.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var XI="LocalStore",VH=3e8,cI=class{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new qe(he),this.xs=new Kr(o=>KI(o),QI),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}};function jH(n,e,t,r){return new cI(n,e,t,r)}function oM(n,e){return w(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ls:l,removedBatchIds:s,addedBatchIds:a}))})})})}function UH(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=k.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(P=>{let N=l.docVersions.get(A);be(N!==null,48541),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),h.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function sM(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function BH(n,e){let t=te(n),r=e.snapshotVersion,i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Pi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(P,N,j){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=VH?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(m,y,h)&&a.push(t.Pi.updateTargetData(o,y))});let u=Qr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($H(o,s,e.documentUpdates).next(h=>{u=h.ks,l=h.qs})),!r.isEqual(re.min())){let h=t.Pi.getLastRemoteSnapshotVersion(o).next(p=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Ms=i,o))}function $H(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Qr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$(XI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{ks:s,qs:i}})}function HH(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=HI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qH(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Pi.allocateTargetId(r).next(s=>(i=new zu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}function uI(n,e,t){return w(this,null,function*(){let r=te(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!La(s))throw s;$(XI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)})}function GR(n,e,t){let r=te(n),i=re.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=te(u),m=p.xs.get(h);return m!==void 0?k.resolve(p.Ms.get(m)):p.Pi.getTargetData(l,h)})(r,s,Ir(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:fe())).next(a=>(zH(r,nH(e),a),{documents:a,Qs:o})))}function zH(n,e,t){let r=n.Os.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Os.set(e,r)}var np=class{constructor(){this.activeTargetIds=cH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lI=class{constructor(){this.Mo=new np,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new np,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dI=class{Oo(e){}shutdown(){}};var WR="ConnectivityMonitor",rp=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$(WR,"Network connectivity changed: AVAILABLE");for(let e of this.qo)e(0)}ko(){$(WR,"Network connectivity changed: UNAVAILABLE");for(let e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ff=null;function hI(){return Ff===null?Ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ff++,"0x"+Ff.toString(16)}var nE="RestConnection",GH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fI=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){let s=hI(),a=this.zo(e,t.toUriEncodedString());$(nE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,o);let{host:l}=new URL(a),h=Po(l);return this.Jo(e,a,u,r,h).then(p=>($(nE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ia(nE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Ho(e,t,r,i,o,s){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,t){let r=GH[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}};var pI=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}};var Rt="WebChannelConnection",gI=class extends fI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=hI();return new Promise((a,u)=>{let l=new Q_;l.setWithCredentials(!0),l.listenOnce(Y_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pu.NO_ERROR:let p=l.getResponseJson();$(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Pu.TIMEOUT:$(Rt,`RPC '${e}' ${s} timed out`),u(new z(x.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:let m=l.getStatus();if($(Rt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let P=(function(j){let ie=j.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(ie)>=0?ie:x.UNKNOWN})(A.status);u(new z(P,A.message))}else u(new z(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(x.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{$(Rt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);$(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=hI(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=X_(),a=Z_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");$(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.I_(p);let m=!1,y=!1,A=new pI({Yo:N=>{y?$(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||($(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),$(Rt,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Zo:()=>p.close()}),P=(N,j,ie)=>{N.listen(j,de=>{try{ie(de)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return P(p,da.EventType.OPEN,()=>{y||($(Rt,`RPC '${e}' stream ${i} transport opened.`),A.o_())}),P(p,da.EventType.CLOSE,()=>{y||(y=!0,$(Rt,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(p))}),P(p,da.EventType.ERROR,N=>{y||(y=!0,Ia(Rt,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new z(x.UNAVAILABLE,"The operation could not be completed")))}),P(p,da.EventType.MESSAGE,N=>{if(!y){let j=N.data[0];be(!!j,16349);let ie=j,de=ie?.error||ie[0]?.error;if(de){$(Rt,`RPC '${e}' stream ${i} received error:`,de);let Mt=de.status,zt=(function(v){let E=nt[v];if(E!==void 0)return YN(E)})(Mt),dt=de.message;zt===void 0&&(zt=x.INTERNAL,dt="Unknown error status: "+Mt+" with message "+de.message),y=!0,A.a_(new z(zt,dt)),p.close()}else $(Rt,`RPC '${e}' stream ${i} received:`,j),A.u_(j)}}),P(a,J_.STAT_EVENT,N=>{N.stat===xf.PROXY?$(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===xf.NOPROXY&&$(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}};function rE(){return typeof document<"u"?document:null}function wp(n){return new FE(n,!0)}var ip=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var KR="PersistentStream",op=class{constructor(e,t,r,i,o,s,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ip(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return w(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return w(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return w(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(t)})}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new z(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(()=>w(this,null,function*(){this.state=0,this.start()}))}z_(e){return $(KR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():($(KR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},mI=class extends op{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=CH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?wr(s.readTime):re.min()})(e);return this.listener.H_(t,r)}Y_(e){let t={};t.database=UE(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=bE(u)?{documents:SH(o,u)}:{query:AH(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JN(o,s.resumeToken);let l=LE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Zf(o,s.snapshotVersion.toTimestamp());let l=LE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=NH(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){let t={};t.database=UE(this.serializer),t.removeTarget=e,this.q_(t)}},yI=class extends op{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=bH(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=UE(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>TH(this.serializer,r))};this.q_(t)}};var vI=class{},_I=class extends vI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,VE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(x.UNKNOWN,o.toString())})}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,VE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(x.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}},EI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(t),this.aa=!1):$("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Jo="RemoteStore",II=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(()=>w(this,null,function*(){es(this)&&($(Jo,"Restarting streams for network reachability change."),yield(function(u){return w(this,null,function*(){let l=te(u);l.Ea.add(4),yield Yu(l),l.Ra.set("Unknown"),l.Ea.delete(4),yield Dp(l)})})(this))}))}),this.Ra=new EI(r,i)}};function Dp(n){return w(this,null,function*(){if(es(n))for(let e of n.da)yield e(!0)})}function Yu(n){return w(this,null,function*(){for(let e of n.da)yield e(!1)})}function aM(n,e){let t=te(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),rw(t)?nw(t):Va(t).O_()&&tw(t,e))}function ew(n,e){let t=te(n),r=Va(t);t.Ia.delete(e),r.O_()&&cM(t,e),t.Ia.size===0&&(r.O_()?r.L_():es(t)&&t.Ra.set("Unknown"))}function tw(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Va(n).Y_(e)}function cM(n,e){n.Va.Ue(e),Va(n).Z_(e)}function nw(n){n.Va=new OE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Va(n).start(),n.Ra.ua()}function rw(n){return es(n)&&!Va(n).x_()&&n.Ia.size>0}function es(n){return te(n).Ea.size===0}function uM(n){n.Va=void 0}function WH(n){return w(this,null,function*(){n.Ra.set("Online")})}function KH(n){return w(this,null,function*(){n.Ia.forEach((e,t)=>{tw(n,e)})})}function QH(n,e){return w(this,null,function*(){uM(n),rw(n)?(n.Ra.ha(e),nw(n)):n.Ra.set("Unknown")})}function YH(n,e,t){return w(this,null,function*(){if(n.Ra.set("Online"),e instanceof Yf&&e.state===2&&e.cause)try{yield(function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))})})(n,e)}catch(r){$(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sp(n,r)}else if(e instanceof va?n.Va.Ze(e):e instanceof Qf?n.Va.st(e):n.Va.tt(e),!t.isEqual(re.min()))try{let r=yield sM(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Va.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),cM(o,u);let p=new zu(h.target,u,l,h.sequenceNumber);tw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){$(Jo,"Failed to raise snapshot:",r),yield sp(n,r)}})}function sp(n,e,t){return w(this,null,function*(){if(!La(e))throw e;n.Ea.add(1),yield Yu(n),n.Ra.set("Offline"),t||(t=()=>sM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){$(Jo,"Retrying IndexedDB access"),yield t(),n.Ea.delete(1),yield Dp(n)}))})}function lM(n,e){return e().catch(t=>sp(n,t,e))}function Cp(n){return w(this,null,function*(){let e=te(n),t=ki(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HI;for(;JH(e);)try{let i=yield HH(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,ZH(e,i)}catch(i){yield sp(e,i)}dM(e)&&hM(e)})}function JH(n){return es(n)&&n.Ta.length<10}function ZH(n,e){n.Ta.push(e);let t=ki(n);t.O_()&&t.X_&&t.ea(e.mutations)}function dM(n){return es(n)&&!ki(n).x_()&&n.Ta.length>0}function hM(n){ki(n).start()}function XH(n){return w(this,null,function*(){ki(n).ra()})}function e4(n){return w(this,null,function*(){let e=ki(n);for(let t of n.Ta)e.ea(t.mutations)})}function t4(n,e,t){return w(this,null,function*(){let r=n.Ta.shift(),i=ME.from(r,e,t);yield lM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Cp(n)})}function n4(n,e){return w(this,null,function*(){e&&ki(n).X_&&(yield(function(r,i){return w(this,null,function*(){if((function(s){return gH(s)&&s!==x.ABORTED})(i.code)){let o=r.Ta.shift();ki(r).B_(),yield lM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cp(r)}})})(n,e)),dM(n)&&hM(n)})}function QR(n,e){return w(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),$(Jo,"RemoteStore received new credentials");let r=es(t);t.Ea.add(3),yield Yu(t),r&&t.Ra.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),yield Dp(t)})}function r4(n,e){return w(this,null,function*(){let t=te(n);e?(t.Ea.delete(2),yield Dp(t)):e||(t.Ea.add(2),yield Yu(t),t.Ra.set("Unknown"))})}function Va(n){return n.ma||(n.ma=(function(t,r,i){let o=te(t);return o.sa(),new mI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:WH.bind(null,n),t_:KH.bind(null,n),r_:QH.bind(null,n),H_:YH.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.ma.B_(),rw(n)?nw(n):n.Ra.set("Unknown")):(yield n.ma.stop(),uM(n))}))),n.ma}function ki(n){return n.fa||(n.fa=(function(t,r,i){let o=te(t);return o.sa(),new yI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:XH.bind(null,n),r_:n4.bind(null,n),ta:e4.bind(null,n),na:t4.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.fa.B_(),yield Cp(n)):(yield n.fa.stop(),n.Ta.length>0&&($(Jo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}var wI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function iw(n,e){if(zr("AsyncQueue",`${e}: ${n}`),La(n))return new z(x.UNAVAILABLE,`${e}: ${n}`);throw n}var ap=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=xu(),this.sortedSet=new qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var cp=class{constructor(){this.ga=new qe(K.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},xa=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,ap.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var DI=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}},CI=class{constructor(){this.queries=YR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=YR(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new z(x.ABORTED,"Firestore shutting down"))}};function YR(){return new Kr(n=>VN(n),Ep)}function i4(n,e){return w(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new DI,r=e.Da()?0:1);try{switch(r){case 0:o.wa=yield t.onListen(i,!0);break;case 1:o.wa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=iw(s,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&ow(t)})}function o4(n,e){return w(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function s4(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&ow(t)}function a4(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function ow(n){n.Ca.forEach(e=>{e.next()})}var TI,JR;(JR=TI||(TI={})).Ma="default",JR.Cache="cache";var bI=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==TI.Cache}};var up=class{constructor(e){this.key=e}},lp=class{constructor(e){this.key=e}},SI=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=jN(e),this.tu=new ap(this.eu)}get nu(){return this.Ya}ru(e,t){let r=t?t.iu:new cp,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ip(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?A!==P&&(r.track({type:3,doc:y}),N=!0):this.su(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,A){let P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:N})}};return P(y)-P(A)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,l=u!==this.Za;return this.Za=u,s.length!==0||l?{snapshot:new xa(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});let t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new lp(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new up(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=fe();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},sw="SyncEngine",AI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},RI=class{constructor(e){this.key=e,this.hu=!1}},NI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Kr(a=>VN(a),Ep),this.Iu=new Map,this.Eu=new Set,this.du=new qe(K.comparator),this.Au=new Map,this.Ru=new Wu,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};function c4(n,e,t=!0){return w(this,null,function*(){let r=vM(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=yield fM(r,e,t,!0),i})}function u4(n,e){return w(this,null,function*(){let t=vM(n);yield fM(t,e,!0,!1)})}function fM(n,e,t,r){return w(this,null,function*(){let i=yield qH(n.localStore,Ir(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield l4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&aM(n.remoteStore,i),a})}function l4(n,e,t,r,i){return w(this,null,function*(){n.pu=(p,m,y)=>(function(P,N,j,ie){return w(this,null,function*(){let de=N.view.ru(j);de.Cs&&(de=yield GR(P.localStore,N.query,!1).then(({documents:D})=>N.view.ru(D,de)));let Mt=ie&&ie.targetChanges.get(N.targetId),zt=ie&&ie.targetMismatches.get(N.targetId)!=null,dt=N.view.applyChanges(de,P.isPrimaryClient,Mt,zt);return XR(P,N.targetId,dt.au),dt.snapshot})})(n,p,m,y);let o=yield GR(n.localStore,e,!0),s=new SI(e,o.Qs),a=s.ru(o.documents),u=qu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);XR(n,t,l.au);let h=new AI(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot})}function d4(n,e,t){return w(this,null,function*(){let r=te(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ep(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ew(r.remoteStore,i.targetId),MI(r,i.targetId)}).catch(Fa))):(MI(r,i.targetId),yield uI(r.localStore,i.targetId,!0))})}function h4(n,e){return w(this,null,function*(){let t=te(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ew(t.remoteStore,r.targetId))})}function f4(n,e,t){return w(this,null,function*(){let r=E4(n);try{let i=yield(function(s,a){let u=te(s),l=ot.now(),h=a.reduce((y,A)=>y.add(A.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=Qr(),P=fe();return u.Ns.getEntries(y,h).next(N=>{A=N,A.forEach((j,ie)=>{ie.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(N=>{p=N;let j=[];for(let ie of a){let de=pH(ie,p.get(ie.key).overlayedDocument);de!=null&&j.push(new Yr(ie.key,de,PN(de.value.mapValue),Ai.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(N=>{m=N;let j=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(y,N.batchId,j)})}).then(()=>({batchId:m.batchId,changes:BN(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Vu[s.currentUser.toKey()];l||(l=new qe(he)),l=l.insert(a,u),s.Vu[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Ju(r,i.changes),yield Cp(r.remoteStore)}catch(i){let o=iw(i,"Failed to persist write");t.reject(o)}})}function pM(n,e){return w(this,null,function*(){let t=te(n);try{let r=yield BH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?be(s.hu,14607):i.removedDocuments.size>0&&(be(s.hu,42227),s.hu=!1))}),yield Ju(t,r,e)}catch(r){yield Fa(r)}})}function ZR(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.va(a)&&(l=!0)}),l&&ow(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function p4(n,e,t){return w(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new qe(K.comparator);s=s.insert(o,Qn.newNoDocument(o,re.min()));let a=fe().add(o),u=new Kf(re.min(),new Map,new qe(he),s,a);yield pM(r,u),r.du=r.du.remove(o),r.Au.delete(e),aw(r)}else yield uI(r.localStore,e,!1).then(()=>MI(r,e,t)).catch(Fa)})}function g4(n,e){return w(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield UH(t.localStore,e);mM(t,r,null),gM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ju(t,i)}catch(i){yield Fa(i)}})}function m4(n,e,t){return w(this,null,function*(){let r=te(n);try{let i=yield(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);mM(r,e,t),gM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ju(r,i)}catch(i){yield Fa(i)}})}function gM(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function mM(n,e,t){let r=te(n),i=r.Vu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function MI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||yM(n,r)})}function yM(n,e){n.Eu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(ew(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),aw(n))}function XR(n,e,t){for(let r of t)r instanceof up?(n.Ru.addReference(r.key,e),y4(n,r)):r instanceof lp?($(sw,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||yM(n,r.key)):Y(19791,{wu:r})}function y4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||($(sw,"New document in limbo: "+t),n.Eu.add(r),aw(n))}function aw(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new K(Ve.fromString(e)),r=n.fu.next();n.Au.set(r,new RI(t)),n.du=n.du.insert(t,r),aM(n.remoteStore,new zu(Ir(YI(t.path)),r,"TargetPurposeLimboResolution",$I.ce))}}function Ju(n,e,t){return w(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=oI.As(u.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.Pu.H_(i),yield(function(u,l){return w(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.Es,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!La(p))throw p;$(XI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Ms.get(m),A=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(m,P)}}})})(r.localStore,o))})}function v4(n,e){return w(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){$(sw,"User change. New user:",e.toKey());let r=yield oM(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new z(x.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ju(t,r.Ls)}})}function _4(n,e){let t=te(n),r=t.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let i=fe(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function vM(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.Pu.H_=s4.bind(null,e.eventManager),e.Pu.yu=a4.bind(null,e.eventManager),e}function E4(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}var _M=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=wp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)})}Fu(t,r){return null}Mu(t,r){return null}vu(t){return jH(this.persistence,new aI,t.initialUser,this.serializer)}Cu(t){return new ep(iI.mi,this.serializer)}Du(t){return new lI}terminate(){return w(this,null,function*(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),PI=class extends _M{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){be(this.persistence.referenceDelegate instanceof tp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new zE(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new ep(r=>tp.mi(r,t),this.serializer)}};var I4=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ZR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),yield r4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new CI})()}createDatastore(t){let r=wp(t.databaseInfo.databaseId),i=(function(s){return new gI(s)})(t.databaseInfo);return(function(s,a,u,l){return new _I(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new II(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>ZR(this.syncEngine,r,0),(function(){return rp.v()?new rp:new dI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new NI(o,s,a,u,l,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){yield(function(r){return w(this,null,function*(){let i=te(r);$(Jo,"RemoteStore shutting down."),i.Ea.add(5),yield Yu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()})}}return n.provider={build:()=>new n},n})();var xI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Oi="FirestoreClient",kI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=Vu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){$(Oi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($(Oi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=iw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function iE(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),$(Oi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield oM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function eN(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield w4(n);$(Oi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>QR(e.remoteStore,i)),n._onlineComponents=e})}function w4(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$(Oi,"Using user provided OfflineComponentProvider");try{yield iE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ia("Error using user provided cache. Falling back to memory cache: "+t),yield iE(n,new _M)}}else $(Oi,"Using default OfflineComponentProvider"),yield iE(n,new PI(void 0));return n._offlineComponents})}function EM(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?($(Oi,"Using user provided OnlineComponentProvider"),yield eN(n,n._uninitializedComponentsProvider._online)):($(Oi,"Using default OnlineComponentProvider"),yield eN(n,new I4))),n._onlineComponents})}function D4(n){return EM(n).then(e=>e.syncEngine)}function tN(n){return w(this,null,function*(){let e=yield EM(n),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h4.bind(null,e.syncEngine),t})}function IM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var nN=new Map;var wM="firestore.googleapis.com",rN=!0,dp=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new z(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wM,this.ssl=rN}else this.host=e.host,this.ssl=e.ssl??rN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FH)throw new z(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new z(x.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ka=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oE;switch(r.type){case"firstParty":return new uE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=nN.get(t);r&&($("ComponentProvider","Removing Datastore"),nN.delete(t),r.terminate())})(this),Promise.resolve()}};function DM(n,e,t,r={}){n=ya(n,ka);let i=Po(e),o=n._getSettings(),s=W(R({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(u_(`https://${a}`),l_("Firestore",!0)),o.host!==wM&&o.host!==a&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=W(R({},o),{host:a,ssl:i,emulatorOptions:r});if(!xo(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=mt.MOCK_USER;else{l=mA(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new z(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mt(p)}n._authCredentials=new sE(new Uf(l,h))}}var hp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Qu(t,n._jsonSchema))return new n(e,r||null,new K(Ve.fromString(t.referencePath)))}};qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:it("string",qt._jsonSchemaVersion),referencePath:it("string")};var Ri=class n extends hp{constructor(e,t,r){super(e,t,YI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CM(n,e,...t){if(n=cn(n),cN("collection","path",e),n instanceof ka){let r=Ve.fromString(e,...t);return wR(r),new Ri(n,null,r)}{if(!(n instanceof qt||n instanceof Ri))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return wR(r),new Ri(n.firestore,null,r)}}function cw(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Vu.newId()),cN("doc","path",e),n instanceof ka){let r=Ve.fromString(e,...t);return IR(r),new qt(n,null,new K(r))}{if(!(n instanceof qt||n instanceof Ri))throw new z(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ve.fromString(e,...t));return IR(r),new qt(n.firestore,n instanceof Ri?n.converter:null,new K(r))}}var iN="AsyncQueue",fp=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ip(this,"async_queue_retry"),this._c=()=>{let r=rE();r&&$(iN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=rE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=rE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return w(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!La(e))throw e;$(iN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",oN(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=wI.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:oN(this.nc)})}verifyOperationInProgress(){}Tc(){return w(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function oN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function sN(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Zo=class extends ka{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fp(e),this._firestoreClient=void 0,yield e}})}};function TM(n,e){let t=typeof n=="object"?n:ca(),r=typeof n=="string"?n:e||zf,i=pf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pA("firestore");o&&DM(i,...o)}return i}function bM(n){if(n._terminated)throw new z(x.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C4(n),n._firestoreClient}function C4(n){let e=n._freezeSettings(),t=(function(i,o,s,a){return new pE(i,o,s,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,IM(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kI(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var Ni=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Nt.fromBase64String(e))}catch(t){throw new z(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:it("string",Ni._jsonSchemaVersion),bytes:it("string")};var Ku=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pp=class{constructor(e){this._methodName=e}};var Mi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Qu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:it("string",Mi._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};var Pi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:it("string",Pi._jsonSchemaVersion),vectorValues:it("object")};var T4=/^__.*__$/,OI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yo(e,this.data,t,this.fieldTransforms)}};function SM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:n})}}var FI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new n(R(R({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){let t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SM(this.Ac)&&T4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},LI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wp(e)}Cc(e,t,r,i=!1){return new FI({Ac:e,methodName:t,Dc:r,path:un.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function b4(n){let e=n._freezeSettings(),t=wp(n._databaseId);return new LI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S4(n,e,t,r,i,o={}){let s=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);MM("Data must be an object, but it was:",s,r);let a=RM(r,s),u,l;if(o.merge)u=new _r(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=A4(e,p,t);if(!s.contains(m))throw new z(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);N4(h,m)||h.push(m)}u=new _r(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new OI(new Kn(a),u,l)}function AM(n,e){if(NM(n=cn(n)))return MM("Unsupported field value:",e,n),RM(n,e);if(n instanceof pp)return(function(r,i){if(!SM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=AM(a,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:Zf(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zf(i.serializer,o)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ni)return{bytesValue:JN(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ZI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pi)return(function(s,a){return{mapValue:{fields:{[zI]:{stringValue:GI},[Da]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Sc("VectorValues must only contain numeric values.");return JI(a.serializer,l)})}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${BI(r)}`)})(n,e)}function RM(n,e){let t={};return CN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(r,i)=>{let o=AM(i,e.mc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof Mi||n instanceof Ni||n instanceof qt||n instanceof pp||n instanceof Pi)}function MM(n,e,t){if(!NM(t)||!uN(t)){let r=BI(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function A4(n,e,t){if((e=cn(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return PM(n,e);throw gp("Field path arguments must be of type string or ",n,!1,void 0,t)}var R4=new RegExp("[~\\*/\\[\\]]");function PM(n,e,t){if(e.search(R4)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ku(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(x.INVALID_ARGUMENT,a+n+u)}function N4(n,e){return n.some(t=>t.isEqual(e))}var mp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new VI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},VI=class extends mp{data(){return super.data()}};function xM(n,e){return typeof e=="string"?PM(n,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}function M4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jI=class{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Xo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[Da].arrayValue?.values?.map(r=>Oe(r.doubleValue));return new Pi(t)}convertGeoPoint(e){return new Mi(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=_p(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){let t=Gr(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ve.fromString(e);be(rM(r),9688,{name:e});let i=new Gf(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function P4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var qo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zo=class n extends mp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _a(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(xM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};zo._jsonSchemaVersion="firestore/documentSnapshot/1.0",zo._jsonSchema={type:it("string",zo._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};var _a=class extends zo{data(e={}){return super.data(e)}},Ea=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _a(this._firestore,this._userDataWriter,r.key,r,new qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new _a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new _a(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:x4(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function x4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:it("string",Ea._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};var yp=class extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function kM(n){return FM(ya(n.firestore,Zo),[new Hu(n._key,Ai.none())])}function OM(n,e){let t=ya(n.firestore,Zo),r=cw(n),i=P4(n.converter,e);return FM(t,[S4(b4(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then(()=>r)}function uw(n,...e){n=cn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||sN(e[r])||(t=e[r++]);let i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(sN(e[r])){let u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let o,s,a;if(n instanceof qt)s=ya(n.firestore,Zo),a=YI(n._key.path),o={next:u=>{e[r]&&e[r](k4(s,n,u))},error:e[r+1],complete:e[r+2]};else{let u=ya(n,hp);s=ya(u.firestore,Zo),a=u._query;let l=new yp(s);o={next:h=>{e[r]&&e[r](new Ea(s,l,u,h))},error:e[r+1],complete:e[r+2]},M4(n._query)}return(function(l,h,p,m){let y=new xI(m),A=new bI(h,y,p);return l.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return i4(yield tN(l),A)})),()=>{y.Nu(),l.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return o4(yield tN(l),A)}))}})(bM(s),a,i,o)}function FM(n,e){return(function(r,i){let o=new qr;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return f4(yield D4(r),i,o)})),o.promise})(bM(n),e)}function k4(n,e,t){let r=t.docs.get(e._key),i=new yp(n);return new zo(n,i,e._key,r,new qo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Oa=i})(aa),zn(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zo(new aE(r.getProvider("auth-internal")),new lE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(l.options.projectId,h)})(s,i),s);return o=R({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qe(vR,_R,e),Qe(vR,_R,"esm2020")})();var Tp=function(){return Tp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Tp.apply(this,arguments)};var L4={includeMetadataChanges:!1};function LM(n,e){return e===void 0&&(e=L4),new ae(function(t){var r=uw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function VM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Tp(Tp({},r),(t={},t[e.idField]=n.id,t))}function jM(n){return LM(n,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}function UM(n,e){return e===void 0&&(e={}),jM(n).pipe(ye(function(t){return t.map(function(r){return VM(r,e)})}))}var ts=class{constructor(e){return e}},BM="firestore",lw=class{constructor(){return la(BM)}};var dw=new q("angularfire2.firestore-instances");function V4(n,e){let t=yf(BM,n,e);return t&&new ts(t)}function j4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ts(r)}}var U4={provide:lw,deps:[[new xr,dw]]},B4={provide:ts,useFactory:V4,deps:[[new xr,dw],Vo]};function $M(n,...e){return Qe("angularfire",Fo.full,"fst"),bn([B4,U4,{provide:dw,useFactory:j4(n),multi:!0,deps:[Ce,Xe,Lo,Tu,[new xr,Mf],[new xr,_f],...e]}])}var HM=Gn(UM,!0);var hw=Gn(OM,!0,2);var qM=Gn(CM,!0,2);var zM=Gn(kM,!0,2);var GM=Gn(cw,!0,2);var WM=Gn(TM,!0);var ja=(()=>{class n{constructor(){this.firestore=M(ts),this.questsCollection=qM(this.firestore,"quests"),this._quests=Re([],{}),this.loadQuests()}loadQuests(){HM(this.questsCollection,{idField:"id"}).pipe(ye(r=>r.sort((i,o)=>(o.id??"").localeCompare(i.id??"")))).subscribe(r=>{this._quests.set(r)})}quests(){return this._quests.asReadonly()()}getQuestById(t){return this._quests().find(r=>r.id===t)}addCustomQuest(t){return w(this,null,function*(){let r={title:t.title,description:t.description,xp:t.xp,imageUrl:"assets/default.png",difficulty:"medium"},i=yield hw(this.questsCollection,r)})}deleteQuest(t){return w(this,null,function*(){if(!t)return;let r=GM(this.firestore,"quests",t);yield zM(r)})}addDefaultQuestsIfEmpty(){return w(this,null,function*(){if(this._quests().length===0){let t=[{title:"Find the Lost Sword",description:"Retrieve the legendary sword from the ancient ruins.",xp:40,imageUrl:"assets/sword.png",difficulty:"medium"},{title:"Rescue the Villagers",description:"Save the villagers captured by goblins.",xp:120,imageUrl:"assets/villagers.png",difficulty:"hard"},{title:"Collect Herbs",description:"Gather 10 healing herbs for the village healer.",xp:60,imageUrl:"assets/herbs.png",difficulty:"easy"}];for(let r of t)yield hw(this.questsCollection,r)}})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $4=n=>["/quests",n],H4=(n,e)=>e.id;function q4(n,e){n&1&&(F(0,"p",3),L(1,"Title must be at least 8 characters."),O())}function z4(n,e){if(n&1){let t=Bt();F(0,"div",8)(1,"h3",9),L(2),O(),F(3,"p"),L(4),O(),F(5,"p")(6,"strong"),L(7,"XP:"),O(),L(8),O(),F(9,"button",10),pe("click",function(i){let o=Be(t).$implicit;return ve().deleteQuest(o.id),$e(i.stopPropagation())}),L(10," Delete "),O()()}if(n&2){let t=e.$implicit;Se("routerLink",Bs(4,$4,t.id)),U(2),St(t.title),U(2),St(t.description),U(4),ft(" ",t.xp)}}function G4(n,e){n&1&&(F(0,"p"),L(1,"No quests match your search."),O())}var KM=(()=>{class n{constructor(t){this.questsService=t,this.search=Re("",{}),this.questForm=new Hn({title:new Ct("",{validators:[gt.required,gt.minLength(8)],nonNullable:!0}),description:new Ct("",{validators:[gt.required],nonNullable:!0}),xp:new Ct(0,{validators:[gt.required,gt.min(1)],nonNullable:!0})}),this.filteredQuests=yn(()=>{let r=this.search().toLowerCase();return this.questsService.quests().filter(i=>i.title.toLowerCase().includes(r))},{})}onSearchChange(t){this.search.set(t??"")}createQuest(){return w(this,null,function*(){if(this.questForm.invalid)return;let{title:t,description:r,xp:i}=this.questForm.getRawValue();yield this.questsService.addCustomQuest({title:t,description:r,xp:i}),this.questForm.reset({title:"",description:"",xp:0})})}deleteQuest(t){return w(this,null,function*(){yield this.questsService.deleteQuest(t)})}static{this.\u0275fac=function(r){return new(r||n)(B(ja))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-quests"]],decls:18,vars:5,consts:[[3,"searchChange"],[1,"create-form",3,"formGroup"],["type","text","formControlName","title","placeholder","Title"],[1,"error"],["formControlName","description","placeholder","Description"],["type","number","formControlName","xp","placeholder","XP"],["type","button",1,"create-btn",3,"click","disabled"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-4"],[1,"p-4","bg-gray-800","text-white","rounded-xl","shadow","hover:bg-gray-700","transition","cursor-pointer",3,"routerLink"],[1,"text-xl","font-bold"],[1,"mt-2","bg-red-500","hover:bg-red-600","text-white","px-3","py-1","rounded",3,"click"]],template:function(r,i){if(r&1&&(F(0,"h2"),L(1,"Available Quests"),O(),F(2,"p"),L(3),O(),F(4,"app-search",0),pe("searchChange",function(s){return i.onSearchChange(s)}),O(),F(5,"div",1)(6,"h3"),L(7,"Create New Quest"),O(),ke(8,"input",2),We(9,q4,2,0,"p",3),ke(10,"textarea",4)(11,"input",5),F(12,"button",6),pe("click",function(){return i.createQuest()}),L(13," Create Quest "),O()(),F(14,"div",7),jt(15,z4,11,6,"div",8,H4),We(17,G4,2,0,"p"),O()),r&2){let o;U(3),ft("Total quests: ",i.questsService.quests().length),U(2),Se("formGroup",i.questForm),U(4),Ke((o=i.questForm.get("title"))!=null&&o.invalid&&((o=i.questForm.get("title"))!=null&&o.touched)?9:-1),U(3),Se("disabled",i.questForm.invalid),U(3),Ut(i.filteredQuests()),U(2),Ke(i.filteredQuests().length?-1:17)}},dependencies:[_n,pr,mr,gr,_u,En,Di,jr,Vr,sa],styles:["h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;color:#222}p[_ngcontent-%COMP%]{font-size:1rem;color:#000;margin-bottom:1rem}button[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;border:none;transition:background .2s ease}button.bg-green-500[_ngcontent-%COMP%]{background-color:#22c55e;color:#fff}button.bg-green-500[_ngcontent-%COMP%]:hover{background-color:#16a34a}button.bg-red-500[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}button.bg-red-500[_ngcontent-%COMP%]:hover{background-color:#b91c1c}button.rounded[_ngcontent-%COMP%]{border-radius:.5rem}.grid[_ngcontent-%COMP%]{display:grid;gap:1rem}@media(min-width:640px){.grid-cols-1[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}.sm\\:grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media(min-width:1024px){.lg\\:grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}div[p-4][_ngcontent-%COMP%]{padding:1rem}div.bg-gray-800[_ngcontent-%COMP%]{background-color:#3b3b3b;color:#fff;box-shadow:0 4px 10px #0003;transition:transform .2s ease,background .2s ease}div.bg-gray-800[_ngcontent-%COMP%]:hover{background-color:#374151;transform:translateY(-3px)}h3.text-xl[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:.5rem}p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}div.bg-gray-800[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem;padding:.25rem .5rem;font-size:.9rem}.create-form[_ngcontent-%COMP%]{background:#1f2937;padding:20px;border-radius:12px;margin-bottom:24px;color:#fff;box-shadow:0 4px 12px #0000004d}.create-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:12px;font-weight:600}.create-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:#111827;border:1px solid #374151;padding:10px;border-radius:8px;color:#fff;margin-bottom:12px;font-size:.95rem;transition:border .2s,background .2s}.create-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#3b82f6;background:#0f172a;outline:none}.create-btn[_ngcontent-%COMP%]{width:100%;background:#10b981;padding:10px;border-radius:8px;font-weight:600;transition:.2s;color:#fff}.create-btn[_ngcontent-%COMP%]:disabled{background:#374151;color:#9ca3af;cursor:not-allowed}.create-btn[_ngcontent-%COMP%]:not(:disabled):hover{background:#059669}.error[_ngcontent-%COMP%]{font-size:.85rem;color:#f87171;margin-top:-8px;margin-bottom:12px}"]})}}return n})();function W4(n,e){if(n&1&&(Vn(0,"p")(1,"strong"),L(2,"Difficulty:"),Qt(),L(3),Qt()),n&2){let t=ve(2);U(3),ft(" ",t.quest.difficulty)}}function K4(n,e){if(n&1&&(Vn(0,"div",0)(1,"h2"),L(2),Qt(),Vn(3,"p"),L(4),Qt(),Vn(5,"p")(6,"strong"),L(7,"XP:"),Qt(),L(8),Qt(),We(9,W4,4,1,"p"),Qt()),n&2){let t=ve();U(2),St(t.quest.title),U(2),St(t.quest.description),U(4),ft(" ",t.quest.xp),U(),Ke(t.quest.difficulty?9:-1)}}function Q4(n,e){n&1&&(Vn(0,"p"),L(1,"Quest sa nena\u0161iel."),Qt())}var QM=(()=>{class n{constructor(t,r){this.route=t,this.questsService=r}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.quest=this.questsService.getQuestById(t??"")}static{this.\u0275fac=function(r){return new(r||n)(B(At),B(ja))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-quest-detail"]],decls:2,vars:1,consts:[[1,"quest-detail"]],template:function(r,i){r&1&&We(0,K4,10,4,"div",0)(1,Q4,2,0,"p"),r&2&&Ke(i.quest?0:1)},styles:[".quest-detail[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 12px #00000026;max-width:600px;margin:2rem auto;transition:transform .2s ease,box-shadow .2s ease}.quest-detail[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0003}.quest-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin-bottom:1rem;text-align:center}.quest-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#4b5563;margin-bottom:.75rem;line-height:1.5}.quest-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#111827}p[_ngcontent-%COMP%]{font-size:1rem;color:#ef4444;text-align:center;margin-top:2rem}"]})}}return n})();var ns=[{level:1,xpRequired:0,title:"Novice"},{level:2,xpRequired:100,title:"Apprentice"},{level:3,xpRequired:300,title:"Adept"},{level:4,xpRequired:600,title:"Expert"},{level:5,xpRequired:1e3,title:"Master"},{level:6,xpRequired:2e3,title:"Grandmaster"},{level:7,xpRequired:3500,title:"Legend"},{level:8,xpRequired:5500,title:"Mythic"},{level:9,xpRequired:8e3,title:"Immortal"},{level:10,xpRequired:12e3,title:"Eternal"}];function rs(n){let e=ns[0],t;for(let i=0;i<ns.length;i++)n>=ns[i].xpRequired&&(e=ns[i],t=ns[i+1]);let r=0;if(t){let i=e.xpRequired,o=t.xpRequired;r=(n-i)/(o-i)*100}else r=100;return{level:e,nextLevel:t,progress:r}}var Fi=(()=>{class n{constructor(){this._players=Re([{id:1,nickname:"Alice",xp:0,activeQuests:[],completedQuests:[]},{id:2,nickname:"Bob",xp:0,activeQuests:[],completedQuests:[]},{id:3,nickname:"Cara",xp:0,activeQuests:[],completedQuests:[]}],{})}getAll(){return this._players()}getPlayerById(t){return this._players().find(r=>r.id===t)}addPlayer(t){this._players.update(r=>[...r,t])}removePlayer(t){this._players.update(r=>r.filter(i=>i.id!==t))}addQuest(t,r){this._players.update(i=>i.map(o=>o.id!==t||(o.activeQuests??[]).some(s=>s.id===r.id)?o:W(R({},o),{activeQuests:[...o.activeQuests??[],r]})))}removeQuest(t,r){this._players.update(i=>i.map(o=>o.id!==t?o:W(R({},o),{activeQuests:(o.activeQuests??[]).filter(s=>s.id!==r),completedQuests:(o.completedQuests??[]).filter(s=>s.id!==r)})))}completeQuest(t,r){this._players.update(i=>i.map(o=>{if(o.id!==t)return o;let s=(o.activeQuests??[]).findIndex(h=>h.id===r);if(s===-1)return o;let a=o.activeQuests[s],u=o.activeQuests.filter((h,p)=>p!==s),l=[...o.completedQuests??[],a];return W(R({},o),{activeQuests:u,completedQuests:l})}))}reopenQuest(t,r){this._players.update(i=>i.map(o=>{if(o.id!==t)return o;let s=(o.completedQuests??[]).findIndex(h=>h.id===r);if(s===-1)return o;let a=o.completedQuests[s],u=o.completedQuests.filter((h,p)=>p!==s),l=[...o.activeQuests??[],a];return W(R({},o),{activeQuests:l,completedQuests:u})}))}setPlayerClan(t,r){this._players.update(i=>i.map(o=>o.id===t?W(R({},o),{clanId:r}):o))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Li=(()=>{class n{constructor(){this._clans=Re([{id:"1",name:"Warriors",description:"Strong and proud.",capacity:5,memberIds:[]},{id:"2",name:"Rangers",description:"Stealth and speed.",capacity:4,memberIds:[]}],{})}getAll(){return this._clans()}getById(t){return this._clans().find(r=>r.id===t)}addClan(t){this._clans.update(r=>[...r,t])}removeClan(t){this._clans.update(r=>r.filter(i=>i.id!==t))}addPlayerToClan(t,r){let i=this.getById(t);return!i||(i.memberIds||(i.memberIds=[]),i.memberIds.includes(r))||i.memberIds.length>=i.capacity?!1:(i.memberIds.push(r),this._clans.update(o=>[...o]),!0)}removePlayerFromClan(t,r){let i=this.getById(t);if(!i)return!1;let o=i.memberIds.length;return i.memberIds=i.memberIds.filter(s=>s!==r),i.memberIds.length===o?!1:(this._clans.update(s=>[...s]),!0)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Y4=(n,e)=>e.title,J4=(n,e)=>e.id;function Z4(n,e){n&1&&(F(0,"div",3),L(1," Nickname must have at least 8 characters. "),O())}function X4(n,e){if(n&1&&(F(0,"option",8),L(1),O()),n&2){let t=e.$implicit;Se("ngValue",t.title),U(),ft(" ",t.title," ")}}function eq(n,e){if(n&1){let t=Bt();F(0,"li")(1,"div",11)(2,"span"),L(3),O(),F(4,"span"),L(5),O(),F(6,"div",12),ke(7,"div",13),O(),F(8,"div",14)(9,"button",15),pe("click",function(){let i=Be(t).$implicit,o=ve();return $e(o.goToDetails(i.id))}),L(10,"Details"),O(),F(11,"button",16),pe("click",function(){let i=Be(t).$implicit,o=ve();return $e(o.removePlayer(i.id))}),L(12,"Remove"),O()()()()}if(n&2){let t=e.$implicit,r=ve();U(3),ur(" ",t.nickname," - ",r.getPlayerLevelForPlayer(t).level.title," (Level ",r.getPlayerLevelForPlayer(t).level.level,") "),U(2),ft("- Clan: ",r.getClanName(t)),U(2),Us("width",r.getPlayerLevelForPlayer(t).progress,"%")}}function tq(n,e){n&1&&(F(0,"li"),L(1,"No players found."),O())}var YM=(()=>{class n{constructor(t,r,i){this.router=t,this.playerService=r,this.clansService=i,this.players=Re([],{}),this.playerForm=new Hn({nickname:new Ct("",{validators:[gt.required,gt.minLength(8)],nonNullable:!0})}),this.filterForm=new Hn({levelTitle:new Ct(null)}),this.search=Re("",{}),this.playerLevels=ns,this.filteredPlayers=yn(()=>{let o=this.filterForm.get("levelTitle")?.value,s=this.search().toLowerCase();return this.players().filter(a=>!(o&&rs(a.xp??0).level.title!==o||s&&!a.nickname.toLowerCase().includes(s)))},{}),this.refresh()}refresh(){this.players.set(this.playerService.getAll())}createPlayer(){if(this.playerForm.invalid){this.playerForm.markAllAsTouched();return}let t=this.playerForm.getRawValue(),r={id:Date.now(),nickname:t.nickname,xp:0,activeQuests:[],completedQuests:[]};this.playerService.addPlayer(r),this.playerForm.reset(),this.refresh()}onSearchChange(t){this.search.set(t??"")}goToDetails(t){this.router.navigate(["/players",t])}removePlayer(t){this.playerService.removePlayer(t),this.clansService.getAll().forEach(r=>{r.memberIds.includes(t)&&this.clansService.removePlayerFromClan(r.id,t)}),this.refresh()}getPlayerLevelForPlayer(t){return rs(t.xp??0)}getClanName(t){return t.clanId?this.clansService.getById(t.clanId)?.name??"-":"-"}static{this.\u0275fac=function(r){return new(r||n)(B(pt),B(Fi),B(Li))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-players"]],decls:26,vars:6,consts:[[1,"player-form"],[3,"ngSubmit","formGroup"],["type","text","placeholder","Nickname (min 8 chars)","formControlName","nickname"],[1,"error"],["type","submit",1,"create-btn",3,"disabled"],[1,"filter-form"],[3,"formGroup"],["formControlName","levelTitle"],[3,"ngValue"],[3,"searchChange"],[1,"player-list"],[1,"player-card"],[1,"progress-bar"],[1,"progress"],[1,"actions"],[3,"click"],[1,"danger",3,"click"]],template:function(r,i){r&1&&(F(0,"div",0)(1,"h3"),L(2,"Create New Player"),O(),F(3,"form",1),pe("ngSubmit",function(){return i.createPlayer()}),ke(4,"input",2),We(5,Z4,2,0,"div",3),F(6,"button",4),L(7," Create Player "),O()()(),F(8,"div",5)(9,"h3"),L(10,"Filter by Level"),O(),F(11,"form",6)(12,"select",7)(13,"option",8),L(14,"All Levels"),O(),jt(15,X4,2,2,"option",8,Y4),O()(),F(17,"h3"),L(18,"Search by Nickname"),O(),F(19,"app-search",9),pe("searchChange",function(s){return i.onSearchChange(s)}),O()(),F(20,"h2"),L(21,"Players"),O(),F(22,"ul",10),jt(23,eq,13,6,"li",null,J4),We(25,tq,2,0,"li"),O()),r&2&&(U(3),Se("formGroup",i.playerForm),U(2),Ke(i.playerForm.controls.nickname.invalid&&i.playerForm.controls.nickname.touched?5:-1),U(),Se("disabled",i.playerForm.invalid),U(5),Se("formGroup",i.filterForm),U(2),Se("ngValue",null),U(2),Ut(i.playerLevels),U(8),Ut(i.filteredPlayers()),U(2),Ke(i.filteredPlayers().length?-1:25))},dependencies:[_n,mr,na,ra,ia,gr,Ci,En,Di,jr,Vr,hu,sa],encapsulation:2})}}return n})();var JM=n=>["/quests",n],pw=(n,e)=>e.id;function nq(n,e){if(n&1){let t=Bt();F(0,"span",6),pe("click",function(){Be(t);let i=ve(2);return $e(i.goToClan())}),L(1),O()}if(n&2){let t=ve(2);U(),St(t.clan.name)}}function rq(n,e){n&1&&(F(0,"span"),L(1,"-"),O())}function iq(n,e){if(n&1&&(F(0,"p"),L(1),O()),n&2){let t=ve(2);U(),ft(" XP do \u010Fal\u0161ieho levelu: ",((t.levelInfo==null||t.levelInfo.nextLevel==null?null:t.levelInfo.nextLevel.xpRequired)??0)-t.player.xp," ")}}function oq(n,e){if(n&1){let t=Bt();F(0,"li")(1,"a",7),L(2),O(),L(3),F(4,"button",5),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.completeQuest(i.id))}),L(5,"Ozna\u010Di\u0165 dokon\u010Den\xFD"),O(),F(6,"button",5),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.removeQuest(i.id))}),L(7,"Odstr\xE1ni\u0165"),O()()}if(n&2){let t=e.$implicit;U(),Se("routerLink",Bs(3,JM,t.id)),U(),St(t.title),U(),ft(" (XP: ",t.xp,") ")}}function sq(n,e){n&1&&(F(0,"li"),L(1,"\u017Diadne akt\xEDvne questy"),O())}function aq(n,e){if(n&1){let t=Bt();F(0,"li")(1,"a",7),L(2),O(),L(3),F(4,"button",5),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.reopenQuest(i.id))}),L(5,"Ozna\u010Di\u0165 akt\xEDvny"),O(),F(6,"button",5),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.removeQuest(i.id))}),L(7,"Odstr\xE1ni\u0165"),O()()}if(n&2){let t=e.$implicit;U(),Se("routerLink",Bs(3,JM,t.id)),U(),St(t.title),U(),ft(" (XP: ",t.xp,") ")}}function cq(n,e){n&1&&(F(0,"li"),L(1,"\u017Diadne dokon\u010Den\xE9 questy"),O())}function uq(n,e){if(n&1&&(F(0,"option",4),L(1),O()),n&2){let t=e.$implicit;Se("ngValue",t.id),U(),St(t.title)}}function lq(n,e){if(n&1){let t=Bt();F(0,"h2"),L(1),O(),F(2,"div"),L(3," Clan: "),We(4,nq,2,1,"span",0)(5,rq,2,0,"span"),O(),F(6,"h3"),L(7),O(),F(8,"div",1),ke(9,"div",2),O(),We(10,iq,2,1,"p"),F(11,"h3"),L(12,"Akt\xEDvne questy"),O(),F(13,"ul"),jt(14,oq,8,5,"li",null,pw),We(16,sq,2,0,"li"),O(),F(17,"h3"),L(18,"Dokon\u010Den\xE9 questy"),O(),F(19,"ul"),jt(20,aq,8,5,"li",null,pw),We(22,cq,2,0,"li"),O(),F(23,"h4"),L(24,"Prida\u0165 nov\xFD quest"),O(),F(25,"select",3),sh("ngModelChange",function(i){Be(t);let o=ve();return tv(o.selectedQuestId,i)||(o.selectedQuestId=i),$e(i)}),F(26,"option",4),L(27,"-- Vyber quest --"),O(),jt(28,uq,2,2,"option",4,pw),O(),F(30,"button",5),pe("click",function(){Be(t);let i=ve();return $e(i.addQuest())}),L(31,"Prida\u0165 quest"),O()}if(n&2){let t=ve();U(),St(t.player.nickname),U(3),Ke(t.clan?4:5),U(3),ih(" Level: ",t.levelInfo==null||t.levelInfo.level==null?null:t.levelInfo.level.title," (",t.levelInfo==null||t.levelInfo.level==null?null:t.levelInfo.level.level,") "),U(2),Us("width",t.levelInfo==null?null:t.levelInfo.progress,"%"),U(),Ke(t.levelInfo!=null&&t.levelInfo.nextLevel?10:-1),U(4),Ut(t.player.activeQuests),U(2),Ke(t.player.activeQuests!=null&&t.player.activeQuests.length?-1:16),U(4),Ut(t.player.completedQuests),U(2),Ke(t.player.completedQuests!=null&&t.player.completedQuests.length?-1:22),U(3),oh("ngModel",t.selectedQuestId),U(),Se("ngValue",void 0),U(2),Ut(t.allQuests)}}var ZM=(()=>{class n{constructor(t,r,i,o,s){this.route=t,this.router=r,this.playerService=i,this.clansService=o,this.questsService=s,this.allQuests=[]}ngOnInit(){let t=Number(this.route.snapshot.paramMap.get("id"));this.player=this.playerService.getPlayerById(t),this.player&&(this.player.clanId&&(this.clan=this.clansService.getById(this.player.clanId)),this.allQuests=this.questsService.quests(),this.updateLevel())}updateLevel(){if(!this.player)return;let t=(this.player.completedQuests??[]).reduce((r,i)=>r+(i.xp??0),0);this.player.xp=t,this.levelInfo=rs(t)}addQuest(){if(!this.player||!this.selectedQuestId)return;let t=this.questsService.getQuestById(this.selectedQuestId);if(!t||(this.player.activeQuests??[]).some(i=>i.id===this.selectedQuestId))return;let r={id:t.id,title:t.title,description:t.description,xp:t.xp};this.playerService.addQuest(this.player.id,r),this.refreshPlayer(),this.selectedQuestId=void 0}removeQuest(t){this.player&&(this.playerService.removeQuest(this.player.id,t),this.refreshPlayer())}completeQuest(t){this.player&&(this.playerService.completeQuest(this.player.id,t),this.refreshPlayer())}reopenQuest(t){this.player&&(this.playerService.reopenQuest(this.player.id,t),this.refreshPlayer())}goToClan(){this.clan&&this.router.navigate(["/clan",this.clan.id])}refreshPlayer(){this.player&&(this.player=this.playerService.getPlayerById(this.player.id),this.updateLevel())}static{this.\u0275fac=function(r){return new(r||n)(B(At),B(pt),B(Fi),B(Li),B(ja))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-player-detail"]],decls:2,vars:1,consts:[[1,"clan-link"],[1,"progress-bar"],[1,"progress"],[3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"click"],[1,"clan-link",3,"click"],[3,"routerLink"]],template:function(r,i){r&1&&(F(0,"div"),We(1,lq,32,11),O()),r&2&&(U(),Ke(i.player?1:-1))},dependencies:[_n,cA,ra,ia,Ci,En,t_,hu,pr],styles:["[_nghost-%COMP%]{display:block;max-width:700px;margin:2rem auto;font-family:Inter,sans-serif;color:#1f2937}.player-detail[_ngcontent-%COMP%]{background-color:#f9fafb;border-radius:1rem;padding:2rem;box-shadow:0 4px 12px #00000014}.player-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem}.player-detail[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1.5rem;margin-bottom:.5rem}.player-detail[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.25rem;margin-top:1.5rem;margin-bottom:.5rem}.clan-link[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600;cursor:pointer;text-decoration:underline;transition:color .2s}.clan-link[_ngcontent-%COMP%]:hover{color:#2563eb}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;padding:.75rem 1rem;border-radius:.75rem;margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 6px #0000000d;transition:transform .2s,box-shadow .2s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;color:#111827;text-decoration:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:.375rem;padding:.3rem .6rem;font-weight:500;transition:background-color .2s,transform .1s}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}button.remove-btn[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff}select[_ngcontent-%COMP%]{padding:.4rem .6rem;border-radius:.375rem;border:1px solid #d1d5db;font-size:1rem;margin-right:.5rem;min-width:200px}"]})}}return n})();var dq=(n,e)=>e.id;function hq(n,e){n&1&&(F(0,"div",3),L(1," Name must have at least 8 characters. "),O())}function fq(n,e){n&1&&(F(0,"div",3),L(1," Capacity must be at least 1. "),O())}function pq(n,e){if(n&1){let t=Bt();F(0,"div",8)(1,"div",9)(2,"div",10),L(3),O(),F(4,"div",11),L(5),O()(),F(6,"div")(7,"button",12),pe("click",function(){let i=Be(t).$implicit,o=ve();return $e(o.openDetail(i.id))}),L(8,"Detail"),O(),F(9,"button",13),pe("click",function(){let i=Be(t).$implicit,o=ve();return $e(o.deleteClan(i.id))}),L(10,"Delete"),O()()()}if(n&2){let t=e.$implicit;U(3),ur(" ",t.name," (",t.memberIds==null?null:t.memberIds.length,"/",t.capacity,") "),U(2),ft(" ",t.description," ")}}var XM=(()=>{class n{constructor(t,r,i){this.clansService=t,this.playerService=r,this.router=i,this.clans=Re([],{}),this.search=Re("",{}),this.filteredClans=yn(()=>{let o=this.search().toLowerCase();return this.clans().filter(s=>s.name.toLowerCase().startsWith(o))},{}),this.clanForm=new Hn({name:new Ct("",{validators:[gt.required,gt.minLength(8)]}),description:new Ct(""),capacity:new Ct(5,{validators:[gt.required,gt.min(1)]})}),this.refresh()}refresh(){this.clans.set(this.clansService.getAll())}createClan(){if(this.clanForm.invalid){this.clanForm.markAllAsTouched();return}let t=this.clanForm.getRawValue(),r={id:String(Date.now()),name:t.name,description:t.description,capacity:t.capacity,memberIds:[]};this.clansService.addClan(r),this.clanForm.reset({capacity:5}),this.refresh()}deleteClan(t){let r=this.clansService.getById(t);r&&confirm(`Delete clan "${r.name}"?`)&&(this.clansService.removeClan(t),this.playerService.getAll().forEach(i=>{i.clanId===t&&this.playerService.setPlayerClan(i.id,void 0)}),this.refresh())}openDetail(t){this.router.navigate(["/clan",t])}onSearchChange(t){this.search.set(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Li),B(Fi),B(pt))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-clans"]],decls:23,vars:3,consts:[[1,"clan-page"],[1,"form-card",3,"ngSubmit","formGroup"],["formControlName","name"],[1,"error"],["formControlName","description"],["type","number","formControlName","capacity"],["type","submit"],[3,"searchChange"],[1,"clan-card"],[1,"clan-info"],[1,"title"],[1,"small"],[3,"click"],[1,"danger",3,"click"]],template:function(r,i){r&1&&(F(0,"div",0)(1,"h2"),L(2,"Create New Clan"),O(),F(3,"form",1),pe("ngSubmit",function(){return i.createClan()}),F(4,"label"),L(5," Name: "),ke(6,"input",2),O(),We(7,hq,2,0,"div",3),F(8,"label"),L(9," Description: "),ke(10,"textarea",4),O(),F(11,"label"),L(12," Capacity: "),ke(13,"input",5),O(),We(14,fq,2,0,"div",3),F(15,"button",6),L(16,"Create Clan"),O()(),ke(17,"hr"),F(18,"h2"),L(19,"Clans"),O(),F(20,"app-search",7),pe("searchChange",function(s){return i.onSearchChange(s)}),O(),jt(21,pq,11,4,"div",8,dq),O()),r&2&&(U(3),Se("formGroup",i.clanForm),U(4),Ke(i.clanForm.controls.name.invalid&&i.clanForm.controls.name.touched?7:-1),U(7),Ke(i.clanForm.controls.capacity.invalid&&i.clanForm.controls.capacity.touched?14:-1),U(7),Ut(i.filteredClans()))},dependencies:[_n,mr,na,gr,_u,En,Di,jr,Vr,sa],styles:[".clan-page[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:20px;font-family:Arial,sans-serif}.form-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;background:#fafafa;padding:15px;border-radius:8px;margin-bottom:20px;border:1px solid #ddd}.form-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-card[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:6px;border-radius:4px;border:1px solid #ccc}.form-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;padding:6px 14px}.error[_ngcontent-%COMP%]{color:#c70000;font-size:13px}.clan-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fff;border:1px solid #ddd;padding:10px 12px;border-radius:8px;margin-bottom:10px}.clan-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:16px}button.danger[_ngcontent-%COMP%]{background:#d9534f;color:#fff;border:none;padding:6px 10px;border-radius:4px}"]})}}return n})();var gw=()=>({xp:0}),gq=(n,e)=>e.id;function mq(n,e){if(n&1&&(F(0,"option",3),L(1),O()),n&2){let t=e.$implicit,r=ve(2);Se("ngValue",t.id),U(),ur(" ",t.nickname," (Level ",r.getPlayerLevelForPlayer(t).level.level," - ",r.getPlayerLevelForPlayer(t).level.title,") ")}}function yq(n,e){if(n&1){let t=Bt();F(0,"li")(1,"span",5),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.goToPlayerDetail(i))}),L(2),O(),ke(3,"progress",6),F(4,"button",7),pe("click",function(){let i=Be(t).$implicit,o=ve(2);return $e(o.removePlayer(i))}),L(5," Remove "),O()()}if(n&2){let t,r=e.$implicit,i=ve(2);U(2),ur(" ",((t=i.playerService.getPlayerById(r))==null?null:t.nickname)||"Unknown Player"," (Level ",i.getPlayerLevelForPlayer(i.playerService.getPlayerById(r)??_o(4,gw)).level.level," - ",i.getPlayerLevelForPlayer(i.playerService.getPlayerById(r)??_o(5,gw)).level.title,") "),U(),Se("value",i.getPlayerLevelForPlayer(i.playerService.getPlayerById(r)??_o(6,gw)).progress)}}function vq(n,e){if(n&1){let t=Bt();F(0,"h2"),L(1),O(),F(2,"p"),L(3),O(),F(4,"h3"),L(5,"Add Player"),O(),F(6,"form",0)(7,"select",1)(8,"option",2),L(9,"Select a player"),O(),jt(10,mq,2,4,"option",3,gq),O(),F(12,"button",4),pe("click",function(){Be(t);let i=ve();return $e(i.addPlayer())}),L(13,"Add"),O()(),F(14,"h3"),L(15,"Members"),O(),F(16,"ul"),jt(17,yq,6,7,"li",null,Yy),O()}if(n&2){let t=ve();U(),ur("",t.clan.name," (",t.clan.memberIds==null?null:t.clan.memberIds.length,"/",t.clan.capacity,")"),U(2),St(t.clan.description),U(3),Se("formGroup",t.addPlayerForm),U(2),Se("ngValue",null),U(2),Ut(t.availablePlayers),U(7),Ut(t.clan.memberIds)}}function _q(n,e){n&1&&(F(0,"p"),L(1,"Clan not found."),O())}var eP=(()=>{class n{constructor(t,r,i,o){this.route=t,this.clansService=r,this.playerService=i,this.router=o,this.availablePlayers=[],this.addPlayerForm=new Hn({playerId:new Ct(null,gt.required)})}ngOnInit(){let t=this.route.snapshot.paramMap.get("id")??"";this.clan=this.clansService.getById(t),this.clan&&this.refreshAvailablePlayers()}refreshAvailablePlayers(){if(!this.clan)return;let t=this.playerService.getAll();this.availablePlayers=t.filter(r=>!this.clansService.getAll().some(i=>i.memberIds.includes(r.id)))}addPlayer(){if(!this.clan)return;let t=this.addPlayerForm.value.playerId;if(t==null)return;this.clansService.addPlayerToClan(this.clan.id,t)?(this.playerService.setPlayerClan(t,this.clan.id),this.addPlayerForm.reset(),this.refreshAvailablePlayers()):alert("Cannot add player: either clan is full or player already in another clan.")}removePlayer(t){if(!this.clan)return;this.clansService.removePlayerFromClan(this.clan.id,t)&&(this.playerService.setPlayerClan(t,void 0),this.refreshAvailablePlayers())}goToPlayerDetail(t){this.router.navigate(["/players",t])}getPlayerLevelForPlayer(t){return rs(t?.xp??0)}static{this.\u0275fac=function(r){return new(r||n)(B(At),B(Li),B(Fi),B(pt))}}static{this.\u0275cmp=Le({type:n,selectors:[["app-clan-detail"]],decls:2,vars:1,consts:[[3,"formGroup"],["formControlName","playerId"],["disabled","","selected","",3,"ngValue"],[3,"ngValue"],["type","button",3,"click"],[2,"cursor","pointer","text-decoration","underline","color","blue",3,"click"],["max","100",3,"value"],[2,"margin-left","8px",3,"click"]],template:function(r,i){r&1&&We(0,vq,19,6)(1,_q,2,0,"p"),r&2&&Ke(i.clan?0:1)},dependencies:[_n,mr,na,ra,ia,Ci,En,Di,jr,Vr],styles:["[_nghost-%COMP%]{display:block;max-width:700px;margin:2rem auto;font-family:Inter,sans-serif;color:#1f2937}h2[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:.5rem}h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:1.5rem;margin-bottom:.5rem}p[_ngcontent-%COMP%]{margin-bottom:.75rem;color:#4b5563}select[_ngcontent-%COMP%]{padding:.4rem .6rem;border-radius:.375rem;border:1px solid #d1d5db;margin-right:.5rem;font-size:.95rem}button[_ngcontent-%COMP%]{cursor:pointer;border:none;border-radius:.375rem;padding:.4rem .8rem;font-weight:500;transition:background-color .2s,transform .1s}button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button.add-btn[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}button.remove-btn[_ngcontent-%COMP%]{background-color:#ef4444;color:#fff;margin-left:.5rem}ul[_ngcontent-%COMP%]{list-style-type:none;padding-left:0;margin-top:.5rem}li[_ngcontent-%COMP%]{background-color:#f3f4f6;padding:.6rem 1rem;margin-bottom:.5rem;border-radius:.75rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 1px 4px #0000000d}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#3b82f6;text-decoration:underline}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#2563eb}"]})}}return n})();var tP=[{path:"",component:k0},{path:"quests",component:KM},{path:"quests/:id",component:QM},{path:"players",component:YM},{path:"players/:id",component:ZM},{path:"clan",component:XM},{path:"clan/:id",component:eP}];var Eq=()=>({exact:!0}),nP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Le({type:n,selectors:[["app-header"]],decls:12,vars:2,consts:[[1,"app-header"],[1,"menu"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/quests","routerLinkActive","active"],["routerLink","/clan","routerLinkActive","active"],["routerLink","/players","routerLinkActive","active"]],template:function(r,i){r&1&&(F(0,"header",0)(1,"h1"),L(2,"Quest OverFlow"),O(),F(3,"nav",1)(4,"a",2),L(5,"Home"),O(),F(6,"a",3),L(7,"Quests"),O(),F(8,"a",4),L(9,"Clans"),O(),F(10,"a",5),L(11,"Players"),O()()()),r&2&&(U(4),Se("routerLinkActiveOptions",_o(1,Eq)))},dependencies:[pr,zv],styles:[".app-header[_ngcontent-%COMP%]{background-color:#282c34;color:#fff;padding:1rem;text-align:center;border-radius:8px}.menu[_ngcontent-%COMP%]{margin-top:.5rem}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 1rem;font-weight:700;transition:color .2s ease-in-out}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#61dafb}.menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{text-decoration:underline}"]})}}return n})();var rP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Le({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(r,i){r&1&&(ke(0,"app-header"),F(1,"main",0),ke(2,"router-outlet"),O())},dependencies:[au,nP],styles:["[_nghost-%COMP%]{--content-padding: 10px}header[_ngcontent-%COMP%]{display:block;height:60px;padding:var(--content-padding);box-shadow:0 5px 25px var(--shadow-color)}.content[_ngcontent-%COMP%]{padding:var(--content-padding)}"]})}}return n})();var Iq={apiKey:"AIzaSyBjdYRHO0xPvlBDBu9USu986ENcquO_Z4s",authDomain:"angular-b02e9.firebaseapp.com",projectId:"angular-b02e9",storageBucket:"angular-b02e9.firebasestorage.app",messagingSenderId:"411151949286",appId:"1:411151949286:web:103eb2a6522f85ddd3ca27",measurementId:"G-7P0XHYK2TY"};vv(rP,{providers:[lS({eventCoalescing:!0}),Gv(tP),BA(()=>$A(Iq)),$M(()=>WM())]});
